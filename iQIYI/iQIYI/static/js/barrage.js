!function(e){function t(i){if(a[i])return a[i].exports;var n=a[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var a={};t.m=e,t.c=a,t.d=function(e,a,i){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=21)}([function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var RIIsLogin=__webpack_require__(28),customEvent=Q.event.customEvent,callbackList=[],UserInfo=Q.Class("UserInfo",{properties:{uid:"",name:"",phone:"",icon:"",email:"",deadline_date:"",deadline_t:"",deadline_day:"",level:"",vipType:"",payType:"",remind:"",status:"",isThirdParty:!1,thirdPartyFrom:"",type:"",mobile:"",vip:!1,mediaBigVUser:!1,isTennisVIP:!1,tennisInfo:{},shareProfitUser:void 0,verifyClass:"",lockedVip:!1,expireVip:!1,expectPayVip:!1,mobilePayVip:!1,bindedSNS:null,isLoginInfo:null,accounts:null,tokens:null,subaccount:null,surplus:"",isAwardVip:!1,pps:!1,isAutoRenew:!1,isHitUser:null,isAbLogin:null},construct:function(){this.hasVipInfo=!1,this.isValidVip=!1},methods:{init:function(){this.bindEvent(),this.checkUserInfo()},bindEvent:function(){customEvent.on("login",this.doLogin.bind(this)),customEvent.on("logout",this.doLogout.bind(this))},doLogin:function(){this.checkUserInfo()},doLogout:function(){this.clearUserInfo()},checkUserInfo:function(){if(this.isLogin()){var p00002=Q.cookie.get("P00002");null!==p00002&&""!==p00002&&(p00002=window.JSON?window.JSON.parse(p00002):eval("("+p00002+")"),this.uid=p00002.uid,this.name=p00002.nickname,this.email=p00002.email)}},getAuthCookies:function(){var e=Q.cookie.get("P00001");return"deleted"===e&&(e=""),e},checkVipInfo:function(e,t){this.isLogin()&&(this.hasVipInfo?e&&e(t?this[t]:""):this.getInfoFromInterface(e,t))},getInfoFromInterface:function(e,t){var a=this;if(a.isLoginInfo)e&&e(t?a[t]:"");else if(callbackList&&callbackList.length)callbackList.push({cb:e,param:t});else{callbackList.push({cb:e,param:t});var i={};i.param=i.param||{},i.dataType="jsonp";var n=new RIIsLogin;n.sendInfoAction(i,function(e){if("A00005"==e.code||"A00055"==e.code||"P00806"==e.code)relogin.reLogin(e),window.lib.__callbacks__.logout_callback(e);else{"A00000"==e.code?(a.setVipInfo(e.data||{}),a.isLoginInfo=e.data.userInfo||{},a.phone=e.data.userInfo.phone||" ",a.icon=e.data.userInfo.icon||" ",a.thirdPartyFrom="10"):a.clearVipInfo();for(var t;callbackList&&callbackList.length>0;)try{var i=callbackList.shift();t="A00000"==e.code&&(i.param?a[i.param]:""),i.cb&&("shareProfitUser"===i.param?i.cb(t,a.verifyClass):i.cb(t))}catch(e){}}})}},isMain:function(e){var t="";try{for(var a=0;a<e.length;a++)!0===e[a].is_main&&(t=e[a].type)}catch(e){}return t},getIsLoginInfo:function(e){var t=this;t.isLoginInfo?e&&e(t.isLoginInfo):t.getInfoFromInterface(function(a){a||""===a?e&&e(t.isLoginInfo):e&&e({})})},setVipInfo:function(e){var t=e.vipInfo||{},a=e.tennisVipInfo||{},i=parseFloat(t.type,10),n=parseFloat(a.type,10)||0;parseFloat(a.status,10);if(this.isAwardVip=!!e.award_vip,this.vip=!!i,t.level&&(this.level=t.level+""),i){var o=0;t.deadline&&(o=t.deadline.t,this.deadline_t=o,this.deadline_date=t.deadline.date+"",this.deadline_day=t.surplus),this.vipType=t.vipType+"",this.payType=t.payType+"",this.remind=void 0,this.status=t.status+"",this.type=t.type+"",this.mobile=t.mobile+"",this.lockedVip="1"==t.type&&"2"==t.status,this.expireVip="1"==t.type&&"3"==t.status,this.expectPayVip="1"==t.type&&"1"==t.status&&"0"==t.payType,this.mobilePayVip="1"==t.type&&"1"==t.status&&"1"==t.payType,this.surplus=t.surplus+"",this.hasVipInfo=!0,this.isValidVip="1"==t.status,this.autoRenew=t.autoRenew}this.tennisInfo=Q.extend(this.tennisInfo,a),this.isTennisVIP=!!n},clearUserInfo:function(){this.uid="",this.name="",this.icon="",this.email="",this.phone="",this.clearVipInfo(),this.shareProfitUser=void 0,this.mediaBigVUser=!1,this.bindedSNS=null,this.isLoginInfo=null,this.accounts=null,this.tokens=null,this.subaccount=null,this.thirdPartyFrom="",this.isHitUser="",this.isAbLogin="",this.isTennisVIP=!1,this.tennisInfo={}},clearVipInfo:function(){this.deadline_date="",this.deadline_day="",this.deadline_t="",this.level="",this.vipType="",this.payType="",this.remind="",this.status="",this.type="",this.mobile="",this.vip=!1,this.lockedVip=!1,this.expireVip=!1,this.expectPayVip=!1,this.mobilePayVip=!1,this.hasVipInfo=!1,this.surplus="",this.isValidVip=!1,this.autoRenew=!1},isLogin:function(){return""!==Q.cookie.get("P00002")&&null!==Q.cookie.get("P00002")&&"deleted"!==Q.cookie.get("P00002")&&""!==Q.cookie.get("P00003")&&null!==Q.cookie.get("P00003")&&"deleted"!==Q.cookie.get("P00003")},getUid:function(){return this.uid},getVipType:function(e){return this.checkVipInfo(e,"vipType"),this.vipType},getStatus:function(e){return this.checkVipInfo(e,"status"),this.status}}}),userInfo=new UserInfo;userInfo.init(),module.exports={isLogin:function(){return userInfo.isLogin()},getAuthCookies:function(){return userInfo.getAuthCookies()},getUid:function(){return userInfo.getUid()},getVipType:function(e){var t=Q.cookie.get("QC179");if(!(t=t&&JSON.parse(t)||"")||!String(t.vipTypes))return userInfo.getVipType(e);e(t.vipTypes)},getStatus:function(e){return userInfo.getStatus(e)}}}.call(exports,__webpack_require__,exports,module))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(e,t,a){var i;void 0!==(i=function(e,t,i){function n(e,t){var a=document.getElementsByTagName("HEAD").item(0),i=document.createElement("script");i.type="text/javascript",i.src="//stc.iqiyipic.com/js/sdkpack/sdkpackmanager.js",a.appendChild(i);var n=navigator.userAgent.toLowerCase(),o=/msie/.test(n)&&/compatible/.test(n);"function"==typeof t&&(o?i.onreadystatechange=function(){/loaded|complete/.test(oScript.readyState)&&t.call(this,e)}:i.onload=function(){t.call(this,e)})}var o,s,r,l=a(15),c=!1,d=!1;i.exports={initLogin:function(e){var t=this;window.sdkPackManager?(sdkPackManager.set({business:1}),sdkPackManager.require("login",function(a){a.init(),t.openLoginRegWindow(e)}),c=!0):c||n({},function(){sdkPackManager.set({business:1}),sdkPackManager.require("login",function(a){a.init(),t.openLoginRegWindow(e)}),c=!0})},init:function(){window.addEventListener("message",function(e){e.origin!==window.location.href.match(/^[\w]+:\/\/[^\/]+/)[0]&&"http://www.iqiyi.com"!==e.origin&&"https://www.iqiyi.com"!==e.origin&&"http://passport.iqiyi.com"!==e.origin&&"https://passport.iqiyi.com"!==e.origin||("login"===e.data.type&&Q.event.customEvent.fire({type:"login"}),"logout"===e.data.type&&Q.event.customEvent.fire({type:"logout"}),"registed"===e.data.type&&Q.event.customEvent.fire({type:"registed"}))},!1)},openLoginRegWindow:function(e){o=sdkPackManager.login;var t=function(e){o.loginSource&&l.sendClickPingback({},"loginSource",{lsource:o.loginSource}),Q.event&&(Q.event.customEvent.fire({type:"login"}),d&&(Q.event.customEvent.fire({type:"afterCloseWindow"}),d=!1))},a=function(e){Q.event&&Q.event.customEvent.fire({type:"logout"})},i=function(e){d&&Q.event&&(Q.event.customEvent.fire({type:"afterCloseWindow"}),d=!1)};o.openLoginRegWindow(e),o.on("login",t),o.on("logout",a),o.on("qipaLoginIfrHide",i)},openLoginWindow:function(e){if(e=e||{},!sdkPackManager||!sdkPackManager.login)return void this.initLogin(e);this.openLoginRegWindow(e),d=!0,Q.event&&Q.event.customEvent.fire({type:"afterOpenWindow"})},onLogout:function(e){r=e},onLogin:function(e){s=e}}}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(17),o=a(18);i.exports=Q.Class("Adapter",{construct:function(e){e=e||{};var t=e.model,a=e.view;t instanceof n&&(this._model=t,this._model.init(this)),a instanceof o&&(this._view=a,this._view.init(this))},methods:{notice:function(e){if(!e.hasOwnProperty("type"))throw'The ctrlClass method "notice" argument is not Meet the standard!';this._fire(e)},_fire:function(e){this.events&&this.events.hasOwnProperty(e.type)&&this.events[e.type].call(this,e)},syncGet:function(e){if(this._model)var t=this._model.get(e);this._view&&this._view.update(t)},asyncGet:function(e){if(!this._model)return!1;var t=this;this._model.get(e,function(e){t._view&&t._view.update(e)})},syncSet:function(e){if(this._model)var t=this._model.set(e);this._view&&this._view.update(t)},asyncSet:function(e){if(!this._model)return!1;var t=this;this._model.set(e,function(e){t._view&&t._view.update(e)})}}})}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(8),o=a(4);i.exports=Q.Class("barrageInterface",{construct:function(){var e=this._getBadgeInterQuery();this._remoteInterface=new n({publish:{url:"https://bar-i.iqiyi.com/myna-api/publish"},getStarBarrage:{url:"http://bar.i.iqiyi.com/myna-api/get_time_bullets"},getSortedBullets:{url:"http://bar.i.iqiyi.com/myna-api/get_sorted_bullets"},getTotalBarrage:{url:"//cmts.iqiyi.com/emoticon/ep_config.json"},syncMask:{url:"https://bar-i.iqiyi.com/myna-api/syncMask"},gift:{url:"https://bar-i.iqiyi.com/myna-gift/v1/gift/draw"},report:{url:"https://bar-i.iqiyi.com/myna-api/report"},hasRoleBarrage:{url:"//pcw-api.iqiyi.com/video/video/barragecontrol"},getUserScore:{url:"//community.iqiyi.com/openApi/user/info"},consumeScore:{url:"//community.iqiyi.com/openApi/score/consume"},getUserBadge:{url:"//community.iqiyi.com/openApi/task/execute?"+e},errorLog:{url:"//pcw-api.iqiyi.com/barrage/monitor"}})},methods:{_getBadgeInterQuery:function(){var e={appKey:"basic_pcw",task_code:"growth_achievement_list",timestamp:+new Date},t=this._getSign(e);e.sign=t;var a=[];return Q.each(e,function(e,t){a.push(e+"="+t)}),a.join("&")},_getSign:function(e){var t=[];for(var a in e){var i=a+"="+e[a];t.push(i)}t.push("UKobMjDMsDoScuWOfp6F");var n=t.join("|");return Q.crypto.md5(n)},getRoleInfo:function(e,t){var a=null;window.XMLHttpRequest&&(a=new XMLHttpRequest),null!=a&&(a.open("GET","//cmts.iqiyi.com/bullet/avatar.z?param=test",!0),a.responseType="arraybuffer",a.send(null),a.onload=function(e){t(a,this)},a.onerror=function(e){o.sendErrorLog({err:"avatarErr"})})},getUserScore:function(e,t){e=e||{},this._remoteInterface.send({ifname:"getUserScore",param:e,cors:!0,method:"GET",withCredentials:!0},function(a){t&&t(a,e)})},consumeScore:function(e,t){e=e||{},this._remoteInterface.send({ifname:"consumeScore",param:e,cors:!0,method:"GET",withCredentials:!0},function(a){t&&t(a,e)})},getUserBadge:function(e,t){var a=this._getBadgeInterQuery(),i="//community.iqiyi.com/openApi/task/execute?"+a;Q.ajax(i,{data:JSON.stringify(e),crossDomain:!0,method:"post",contentType:"application/json;charset=UTF-8",dataType:"json",success:t,error:t})},hasRoleBarrage:function(e,t){e=e||{};try{this._remoteInterface.send({dataType:"jsonp",ifname:"hasRoleBarrage",param:e,cors:!0,method:"GET",timeout:3e3,withCredentials:!0},function(a){"A00000"!==a.code&&o.sendErrorLog({err:"hasRoleBarrage1"}),t&&t(a,e)})}catch(e){o.sendErrorLog({err:"hasRoleBarrage2"})}},requestTotalBarrgae:function(e,t){e=e||{},this._remoteInterface.send({dataType:"jsonp",ifname:"getTotalBarrage",param:e,cors:!0,method:"GET",withCredentials:!0},function(a){t&&t(a,e)})},requestUniqueBarrgae:function(e,t){e=e||{},this._remoteInterface._remoteInterfaces.getUniqueBarrage={url:e.url},this._remoteInterface.send({dataType:"jsonp",ifname:"getUniqueBarrage",param:{},cors:!0,method:"GET",withCredentials:!0},function(a){t&&t(a,e)})},send:function(e,t){e=e||{},e.callback="bar"+(new Date).getTime(),this._remoteInterface.send({dataType:"jsonp",ifname:"publish",param:e,cors:!0,method:"POST",withCredentials:!0},function(a){t&&t(a,e)})},requestStarBarrgae:function(e,t){e=e||{},e.callback="bar"+(new Date).getTime(),this._remoteInterface.send({dataType:"jsonp",ifname:"getStarBarrage",param:e,cors:!0,method:"GET",withCredentials:!0},function(a){t&&t(a,e)})},requestSortedBullets:function(e,t){e=e||{},e.callback="bar"+(new Date).getTime(),this._remoteInterface.send({dataType:"jsonp",ifname:"getSortedBullets",param:e,cors:!0,method:"GET",withCredentials:!0},function(a){t&&t(a,e)})},syncMask:function(e,t){e=e||{},this._remoteInterface.send({dataType:"jsonp",ifname:"syncMask",param:e,cors:!0,method:"GET",withCredentials:!0},function(a){t&&t(a,e)})},openGift:function(e,t){e=e||{},this._remoteInterface.send({dataType:"jsonp",ifname:"gift",param:e,cors:!0,method:"GET",withCredentials:!0,timeout:2e3},function(a){t&&t(a,e)})},report:function(e,t){e=e||{},this._remoteInterface.send({dataType:"jsonp",ifname:"report",param:e,cors:!0,method:"GET",withCredentials:!0},function(a){t&&t(a,e)})},sendErrorLog:function(e){var t={business:"danmu",rpage:encodeURIComponent(window.location.href),uid:userInfo.isLogin()?userInfo.getUid():"",tvid:e.tvid||Q.PageInfo.playPageInfo.tvId,err:e.err,danmuEle:e.danmuEle||Q("#qyBarrageVue").children().length||0,danmuShow:e.danmuShow||Q("#qyBarrageVue").css("display")||"",danmukaiguan:e.danmukaiguan||Q('[data-barrage-status="show"]').hasClass("barrage-switch-open")||"",dfp:Q.cookie.get("QC005"),userAgent:window.navigator.userAgent,tn:(new Date).getTime()};this._remoteInterface.send({dataType:"jsonp",ifname:"errorLog",param:t,cors:!0,method:"GET",withCredentials:!0},function(e){callback&&callback(e,t)})}}})}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i,n=a(25),o=function(e){if("function"==typeof getCookie)return getCookie(e);for(var t=document.cookie,a=t.split("; "),i=0;i<a.length;i++){var n=a[i].split("=");if(n[0]==e)return n[1]}};void 0!==(i=function(e,t,a){a.exports={sendErrorLog:function(e){var t=document.querySelector('[data-barrage-status="show"]'),a=t&&Array.prototype.slice.call(t.classList)||[],i=a.indexOf("barrage-switch-open")>=0;i=i+"&"+(o("QC179")&&JSON.parse(o("QC159")).isOpen);var s={business:"danmu",rpage:encodeURIComponent(window.location.href),uid:o("P00003")||window.getCookieByName("P00010")||"",tvid:Q.PageInfo.playPageInfo.tvId,err:e.err,danmuEle:e.danmuEle||document.querySelector("#qyBarrageVue").children.length||0,danmuShow:e.danmuShow||document.querySelector("#qyBarrageVue").style.display||"",danmukaiguan:i,dfp:o("QC005"),userAgent:window.navigator.userAgent,tn:(new Date).getTime()};n.jsonp({url:"//pcw-api.iqiyi.com/barrage/monitor",params:s,fixedCallback:"barrageMonitor",success:function(e){},failure:function(){}})}}}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(29),o=a(30),s=function(e,t){var a=t.ns&&t.ns+"."+e;if(a)try{var i=new Function("return "+a)();if(i)return i}catch(e){}var s=t.extend||o,r=function(){},l=t.plugins||[];r.prototype=s.prototype;var c,d=t.construct||function(){},u=t.properties||{},h=t.methods||{},f=t.statics||{},p=new r;for(c in p)p.hasOwnProperty(c)&&delete p[c];for(c in u)p[c]=u[c];for(c in h)p[c]=h[c];for(var g=0;g<l.length;g++){var v=l[g];for(c in v)p[c]=v[c]}p.constructor=d,p.superclass=s,p.superinstance=new r,p.__NAME__=e,d.prototype=p;for(c in f)d[c]=f[c];return a&&n(a,d),d};i.exports=s}.call(t,a,t,e))&&(e.exports=i)},function(e,t){var a;a=function(){return this}();try{a=a||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(a=window)}e.exports=a},function(e,t,a){var i;void 0!==(i=function(e,t,a){a.exports=window}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(31),o=a(32),s=a(5),r=a(33),l=new r({moduleName:"RemoteInterface"}),c=s("RemoteInterface",{construct:function(e){this._remoteInterfaces=e},methods:{send:function(e,t){var a=e.ifname,i=e.param,s=e.method||"GET",r=e.jsonp,c=e.spliter||"1",d=this,u=this._getIfData(a),h=new Date,f=e.timeout||2e4,p=e.withCredentials,g=e.ifr,v=e.dataType,m=e.P00001||"",b={data:i,dataType:v,method:s,jsonp:r,spliter:c,cors:e.cors,withCredentials:p,timeout:f,ifr:g,memory:e.memory,encodeFn:e.encodeFn,jsonpCallback:e.jsonpCallback,onsuccess:function(e,o){new Date-h>5e3&&(l.log("RemoteInterface ["+a+"] timeout."),l.log("RemoteInterface ["+u.url+"] timeout.")),(r||"object"==typeof i&&("varname"in i||"cb"in i))&&("code"in o||(o={code:"A00000",data:o}));try{l.log("send url : "+d._getUrl(u.url,i)+", Check result : "+n.check(u.struct,o))}catch(e){l.error("RemoteInterface error url "+u.url+";error message "+e.message)}t&&t(o)},onfailure:function(e,a){l.error("RemoteInterface onfailure url: "+u.url),l.error("RemoteInterface data: "+JSON.stringify(a)),t&&t(a||{code:"E00000"})}};e.antiCsrf&&m&&(b.data=b.data||{},b.data.antiCsrf=Q.crypto.md5(m)),e.guard&&m&&(b.data=b.data||{},b.data.d41fc5=1*new Date+"",b.data.ea166b=Q.crypto.md5(m+"789f23df6ebb918b767638003f1e52f4"+b.data.d41fc5));var y=u.url;e.rhf8vg&&(i.isFromSafeLevel="1",y=o(u.url,i,e.safePlatFormKey,e.safeSrckeyKey,e.domain).fullUrl,b.data={}),e.startTime=+new Date,Q.http.json(y,b)},_getIfData:function(e){return this._remoteInterfaces[e]||this._remoteInterfaces},_log:function(e){l.log("iferror"+e)},_getUrl:function(e,t){var a=[];for(var i in t)a.push(i+"="+t[i]);return e+"?"+a.join("&")}}});i.exports=c}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){a.exports={SITE_DOMAIN:"iqiyi.com",getDomain:function(){if("file:"==location.protocol)return this.SITE_DOMAIN;var e=window.location.hostname.split(".");return e=e.slice(e.length-2),e.join(".")},isPPS:function(){var e=this.getDomain();return-1!==e.indexOf("pps.tv")}}}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(9);i.exports={getConfig:function(e,t){var a=Q.cookie.get(t)||{};try{a=JSON.parse(a),e.cookieConfig=a}catch(e){}return a||{}},extendConfig:function(e,t,a){var i=this.getConfig(e,t);Q.object.extend(i,a),e.cookieConfig=i;var o=JSON.stringify(i);Q.cookie.set(t,o,{path:"/",domain:n.SITE_DOMAIN,expires:31536e6})}}}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(0);i.exports={isValidVip:function(e){var t=!1;n.isLogin()?n.getVipType(function(a){a=String(a),a=a.split(","),a.indexOf("1")>=0||a.indexOf("4")>=0||a.indexOf("16")>=0?(t=!0,e(t)):e(t)}):e(t)}}}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){function i(e){d=d||window.SDK.vipPay;var t={type:"vipPay"};d.load(t,function(){window.SDK.vipPaySdk.init(e)})}function n(){}function o(){f&&Q.event&&(Q.event.customEvent.fire({type:"afterCloseWindow"}),f=!1)}function s(){}function r(e){l(u,function(){e&&e()})}function l(e,t){var a=document.getElementsByTagName("HEAD").item(0),i=document.createElement("script");i.type="text/javascript",i.src=e,a.appendChild(i);var n=navigator.userAgent.toLowerCase();/msie/.test(n)&&/compatible/.test(n)?i.onreadystatechange=function(){/loaded|complete/.test(i.readyState)&&t&&t()}:i.onload=function(){t&&t()}}function c(e){var t=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),a=t.exec(document.cookie);return a?a[2]||null:null}var d,u="//static.iqiyi.com/js/qiyiVipPay/ver.js?v="+Math.random(),h=!1,f=!1;a.exports={initVipPay:function(e){var t={register:{successPayEve:n,closeFloaterEve:o,showFloaterEve:s},loadData:{source:"pcw",fc:e&&e.fc||"",albumId:e&&e.aid||"678278900",product:"gold",QC005:c("QC005"),packageAmount:"12",platform:"b6c13e26323c537d",startTimeStamp:(new Date).getTime()}};window.SDK&&window.SDK.vipPay?i(t):!1===h&&(r(function(){i(t)}),h=!0),f=!0,Q.event&&Q.event.customEvent.fire({type:"afterOpenWindow"})}}}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){a.exports={addCSS:function(e,t){for(var a=document.getElementsByTagName("link"),i=0;i<a.length;i++)if(a[i].href.indexOf(e)>=0)return void(t&&t());var n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e,document.getElementsByTagName("head")[0].appendChild(n);var o=navigator.userAgent.toLowerCase();/msie/.test(o)&&/compatible/.test(o)?n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&t&&t()}:n.onload=function(){t&&t()}},addJavascript:function(e,t){var a=document.getElementsByTagName("HEAD").item(0),i=document.createElement("script");i.type="text/javascript",i.src=e,a.appendChild(i);var n=navigator.userAgent.toLowerCase();/msie/.test(n)&&/compatible/.test(n)?i.onreadystatechange=function(){/loaded|complete/.test(i.readyState)&&t&&t()}:i.onload=function(){t&&t()}}}}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){var i=function(){var e=function(e,t){return e<<t|e>>>32-t},t=function(e,t){var a,i,n,o,s;return n=2147483648&e,o=2147483648&t,a=1073741824&e,i=1073741824&t,s=(1073741823&e)+(1073741823&t),a&i?2147483648^s^n^o:a|i?1073741824&s?3221225472^s^n^o:1073741824^s^n^o:s^n^o},a=function(e,t,a){return e&t|~e&a},i=function(e,t,a){return e&a|t&~a},n=function(e,t,a){return e^t^a},o=function(e,t,a){return t^(e|~a)},s=function(i,n,o,s,r,l,c){return i=t(i,t(t(a(n,o,s),r),c)),t(e(i,l),n)},r=function(a,n,o,s,r,l,c){return a=t(a,t(t(i(n,o,s),r),c)),t(e(a,l),n)},l=function(a,i,o,s,r,l,c){return a=t(a,t(t(n(i,o,s),r),c)),t(e(a,l),i)},c=function(a,i,n,s,r,l,c){return a=t(a,t(t(o(i,n,s),r),c)),t(e(a,l),i)},d=function(e){for(var t,a=e.length,i=a+8,n=(i-i%64)/64,o=16*(n+1),s=Array(o-1),r=0,l=0;l<a;)t=(l-l%4)/4,r=l%4*8,s[t]=s[t]|e.charCodeAt(l)<<r,l++;return t=(l-l%4)/4,r=l%4*8,s[t]=s[t]|128<<r,s[o-2]=a<<3,s[o-1]=a>>>29,s},u=function(e){var t,a,i="",n="";for(a=0;a<=3;a++)t=e>>>8*a&255,n="0"+t.toString(16),i+=n.substr(n.length-2,2);return i},h=function(e){e=e.replace(/\x0d\x0a/g,"\n");for(var t="",a=0;a<e.length;a++){var i=e.charCodeAt(a);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t};return function(e){e+="";var a,i,n,o,f,p,g,v,m,b=Array();for(e=h(e),b=d(e),p=1732584193,g=4023233417,v=2562383102,m=271733878,a=0;a<b.length;a+=16)i=p,n=g,o=v,f=m,p=s(p,g,v,m,b[a+0],7,3614090360),m=s(m,p,g,v,b[a+1],12,3905402710),v=s(v,m,p,g,b[a+2],17,606105819),g=s(g,v,m,p,b[a+3],22,3250441966),p=s(p,g,v,m,b[a+4],7,4118548399),m=s(m,p,g,v,b[a+5],12,1200080426),v=s(v,m,p,g,b[a+6],17,2821735955),g=s(g,v,m,p,b[a+7],22,4249261313),p=s(p,g,v,m,b[a+8],7,1770035416),m=s(m,p,g,v,b[a+9],12,2336552879),v=s(v,m,p,g,b[a+10],17,4294925233),g=s(g,v,m,p,b[a+11],22,2304563134),p=s(p,g,v,m,b[a+12],7,1804603682),m=s(m,p,g,v,b[a+13],12,4254626195),v=s(v,m,p,g,b[a+14],17,2792965006),g=s(g,v,m,p,b[a+15],22,1236535329),p=r(p,g,v,m,b[a+1],5,4129170786),m=r(m,p,g,v,b[a+6],9,3225465664),v=r(v,m,p,g,b[a+11],14,643717713),g=r(g,v,m,p,b[a+0],20,3921069994),p=r(p,g,v,m,b[a+5],5,3593408605),m=r(m,p,g,v,b[a+10],9,38016083),v=r(v,m,p,g,b[a+15],14,3634488961),g=r(g,v,m,p,b[a+4],20,3889429448),p=r(p,g,v,m,b[a+9],5,568446438),m=r(m,p,g,v,b[a+14],9,3275163606),v=r(v,m,p,g,b[a+3],14,4107603335),g=r(g,v,m,p,b[a+8],20,1163531501),p=r(p,g,v,m,b[a+13],5,2850285829),m=r(m,p,g,v,b[a+2],9,4243563512),v=r(v,m,p,g,b[a+7],14,1735328473),g=r(g,v,m,p,b[a+12],20,2368359562),p=l(p,g,v,m,b[a+5],4,4294588738),m=l(m,p,g,v,b[a+8],11,2272392833),v=l(v,m,p,g,b[a+11],16,1839030562),g=l(g,v,m,p,b[a+14],23,4259657740),p=l(p,g,v,m,b[a+1],4,2763975236),m=l(m,p,g,v,b[a+4],11,1272893353),v=l(v,m,p,g,b[a+7],16,4139469664),g=l(g,v,m,p,b[a+10],23,3200236656),p=l(p,g,v,m,b[a+13],4,681279174),m=l(m,p,g,v,b[a+0],11,3936430074),v=l(v,m,p,g,b[a+3],16,3572445317),g=l(g,v,m,p,b[a+6],23,76029189),p=l(p,g,v,m,b[a+9],4,3654602809),m=l(m,p,g,v,b[a+12],11,3873151461),v=l(v,m,p,g,b[a+15],16,530742520),g=l(g,v,m,p,b[a+2],23,3299628645),p=c(p,g,v,m,b[a+0],6,4096336452),m=c(m,p,g,v,b[a+7],10,1126891415),v=c(v,m,p,g,b[a+14],15,2878612391),g=c(g,v,m,p,b[a+5],21,4237533241),p=c(p,g,v,m,b[a+12],6,1700485571),m=c(m,p,g,v,b[a+3],10,2399980690),v=c(v,m,p,g,b[a+10],15,4293915773),g=c(g,v,m,p,b[a+1],21,2240044497),p=c(p,g,v,m,b[a+8],6,1873313359),m=c(m,p,g,v,b[a+15],10,4264355552),v=c(v,m,p,g,b[a+6],15,2734768916),g=c(g,v,m,p,b[a+13],21,1309151649),p=c(p,g,v,m,b[a+4],6,4149444226),m=c(m,p,g,v,b[a+11],10,3174756917),v=c(v,m,p,g,b[a+2],15,718787259),g=c(g,v,m,p,b[a+9],21,3951481745),p=t(p,i),g=t(g,n),v=t(v,o),m=t(m,f);return(u(p)+u(g)+u(v)+u(m)).toLowerCase()}}();a.exports=i}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(0),o=a(39);i.exports={getVipTypeParam:function(e){n.isLogin()?n.getVipType(function(t){e(t)}):e(-1)},sendClickPingback:function(e,t,a){this.getVipTypeParam(function(i){var n={rpage:"full_ply",bstp:6,hu:i||-1,block:"tucaou",mod:"cn_s",c1:e.cid,qpid:e.qpid,aid:e.aid,r:e.qpid,_:+new Date};Q.extend(n,window.pingbackParams||{}),Q.extend(n,a||{}),o.cl(t,n)})},sendPvPingback:function(e,t,a){this.getVipTypeParam(function(i){var n={rpage:"full_ply",bstp:6,c1:e.cid,hu:i||-1,aid:e.aid,r:e.qpid};Q.extend(n,window.pingbackParams||{}),Q.extend(n,a||{}),o.pv(t,{param:n})})}}}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(41),o=a(44),s=a(45),r=a(47),l={};i.exports=Q.Class("ScrollV2",{extend:n,plugins:[new r],construct:function(e){e=e||{},this.disable=!1,e.model=e.model||new o(e),e.view=e.view||new s(e);var t=e.name;t&&(l[t]=this),this.callsuper(e)},statics:{getScroll:function(e){return l[e]}},properties:{events:{moving:function(e){this.fire({type:"moving",data:e.data})},private_mousemove:function(e){var t=e.data.endY-e.data.startY;t&&(this._model.moveBar(t),this.syncGet())},finishmove:function(){var e=this._model.get();this.fire({type:"finishmove",data:{margin:e.margin,rate:e.rate,dis:e.margin-this._model.startMove}})},disable:function(){this.disable=!0,this.fire({type:"disable"})},enable:function(){this.disable=!1,this.fire({type:"enable"})},mousescroll:function(e){this.scroll(-e.data.delta)}}},methods:{scroll:function(e,t){e&&!this.disable&&(this._model.moveBar(e),this.syncGet())},reset:function(e){e=e||{};var t=0;e.keepPos?(t=this._model.get().margin,this._model.restLength==t&&(t=9999999)):this._model.margin=0,this._model.targetLength=e.targetLength||this._view._doms.scrollContent.height(),this._model.contentLength=e.contentLength||this._view._doms.scrollWrap.height(),this._model.reset(this),this._view.init(this),e.keepPos&&this._model.moveBar(t),this._view.moveBar(this._model.get())},check:function(e){e=e||{};var t=this._model.margin||0,a=this._model.targetLength||0;this._model.targetLength=e.targetLength||this._view._doms.scrollContent.height(),this._model.contentLength=e.contentLength||this._view._doms.scrollWrap.height(),this._model.reset(this),this._view.init(this),this._model.moveBar(t*(a/this._model.targetLength)),this._view.moveBar(this._model.get())}}})}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){a.exports=Q.Class("Model",{ns:"Q.model",construct:function(){this._data={}},methods:{init:Q.fn.emptyMethod,get:function(){return this._data},set:function(e){return Q.object.extend(this._data,e)}}})}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){a.exports=Q.Class("View",{ns:"Q.view",methods:{init:function(e){this._ctrl=e},update:Q.fn.emptyMethod}})}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(18);i.exports=Q.Class("WidgetView",{ns:"Q.view",extend:n,construct:function(e){if(e=e||{},!e.doms)throw new Error("Missing doms.");this._doms=e.doms},methods:{config:Q.fn.emptyMethod}})}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){a.exports={barrageTemplate:'<div class="barrage-switch-wrap"><span class="barrage-switch barrage-switch-open" data-barrage-status="show"><i title="关闭弹幕" class="qyb-svg qyb-svg-on" rseat="140742_cls"><svg aria-hidden="true" alt="" class="qyb-symbol-icon"><use xlink:href="#qyb-on"></use></svg><div class="qy-barrage-tooltip">关闭弹幕</div></i><i title="开启弹幕" class="qyb-svg qyb-svg-off" rseat="140743_opn"><svg aria-hidden="true" alt="" class="qyb-symbol-icon"><use xlink:href="#qyb-off"></use></svg><div class="qy-barrage-tooltip">开启弹幕</div></i></span><div class="barrage-icons switch-tips dn" style="display: none;" data-barrage-btntip="wrap"></div><div class="qy-barrage-redbag-tips" data-barrage-hb="tip" style="width: 510px; display: none;"><div class="hb_tipBox_inner"><div class="barrage-icons hb_tipBox_left">l</div><div class="hb_tipBox_con"><p class="hbdm_ygTxt" data-barrage-hb="tipcon"></p> <a href="javascript:void(0)" data-barrage-hb="tipclose" class="barrage-icons hbdm_ygLink"></a></div><div class="barrage-icons hb_tipBox_right"></div><div class="barrage-icons hbdm_arr"></div></div></div></div><div class="barrage-set-wrap" data-barrage-panel="config"><a href="javascript:void(0);" title="弹幕播放设置" data-barrage-config="config" class="barrage-set-icon"><i class="qyb-svg qyb-svg-setting"><svg aria-hidden="true" class="qyb-symbol-icon"><use xlink:href="#qyb-setting"></use></svg></i><div class="qy-barrage-tooltip">弹幕播放设置</div></a><div class="qy-barrage-set dn" data-barrage-panel="panel"></div><div class="qy-barrage-shiel dn" data-barrage-module="custom"></div></div><div class="barrage-list-wrap dn" data-barrage-list="btn" rseat="80521_listbox_danmu_open"><i title="弹幕列表" class="qyb-svg qyb-svg-list"><svg aria-hidden="true" class="qyb-symbol-icon"><use xlink:href="#qyb-list"></use></svg></i> <div class="qy-barrage-tooltip">弹幕列表</div></div><div class="barrage-input-wrap" data-barrage-ele="wrap"><div class="barrage-input-box" data-barrage-wrap="input"><div class="barrage-role"><div class="role-setting-entry j_role_btn" title="弹幕发送设置"><i class="qyb-svg qyb-svg-A j_textrole_widget"><svg aria-hidden="true" class="qyb-symbol-icon"><use xlink:href="#qyb-A"></use></svg></i><i class="qyb-svg qyb-svg-role j_clickrole_widget dn"><svg aria-hidden="true" class="qyb-symbol-icon"><use xlink:href="#qyb-role"></use></svg></i><i class="role-entry j_role_widget dn"></i><div class="qy-barrage-tooltip">弹幕发送设置</div></div></div><input type="text" placeholder="弹幕走一波…" class="barrage-input" data-barrage-input="barrage" data-rseat="608241_input"></div><a href="javascript:;" data-barrage-send="barrage" data-barrage-limit="barrage" class="barrage-send">发送</a></div><svg version="1.1" xmlns="http://www.w3.org/2000/svg" style="display: none;"><symbol id="qyb-A" viewBox="0 0 1024 1024"><path d="M139.597 935.667l320.292-833.989h118.892l341.316 833.99H794.374L697.09 683.055H348.359l-91.565 252.611H139.597zM380.24 593.185h282.744l-87.063-230.951c-26.532-70.17-46.286-127.789-59.155-172.962a1060.386 1060.386 0 0 1-44.961 159.298L380.24 593.185z"></path></symbol> <symbol id="qyb-close" viewBox="0 0 1024 1024"><path d="M622.277 512l378.092-378.092c31.508-31.508 31.508-78.77 0-110.277-31.507-31.508-78.769-31.508-110.277 0L512 401.723 133.908 23.631C102.4-7.877 55.138-7.877 23.63 23.63c-31.508 31.507-31.508 78.769 0 110.277L401.723 512 23.631 890.092c-31.508 31.508-31.508 78.77 0 110.277 31.507 31.508 78.769 31.508 110.277 0L512 622.277l378.092 378.092c31.508 31.508 78.77 31.508 110.277 0 31.508-31.507 31.508-78.769 0-110.277L622.277 512z"></path></symbol><symbol id="qyb-l-arr" viewBox="0 0 1024 1024"><path d="M652.459 968.875L195.669 512 652.46 55.125l60.416 60.416L316.33 512l396.544 396.459z"></path></symbol><symbol id="qyb-list" viewBox="0 0 1024 1024"><path d="M768 1024H256c-130.327 0-232.727-102.4-232.727-232.727V232.727C23.273 102.4 125.673 0 256 0h512c130.327 0 232.727 102.4 232.727 232.727v558.546C1000.727 921.6 898.327 1024 768 1024zM256 93.09c-79.127 0-139.636 60.51-139.636 139.637v558.546c0 79.127 60.509 139.636 139.636 139.636h512c79.127 0 139.636-60.509 139.636-139.636V232.727c0-79.127-60.509-139.636-139.636-139.636H256z"></path> <path d="M768 418.91H442.182c-23.273 0-46.546-18.62-46.546-46.546 0-23.273 18.619-46.546 46.546-46.546H768c23.273 0 46.545 18.618 46.545 46.546S795.927 418.909 768 418.909zm-93.09 218.763H256c-23.273 0-46.545-18.618-46.545-46.546 0-23.272 18.618-46.545 46.545-46.545h418.91c23.272 0 46.545 18.618 46.545 46.545s-18.619 46.546-46.546 46.546zM209.45499999999998 372.364a46.545 46.545 0 1 0 93.09 0 46.545 46.545 0 1 0-93.09 0z"></path></symbol> <symbol id="qyb-off" viewBox="0 0 1152 1024"><path d="M311.467 661.333c0 4.267-4.267 8.534-8.534 12.8 0 4.267 0 4.267-4.266 8.534h-12.8c-4.267 0-8.534-4.267-17.067-8.534-8.533-8.533-17.067-8.533-25.6-8.533-8.533 0-12.8 4.267-17.067 12.8-4.266 12.8-8.533 21.333-4.266 29.867 4.266 8.533 12.8 17.066 25.6 21.333 17.066 8.533 34.133 17.067 46.933 17.067 12.8 0 21.333-4.267 34.133-8.534 8.534-4.266 17.067-17.066 25.6-29.866 8.534-12.8 12.8-34.134 17.067-55.467 4.267-21.333 4.267-51.2 4.267-85.333 0-12.8 0-21.334-4.267-29.867 0-8.533-4.267-12.8-8.533-17.067-4.267-4.266-8.534-8.533-12.8-8.533-4.267 0-12.8-4.267-21.334-4.267h-55.466s-4.267-4.266 0-8.533l4.266-38.4c0-4.267 0-8.533 4.267-8.533h46.933c17.067 0 25.6-4.267 34.134-12.8 8.533-8.534 12.8-21.334 12.8-42.667v-72.533c0-17.067-4.267-34.134-8.534-42.667-12.8-12.8-25.6-17.067-42.666-17.067H243.2c-8.533 0-17.067 0-21.333 4.267-4.267 8.533-4.267 12.8-4.267 25.6 0 8.533 0 17.067 4.267 21.333 4.266 4.267 12.8 8.534 21.333 8.534h64c4.267 0 8.533 0 8.533 4.266v34.134c0 8.533 0 12.8-4.266 12.8s0 4.266-4.267 4.266h-38.4c-8.533 0-12.8 0-21.333 4.267-4.267 0-8.534 4.267-8.534 4.267-4.266 4.266-8.533 12.8-8.533 17.066 0 8.534-4.267 17.067-4.267 25.6l-8.533 72.534v29.866c0 8.534 4.267 12.8 8.533 17.067 4.267 4.267 8.534 4.267 17.067 8.533h68.267c4.266 0 8.533 0 8.533 4.267s4.267 8.533 4.267 17.067c0 21.333 0 42.666-4.267 55.466 0 8.534-4.267 21.334-8.533 25.6zM896 486.4c-93.867 0-174.933 51.2-217.6 123.733H571.733V576H640c21.333 0 34.133-4.267 42.667-12.8 8.533-8.533 12.8-21.333 12.8-42.667V358.4c0-21.333-4.267-34.133-12.8-42.667-8.534-8.533-21.334-12.8-42.667-12.8 0-4.266 4.267-4.266 4.267-8.533-4.267 0-4.267-4.267-4.267-4.267 4.267-12.8 8.533-21.333 4.267-25.6 0-8.533-4.267-12.8-12.8-21.333-8.534-4.267-17.067-4.267-21.334-4.267-8.533 4.267-12.8 8.534-21.333 21.334-4.267 8.533-8.533 12.8-12.8 21.333-4.267 8.533-8.533 12.8-12.8 21.333H512c-4.267-8.533-8.533-17.066-8.533-21.333-4.267-8.533-8.534-12.8-12.8-21.333-4.267-12.8-12.8-17.067-21.334-17.067s-17.066 0-25.6 8.533c-8.533 8.534-12.8 12.8-12.8 21.334s0 17.066 8.534 25.6l4.266 4.266L448 307.2c-17.067 0-29.867 4.267-38.4 12.8-8.533 4.267-12.8 21.333-12.8 38.4v157.867c0 21.333 4.267 34.133 12.8 42.666 8.533 8.534 21.333 12.8 42.667 12.8H512v34.134h-98.133c-12.8 0-21.334 0-25.6 4.266-4.267 4.267-8.534 8.534-8.534 21.334v17.066c0 4.267 4.267 8.534 4.267 8.534 4.267 0 4.267 4.266 8.533 4.266H512V716.8c0 12.8 4.267 21.333 8.533 25.6 4.267 4.267 12.8 8.533 21.334 8.533 12.8 0 21.333-4.266 25.6-8.533 4.266-4.267 4.266-12.8 4.266-25.6v-55.467H652.8c-8.533 25.6-12.8 51.2-12.8 76.8 0 140.8 115.2 256 256 256s256-115.2 256-256S1036.8 486.4 896 486.4zm-328.533-128h55.466c4.267 0 4.267 0 4.267 4.267V409.6h-59.733v-51.2zm0 102.4H627.2V512h-55.467v-51.2zM512 516.267h-55.467v-51.2H512v51.2zm0-102.4h-59.733V362.667H512v51.2zM725.333 742.4c0-93.867 76.8-170.667 170.667-170.667 29.867 0 59.733 8.534 85.333 25.6L746.667 832c-12.8-29.867-21.334-59.733-21.334-89.6zM896 913.067c-29.867 0-59.733-8.534-85.333-25.6L1045.333 652.8c17.067 25.6 25.6 55.467 25.6 85.333-4.266 98.134-81.066 174.934-174.933 174.934z"></path><path d="M580.267 878.933H213.333c-72.533 0-128-55.466-128-119.466V230.4c0-64 55.467-119.467 128-119.467h512c72.534 0 128 55.467 128 119.467v140.8c0 25.6 17.067 42.667 42.667 42.667s42.667-17.067 42.667-42.667V230.4c0-115.2-93.867-204.8-213.334-204.8h-512C93.867 25.6 0 119.467 0 230.4v529.067c0 115.2 93.867 204.8 213.333 204.8h366.934c25.6 0 42.666-17.067 42.666-42.667s-21.333-42.667-42.666-42.667z"></path></symbol> <symbol id="qyb-on" viewBox="0 0 1152 1024"><path d="M311.467 661.333c0 4.267-4.267 8.534-8.534 12.8 0 4.267 0 4.267-4.266 8.534h-12.8c-4.267 0-8.534-4.267-17.067-8.534-8.533-8.533-17.067-8.533-25.6-8.533-8.533 0-12.8 4.267-17.067 12.8-4.266 12.8-8.533 21.333-4.266 29.867 4.266 8.533 12.8 17.066 25.6 21.333 17.066 8.533 34.133 17.067 46.933 17.067 12.8 0 21.333-4.267 34.133-8.534 8.534-4.266 17.067-17.066 25.6-29.866 8.534-12.8 12.8-34.134 17.067-55.467 4.267-21.333 4.267-51.2 4.267-85.333 0-12.8 0-21.334-4.267-29.867 0-8.533-4.267-12.8-8.533-17.067-4.267-4.266-8.534-8.533-12.8-8.533-4.267 0-12.8-4.267-21.334-4.267h-55.466s-4.267-4.266 0-8.533l4.266-38.4c0-4.267 0-8.533 4.267-8.533h46.933c17.067 0 25.6-4.267 34.134-12.8 8.533-8.534 12.8-21.334 12.8-42.667v-72.533c0-17.067-4.267-34.134-8.534-42.667-12.8-12.8-25.6-17.067-42.666-17.067H243.2c-8.533 0-17.067 0-21.333 4.267-4.267 8.533-4.267 12.8-4.267 25.6 0 8.533 0 17.067 4.267 21.333 4.266 4.267 12.8 8.534 21.333 8.534h64c4.267 0 8.533 0 8.533 4.266v34.134c0 8.533 0 12.8-4.266 12.8 0 0-4.267 4.266-8.534 4.266H268.8c-8.533 0-12.8 0-21.333 4.267-4.267 0-8.534 4.267-8.534 4.267-4.266 4.266-8.533 12.8-8.533 17.066 0 8.534-4.267 17.067-4.267 25.6l-8.533 72.534v29.866c0 8.534 4.267 12.8 8.533 17.067 4.267 4.267 8.534 4.267 17.067 8.533h68.267c4.266 0 8.533 0 8.533 4.267s4.267 8.533 4.267 17.067c0 21.333 0 42.666-4.267 55.466 0 8.534-4.267 21.334-8.533 25.6zM896 486.4c-93.867 0-174.933 51.2-217.6 123.733H571.733V576H640c21.333 0 34.133-4.267 42.667-12.8 8.533-8.533 12.8-21.333 12.8-42.667V358.4c0-21.333-4.267-34.133-12.8-42.667-8.534-8.533-21.334-12.8-42.667-12.8 0-4.266 4.267-4.266 4.267-8.533-4.267 0-4.267-4.267-4.267-4.267 4.267-12.8 8.533-21.333 4.267-25.6 0-8.533-4.267-12.8-12.8-21.333-8.534-4.267-17.067-4.267-21.334-4.267-8.533 4.267-12.8 8.534-21.333 21.334-4.267 8.533-8.533 12.8-12.8 21.333-4.267 8.533-8.533 12.8-12.8 21.333H512c-4.267-8.533-8.533-17.066-8.533-21.333-4.267-8.533-8.534-12.8-12.8-21.333-4.267-12.8-12.8-17.067-21.334-17.067s-17.066 0-25.6 8.533c-8.533 8.534-12.8 12.8-12.8 21.334s0 17.066 8.534 25.6l4.266 4.266L448 307.2c-17.067 0-29.867 4.267-38.4 12.8-8.533 4.267-12.8 21.333-12.8 38.4v157.867c0 21.333 4.267 34.133 12.8 42.666 8.533 8.534 21.333 12.8 42.667 12.8H512v34.134h-98.133c-12.8 0-21.334 0-25.6 4.266-4.267 4.267-8.534 8.534-8.534 21.334v17.066c0 4.267 4.267 8.534 4.267 8.534 4.267 0 4.267 4.266 8.533 4.266H512V716.8c0 12.8 4.267 21.333 8.533 25.6 4.267 4.267 12.8 8.533 21.334 8.533 12.8 0 21.333-4.266 25.6-8.533 4.266-4.267 4.266-12.8 4.266-25.6v-55.467H652.8c-8.533 25.6-12.8 51.2-12.8 76.8 0 140.8 115.2 256 256 256s256-115.2 256-256S1036.8 486.4 896 486.4zm-328.533-128h55.466c4.267 0 4.267 0 4.267 4.267V409.6h-59.733v-51.2zm0 102.4H627.2V512h-55.467v-51.2zM512 516.267h-55.467v-51.2H512v51.2zm0-102.4h-59.733V362.667H512v51.2zm384 499.2c-93.867 0-170.667-76.8-170.667-170.667S802.133 571.733 896 571.733s170.667 76.8 170.667 170.667S989.867 913.067 896 913.067z"></path><path d="M951.467 669.867L878.933 742.4l-29.866-25.6C832 699.733 806.4 704 789.333 721.067c-17.066 17.066-12.8 42.666 4.267 59.733l59.733 51.2c8.534 8.533 17.067 8.533 29.867 8.533s21.333-4.266 29.867-12.8l102.4-102.4c17.066-17.066 17.066-42.666 0-59.733-21.334-12.8-46.934-12.8-64 4.267zm-371.2 209.066H213.333c-72.533 0-128-55.466-128-119.466V230.4c0-64 55.467-119.467 128-119.467h512c72.534 0 128 55.467 128 119.467v140.8c0 25.6 17.067 42.667 42.667 42.667s42.667-17.067 42.667-42.667V230.4c0-115.2-93.867-204.8-213.334-204.8h-512C93.867 25.6 0 119.467 0 230.4v529.067c0 115.2 93.867 204.8 213.333 204.8h366.934c25.6 0 42.666-17.067 42.666-42.667s-21.333-42.667-42.666-42.667z"></path></symbol><symbol id="qyb-palette" viewBox="0 0 1024 1024"><path d="M496.742 887.467c-236.27 0-428.475-168.448-428.475-375.467S260.47 136.533 496.742 136.533c236.271 0 428.476 168.448 428.476 375.467 0 25.395-7.543 45.5-22.425 59.802-25.362 24.37-62.02 22.937-94.447 21.606-39.493-1.707-51.03.444-54.34 9.387-7.373 19.9-1.161 30.686 13.516 53.248 15.975 24.507 40.107 61.542 13.653 111.65-46.557 88.303-177.459 119.774-284.433 119.774zm0-682.667c-198.621 0-360.209 137.83-360.209 307.2 0 169.404 161.588 307.2 360.21 307.2 107.724 0 197.802-33.485 224.05-83.354 7.1-13.448 4.745-19.217-10.478-42.496-15.906-24.405-39.902-61.235-20.412-114.176 21.436-58.026 81.579-55.535 121.14-53.999 13.652.547 39.116 1.57 44.44-2.662-.033 0 1.434-2.662 1.434-10.547 0-169.336-161.587-307.166-360.175-307.166z"></path><path d="M382.26 329.148a38.161 36.557 0 1 0 76.321 0 38.161 36.557 0 1 0-76.322 0zM255.044 426.667a38.161 36.557 0 1 0 76.322 0 38.161 36.557 0 1 0-76.322 0zM255.044 585.148a50.893 48.777 0 1 0 101.786 0 50.893 48.777 0 1 0-101.786 0zM433.118 682.667a50.893 48.777 0 1 0 101.785 0 50.893 48.777 0 1 0-101.785 0z"></path></symbol> <symbol id="qyb-palette-shield" viewBox="0 0 1024 1024"><path d="M919.586 451.038a34.133 34.133 0 0 1-67.106 12.493C825.07 316.245 675.26 204.8 496.742 204.8c-199.953 0-360.209 138.718-360.209 307.2s160.256 307.2 360.21 307.2c28.262 0 56.149-2.321 82.26-6.93a34.133 34.133 0 1 1 11.81 67.244 547.499 547.499 0 0 1-94.07 7.953C261.12 887.467 68.266 720.555 68.266 512S261.12 136.533 496.742 136.533c209.955 0 389.12 133.291 422.844 314.505zM420.42 365.705c-21.094 0-38.16-16.384-38.16-36.557 0-20.207 17.066-36.591 38.16-36.591 21.06 0 38.161 16.384 38.161 36.59 0 20.208-17.066 36.558-38.16 36.558zm-127.215 97.518c-21.06 0-38.16-16.384-38.16-36.556 0-20.207 17.066-36.557 38.16-36.557 21.095 0 38.161 16.384 38.161 36.557 0 20.207-17.066 36.556-38.16 36.556zm12.732 170.667c-28.126 0-50.893-21.845-50.893-48.742 0-26.966 22.767-48.777 50.859-48.777 28.126 0 50.893 21.846 50.893 48.777s-22.767 48.742-50.859 48.742zm178.074 97.553c-28.092 0-50.859-21.845-50.859-48.776s22.767-48.777 50.859-48.777 50.858 21.845 50.858 48.777-22.767 48.776-50.858 48.776z"></path> <path d="M747.281 777.899a102.4 102.4 0 0 0 125.85-147.456L747.28 777.899zm-51.439-44.92l124.894-146.33a102.4 102.4 0 0 0-124.86 146.33zm89.225 120.354a170.667 170.667 0 1 1 0-341.333 170.667 170.667 0 0 1 0 341.333z"></path></symbol> <symbol id="qyb-palette-shield1" viewBox="0 0 1024 1024"><path d="M919.586 451.038a34.133 34.133 0 0 1-67.106 12.493C825.07 316.245 675.26 204.8 496.742 204.8c-199.953 0-360.209 138.718-360.209 307.2s160.256 307.2 360.21 307.2c28.262 0 56.149-2.321 82.26-6.93a34.133 34.133 0 1 1 11.81 67.244 547.499 547.499 0 0 1-94.07 7.953C261.12 887.467 68.266 720.555 68.266 512S261.12 136.533 496.742 136.533c209.955 0 389.12 133.291 422.844 314.505zM420.42 365.705c-21.094 0-38.16-16.384-38.16-36.557 0-20.207 17.066-36.591 38.16-36.591 21.06 0 38.161 16.384 38.161 36.59 0 20.208-17.066 36.558-38.16 36.558zm-127.215 97.518c-21.06 0-38.16-16.384-38.16-36.556 0-20.207 17.066-36.557 38.16-36.557 21.095 0 38.161 16.384 38.161 36.557 0 20.207-17.066 36.556-38.16 36.556zm12.732 170.667c-28.126 0-50.893-21.845-50.893-48.742 0-26.966 22.767-48.777 50.859-48.777 28.126 0 50.893 21.846 50.893 48.777s-22.767 48.742-50.859 48.742zm178.074 97.553c-28.092 0-50.859-21.845-50.859-48.776s22.767-48.777 50.859-48.777 50.858 21.845 50.858 48.777-22.767 48.776-50.858 48.776z"></path></symbol><symbol id="qyb-palette-shield2" viewBox="0 0 1024 1024"><path d="M785.067 853.333c-94.106 0-170.667-76.56-170.667-170.666S690.961 512 785.067 512s170.666 76.561 170.666 170.667-76.56 170.666-170.666 170.666zm0-273.066c-56.457 0-102.4 45.943-102.4 102.4s45.943 102.4 102.4 102.4 102.4-45.944 102.4-102.4-45.944-102.4-102.4-102.4z" fill="#FF5858"></path><path d="M690.859 738.85l148.65-174.148 51.917 44.34-148.65 174.113z" fill="#FF5858"></path></symbol>  <symbol id="qyb-r-arr" viewBox="0 0 1024 1024"><path d="M371.541 55.125L828.331 512 371.54 968.875l-60.416-60.416L707.67 512 311.125 115.541z"></path></symbol> <symbol id="qyb-refresh" viewBox="0 0 1024 1024"><path d="M911.653 365.568H658.286a36.571 36.571 0 0 1 0-73.143H875.08V73.143a36.571 36.571 0 0 1 73.143 0v255.854a36.571 36.571 0 0 1-36.571 36.571z"></path> <path d="M512 987.429C249.856 987.429 36.571 774.144 36.571 512S249.856 36.571 512 36.571a474.112 474.112 0 0 1 422.473 257.17 36.571 36.571 0 0 1-65.024 33.646A401.042 401.042 0 0 0 512 109.714 402.725 402.725 0 0 0 109.714 512c0 221.77 180.444 402.286 402.286 402.286a400.603 400.603 0 0 0 359.131-220.819 36.571 36.571 0 1 1 65.317 32.988A473.6 473.6 0 0 1 512 987.429z"></path></symbol> <symbol id="qyb-role" viewBox="0 0 1024 1024"><path d="M873.387 810.667H725.46L686.72 901.12a42.667 42.667 0 1 1-78.464-33.621l152.192-355.286c14.805-34.56 63.744-34.474 78.507.043L990.42 867.584a42.667 42.667 0 0 1-78.464 33.45l-38.528-90.367zm-36.352-85.334l-37.419-87.765-37.632 87.765h75.05zM336.128 393.387a42.667 42.667 0 0 1 84.224-13.398 64 64 0 0 0 126.421 0 42.667 42.667 0 1 1 84.267 13.355 149.333 149.333 0 0 1-294.955.085zm-215.253 11.946a362.667 362.667 0 0 1 721.28-54.4 42.667 42.667 0 1 1-84.352 12.715 277.419 277.419 0 0 0-551.595 41.685c0 89.003 42.197 170.923 112.341 222.934a42.667 42.667 0 0 1 7.68 61.184L200.576 844.075h274.432a42.667 42.667 0 0 1 0 85.333H200.533a85.333 85.333 0 0 1-66.218-139.179l99.242-122.069a361.856 361.856 0 0 1-112.682-262.827z"></path></symbol><symbol id="qyb-setting" viewBox="0 0 1152 1024"><path d="M554.667 972.8H213.333C93.867 972.8 0 878.933 0 768V238.933c0-115.2 93.867-204.8 213.333-204.8h486.4c119.467 0 213.334 93.867 213.334 204.8v115.2c0 25.6-17.067 42.667-42.667 42.667s-42.667-17.067-42.667-42.667v-115.2c0-68.266-55.466-119.466-128-119.466h-486.4c-68.266 0-128 51.2-128 119.466V768c0 68.267 55.467 119.467 128 119.467h341.334c25.6 0 42.666 17.066 42.666 42.666S580.267 972.8 554.667 972.8z"></path><path d="M1105.067 674.133h-21.334c-4.266-25.6-17.066-51.2-29.866-72.533l17.066-17.067c17.067-17.066 17.067-42.666 0-59.733-17.066-17.067-42.666-17.067-59.733 0l-17.067 17.067C972.8 529.067 947.2 516.267 921.6 512v-21.333c0-25.6-21.333-42.667-42.667-42.667-25.6 0-42.666 21.333-42.666 42.667V512c-25.6 4.267-51.2 17.067-72.534 29.867L746.667 524.8c-17.067-17.067-42.667-17.067-59.734 0-17.066 17.067-17.066 42.667 0 59.733L704 601.6c-17.067 25.6-25.6 59.733-29.867 89.6H652.8c-25.6 0-42.667 21.333-38.4 46.933 0 21.334 21.333 42.667 42.667 38.4h29.866c4.267 17.067 12.8 34.134 21.334 46.934l-21.334 29.866c-17.066 17.067-17.066 42.667 0 59.734 8.534 8.533 21.334 12.8 29.867 12.8 12.8 0 21.333-4.267 29.867-12.8L768 896c21.333 12.8 46.933 25.6 72.533 29.867V947.2c0 25.6 21.334 42.667 42.667 42.667 25.6 0 42.667-21.334 42.667-42.667v-21.333c25.6-4.267 51.2-17.067 72.533-29.867l17.067 17.067c8.533 8.533 21.333 12.8 29.866 12.8 12.8 0 21.334-4.267 29.867-12.8 17.067-17.067 17.067-42.667 0-59.734l-17.067-17.066c12.8-21.334 25.6-46.934 29.867-72.534h25.6c25.6 0 42.667-21.333 38.4-46.933 0-25.6-21.333-42.667-46.933-42.667zM883.2 853.333c-72.533 0-132.267-59.733-132.267-132.266S810.667 588.8 883.2 588.8c72.533 0 132.267 59.733 132.267 132.267S955.733 853.333 883.2 853.333z"></path><path d="M844.8 721.067a42.667 42.667 0 1 0 85.333 0 42.667 42.667 0 1 0-85.333 0zM635.733 520.533h-409.6c-25.6 0-42.666-17.066-42.666-42.666s17.066-42.667 42.666-42.667h405.334c25.6 0 42.666 17.067 42.666 42.667 4.267 21.333-17.066 42.666-38.4 42.666zm-362.666-179.2h-38.4c-25.6 0-42.667-17.066-42.667-42.666S209.067 256 234.667 256h38.4c25.6 0 42.666 17.067 42.666 42.667s-17.066 42.666-42.666 42.666zm409.6 0H405.333c-25.6 0-42.666-17.066-42.666-42.666S379.733 256 405.333 256h277.334c25.6 0 42.666 17.067 42.666 42.667S704 341.333 682.667 341.333z"></path></symbol> <symbol id="qyb-feedback" viewBox="0 0 1024 1024"><path d="M597.76 0v85.333H170.667a85.333 85.333 0 0 0-85.334 85.334v682.666a85.333 85.333 0 0 0 85.334 85.334h682.666a85.333 85.333 0 0 0 85.334-85.334V425.9H1024v427.434A170.667 170.667 0 0 1 853.333 1024H170.667A170.667 170.667 0 0 1 0 853.333V170.667A170.667 170.667 0 0 1 170.667 0H597.76zM1024 425.899v427.434A170.667 170.667 0 0 1 853.333 1024H170.667A170.667 170.667 0 0 1 0 853.333V170.667A170.667 170.667 0 0 1 170.667 0H597.76a42.667 42.667 0 0 1 0 85.333H170.667a85.333 85.333 0 0 0-85.334 85.334v682.666a85.333 85.333 0 0 0 85.334 85.334h682.666a85.333 85.333 0 0 0 85.334-85.334V425.9a42.667 42.667 0 0 1 85.333 0zM908.63 55.04a42.667 42.667 0 1 1 60.074 60.587l-512 508.416a42.667 42.667 0 0 1-60.075-60.587l512-508.416z"></path></symbol><symbol id="qyb-biaoqing" viewBox="0 0 1024 1024"><path d="M512 853.333c188.518 0 341.333-152.815 341.333-341.333S700.518 170.667 512 170.667 170.667 323.482 170.667 512 323.482 853.333 512 853.333zm0 68.267c-226.202 0-409.6-183.398-409.6-409.6S285.798 102.4 512 102.4 921.6 285.798 921.6 512 738.202 921.6 512 921.6zm0-307.2c-94.242 0-170.667-77.21-170.667-170.667h341.334A170.667 170.667 0 0 1 512 614.4zM384 375.467a42.667 42.667 0 1 1 0-85.334 42.667 42.667 0 0 1 0 85.334zm256 0a42.667 42.667 0 1 1 0-85.334 42.667 42.667 0 0 1 0 85.334z"></path></symbol><symbol id="qyb-biaoqing-shield1" viewBox="0 0 1024 1024"><path d="M587.025 920.917v.683H512c-226.202 0-409.6-183.398-409.6-409.6S285.798 102.4 512 102.4 921.6 285.798 921.6 512a34.133 34.133 0 0 1-68.267 0c0-188.518-152.815-341.333-341.333-341.333S170.667 323.482 170.667 512 323.482 853.333 512 853.333h75.025v.683a34.133 34.133 0 0 1 0 66.901zm0 .683H512c-226.202 0-409.6-183.398-409.6-409.6S285.798 102.4 512 102.4 921.6 285.798 921.6 512h-68.267c0-188.518-152.815-341.333-341.333-341.333S170.667 323.482 170.667 512 323.482 853.333 512 853.333h75.025V921.6z"></path> <path d="M512 614.4a170.667 170.667 0 0 0 170.667-170.667H341.333C341.333 537.19 417.758 614.4 512 614.4zM341.33299999999997 332.8a42.667 42.667 0 1 0 85.334 0 42.667 42.667 0 1 0-85.334 0zM597.333 332.8a42.667 42.667 0 1 0 85.334 0 42.667 42.667 0 1 0-85.334 0z"></path></symbol><symbol id="qyb-hongbao" viewBox="0 0 1024 1024"><path d="M477.867 631.467H409.6a34.133 34.133 0 0 1 0-68.267h29.525l-38.673-46.421a34.133 34.133 0 0 1 52.43-43.691L512 544.018l59.119-70.93a34.133 34.133 0 1 1 52.429 43.69L584.875 563.2H614.4a34.133 34.133 0 0 1 0 68.267h-68.267V665.6H614.4a34.133 34.133 0 0 1 0 68.267h-68.267v30.72a34.133 34.133 0 1 1-68.266 0v-30.72H409.6a34.133 34.133 0 0 1 0-68.267h68.267v-34.133zM238.933 224.973c68.301 67.072 156.911 100.522 267.776 100.522 116.02 0 207.6-36.625 277.163-110.045.341-.41.785-.82 1.195-1.23v-9.42a34.133 34.133 0 0 0-34.134-34.133H273.067a34.133 34.133 0 0 0-34.134 34.133v20.173zm0 89.088V819.2a34.133 34.133 0 0 0 34.134 34.133h477.866a34.133 34.133 0 0 0 34.134-34.133V306.176c-75.64 58.368-168.824 87.586-278.358 87.586-104.448 0-194.082-26.59-267.776-79.667zm-68.266-75.025V204.8a102.4 102.4 0 0 1 102.4-102.4h477.866a102.4 102.4 0 0 1 102.4 102.4v614.4a102.4 102.4 0 0 1-102.4 102.4H273.067a102.4 102.4 0 0 1-102.4-102.4V239.002z"></path></symbol><symbol id="qyb-hongbao-shield1" viewBox="0 0 1024 1024"><path d="M170.667 239.002V204.8a102.4 102.4 0 0 1 102.4-102.4h477.866a102.4 102.4 0 0 1 102.4 102.4v279.279h-.58a34.133 34.133 0 0 1-67.106 0h-.58V306.21c-75.64 58.368-168.824 87.552-278.358 87.552-104.448 0-194.082-26.59-267.776-79.667V819.2a34.133 34.133 0 0 0 34.134 34.133h307.2a34.133 34.133 0 1 1-.41 68.267h-306.79a102.4 102.4 0 0 1-102.4-102.4V239.002zm614.4-24.781V204.8a34.133 34.133 0 0 0-34.134-34.133H273.067a34.133 34.133 0 0 0-34.134 34.133v20.173c68.301 67.072 156.911 100.522 267.776 100.522 116.02 0 207.6-36.625 277.163-110.045.341-.41.785-.82 1.195-1.23z"></path> <path d="M477.867 631.467H409.6a34.133 34.133 0 1 1 0-68.267h29.525l-38.673-46.421a34.133 34.133 0 0 1 52.43-43.691L512 544.018l59.119-70.93a34.133 34.133 0 0 1 52.429 43.69L584.875 563.2H614.4a34.133 34.133 0 1 1 0 68.267h-68.267V665.6H614.4a34.133 34.133 0 1 1 0 68.267h-68.267v30.72a34.133 34.133 0 0 1-68.266 0v-30.72H409.6a34.133 34.133 0 1 1 0-68.267h68.267v-34.133z"></path></symbol><symbol id="qyb-shield" viewBox="0 0 1024 1024"><path d="M403.922 786.618a301.493 301.493 0 0 0 370.536-434.15l-370.536 434.15zm-151.45-132.256l367.722-430.834a301.493 301.493 0 0 0-367.621 430.834zm262.701 354.356a502.489 502.489 0 1 1 0-1004.978 502.489 502.489 0 0 1 0 1004.978z" fill="#F05151"></path></symbol><symbol id="qyb-zimu" viewBox="0 0 1024 1024"><path d="M170.667 238.933a34.133 34.133 0 0 0-34.134 34.134v477.866a34.133 34.133 0 0 0 34.134 34.134h682.666a34.133 34.133 0 0 0 34.134-34.134V273.067a34.133 34.133 0 0 0-34.134-34.134H170.667zm0-68.266h682.666a102.4 102.4 0 0 1 102.4 102.4v477.866a102.4 102.4 0 0 1-102.4 102.4H170.667a102.4 102.4 0 0 1-102.4-102.4V273.067a102.4 102.4 0 0 1 102.4-102.4zM512 512h273.067a34.133 34.133 0 0 1 0 68.267H512A34.133 34.133 0 0 1 512 512zm-204.8 0h68.267a34.133 34.133 0 0 1 0 68.267H307.2a34.133 34.133 0 0 1 0-68.267zm-68.267 136.533H512a34.133 34.133 0 0 1 0 68.267H238.933a34.133 34.133 0 0 1 0-68.267zm409.6 0H716.8a34.133 34.133 0 0 1 0 68.267h-68.267a34.133 34.133 0 0 1 0-68.267z"></path></symbol><symbol id="qyb-zimu-shield1" viewBox="0 0 1024 1024"><path d="M583.714 853.163v.17H170.667a102.4 102.4 0 0 1-102.4-102.4V273.067a102.4 102.4 0 0 1 102.4-102.4h682.666a102.4 102.4 0 0 1 102.4 102.4v210.978h-.546a34.133 34.133 0 0 1-67.174 0h-.546V273.067a34.133 34.133 0 0 0-34.134-34.134H170.667a34.133 34.133 0 0 0-34.134 34.134v477.866a34.133 34.133 0 0 0 34.134 34.134h413.047v.17a34.133 34.133 0 0 1 0 67.926z"></path> <path d="M732.98 512.307a222.55 222.55 0 0 0-88.68 67.96H512A34.133 34.133 0 0 1 512 512h216.405c1.536 0 3.072.102 4.574.307zM307.2 512h68.267q34.133 0 34.133 34.133 0 34.134-34.133 34.134H307.2q-34.133 0-34.133-34.134Q273.067 512 307.2 512zM238.93300000000002 648.533H512q34.133 0 34.133 34.134 0 34.133-34.133 34.133H238.933q-34.133 0-34.133-34.133 0-34.134 34.133-34.134z"></path></symbol></svg>',loginRegTemplate:'<div class="barrage-login dn"  data-barrage-login id="danmuLogin"><p class="barrage-login-info"><a href="javascript:void(0)" class="login-link" rseat="80521_dm_dl">登录</a><a href="javascript:void(0)" data-barrage-reg class="login-link dn">注册</a>说⼀句～</p></div>',I5CustomTemplate:'<div data-barrage-I5Custom class="qy-barrage-i5"><div class="barrage-switch-wrap disabled"><span class="barrage-switch barrage-switch-open" data-barrage-status="show"><i class="qyb-svg qyb-svg-on"><svg aria-hidden="true" alt="" class="qyb-symbol-icon"><use xlink:href="#qyb-on"></use></svg></i><i class="qyb-svg qyb-svg-off"><svg aria-hidden="true" alt="" class="qyb-symbol-icon"><use xlink:href="#qyb-off"></use></svg></i></span></div><div class="barrage-input-wrap disabled" data-barrage-ele="wrap"><div class="barrage-input-box barrage-input-act" data-barrage-wrap="input"><div class="barrage-role"><div class="role-setting-entry"><i class="qyb-svg qyb-svg-A j_textrole_widget"><svg aria-hidden="true" class="qyb-symbol-icon"><use xlink:href="#qyb-A"></use></svg></i><i class="qyb-svg qyb-svg-role j_role_widget dn"><svg aria-hidden="true" class="qyb-symbol-icon"><use xlink:href="#qyb-role"></use></svg></i><i class="role-entry dn"><img src="//pic7.iqiyipic.com/image/20160307/bb/ea/p_2136_m_601_m1_80_80.jpg" class="barrage-entry-img"><i class="qyb-svg qyb-svg-A dn"><svg aria-hidden="true" class="qyb-symbol-icon"><use xlink:href="#qyb-A"></use></svg></i></i></div></div><input type="text" placeholder="弹幕走一波…" class="barrage-input" disabled data-barrage-input="barrage" data-rseat="608241_input"></div><a href="javascript:;" alt="输入按钮追加 barrage-send-act；字数限制追加barrage-limit-nub" data-barrage-send="barrage" data-barrage-limit="barrage" class="barrage-send">发送</a></div><div class="barrage-list-wrap dn" data-barrage-list="btn" rseat="80521_listbox_danmu_open"><i class="qyb-svg qyb-svg-list"><svg aria-hidden="true" alt="新加的" class="qyb-symbol-icon"><use xlink:href="#qyb-list"></use></svg></i> <div class="qy-barrage-tooltip">弹幕列表</div></div>'}}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(22),o=a(24);n.create(o)}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n,o=a(23),s=document.getElementById("uniqy_sdkpack"),n="sdkPackManager";s&&s.getAttribute("ns")&&(n=s.getAttribute("ns"));var r=window[n]||{},l=function(e){var t,a,i,n=e.prototype;n.init&&(t=n.init),n.on&&(a=n.on),n.un&&n.un,n.fire&&(i=n.fire),n.init=function(e){this.manager=r,"function"==typeof t&&t.call(this,e)},n.on=function(e,t){"function"==typeof a?a.call(this,e,t):this.manager.event.on(e,t)},n.fire=function(e,t){"function"==typeof i?i.call(this,e,t):this.manager.event.fire(e,t)},n.un=function(e,t){this.manager.event.un(tpye,t)},"function"==typeof r.define&&r.define(o,e)};i.exports={manager:r,namespace:n,create:l}}.call(t,a,t,e))&&(e.exports=i)},function(e,t){e.exports="barrage"},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(13),o=a(4),s=function(e){if(window.Q&&window.seajs)e&&e();else{try{n.addJavascript("//static.iqiyi.com/js/lib/sea1.2.js",function(){e&&e()})}catch(e){o.sendErrorLog({err:"seajs"})}}},r=function(e){e=e||{}};r.prototype={init:function(e){var t="//stc.iqiyipic.com/css/uniqy/main/barrage.377fb3fb.css";Q.PageInfo&&Q.PageInfo.playPageInfo&&Q.PageInfo.playPageInfo.isSource&&Q.PageInfo.playPageInfo.newTmplt&&(t="//stc.iqiyipic.com/css/uniqy/main/barrageAura3.b6bfe32c.css");try{n.addCSS(t,function(){}),s(function(){var t=new(a(27));(Q.PageInfo&&Q.PageInfo.playPageInfo||{}).branchId&&(e.isInteractVideo=!0),t.init(e)})}catch(e){o.sendErrorLog({err:"seajs&css"})}},on:function(e,t){window.sdkPackManager&&window.sdkPackManager.event&&window.sdkPackManager.event.on(e,t)},fire:function(e,t){window.sdkPackManager&&window.sdkPackManager.event&&window.sdkPackManager.event.fire({type:e,data:t})}},i.exports=r}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(26),o=a(14),s=document,r=function(){},l={},c={"*":"*/".concat("*"),text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},d={"*":null,text:null,html:null,xml:null,json:function(e){var t={},a=window.JSON?JSON.parse:function(){return{}};try{t=a(e)}catch(e){}return t}},u={method:"get",dataType:"*",timeout:1e4,charset:"utf-8",cache:!0,withCredentials:!0,jsonpCallback:"callback",complete:r,success:r,failure:r},h=function(e){var t=[];if("object"==typeof e)for(var a in e)t[t.length]=encodeURIComponent(a)+"="+encodeURIComponent(e[a]);return t.join("&").replace(/%20/g,"+")},f=function(e){e=e||{},n(e,u);var t=e.url,a=e.params||{},i=e.success,o=e.failure;if(t){!function(){function n(){var t;4==l.readyState&&(t=d[e.dataType]?d[e.dataType](l.responseText):l.responseText,200==l.status?i(t):o(l.statusText,t))}var s={},r=h(a);s.params=a,s.url=t+(r.length>0?(/\?/i.test(t)?"&":"?")+r:""),"function"==typeof e.beforeSend&&(s=e.beforeSend(s));var l=new XMLHttpRequest;l.withCredentials=e.withCredentials,l.onreadystatechange=n,l.open(e.method,s.url),l.timeout=e.timeout,l.setRequestHeader("Accept",c[e.dataType]),l.send()}()}},p=function(e){e=e||{},n(e,u),e.dataType="json",f(e)},g=function(e){e=e||{},n(e,u);var t=e.url,a=e.params||{},i=e.complete,r=e.success,c=e.failure,d="Q"+o(e.fixedCallback||t),f=!!e.memory,p=o(t+h(a)),g=l[p];if(t){if(f&&g&&r)return void r(g);var v=function(e,t,a){window[d]=void 0;try{delete window[d]}catch(e){}switch(e){case"success":f&&(l[p]=a),r(a);break;case"fail":c(a,t)}i(a)};window[d]=function(e){setTimeout(function(){v("success","200",e)},0)};var m,b={},y=s.createElement("script");y.async=!0,y.type="text/javascript",y.charset=e.charset;var w=function(){if(y)try{y.onload(null,!0)}catch(e){}};return y.abort=w,y.onload=y.onreadystatechange=function(e,t){(t||!y.readyState||/loaded|complete/.test(y.readyState))&&(y.onload=y.onreadystatechange=null,y.parentNode&&y.parentNode.removeChild(y),y=null,clearTimeout(m))},y.onerror=function(e){v("fail",null),w()},m=setTimeout(function(){v("fail",408),w()},e.timeout),a[e.jsonpCallback]=d,b.url=t+(/\?/i.test(t)?"&":"?")+h(a),b.params=a,"function"==typeof e.beforeSend&&(b=e.beforeSend(b)||b),y.src=b.url,s.getElementsByTagName("head")[0].appendChild(y),y}},v=function(e,t,a){if("string"==typeof t){var i=void 0===a||a;if(e){var n=[];i&&(e._=+new Date);for(var o in e)n.push(o+"="+encodeURIComponent(e[o]));var s=t+"?"+n.join("&"),r=new Image;r.onload=r.onerror=r.onabort=function(){r.onload=r.onerror=r.onabort=null,r=null},r.src=s}}};i.exports={serializeParam:h,ajax:f,json:p,jsonp:g,beacon:v}}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){a.exports=function e(t,a,i,n){function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}return a&&function(e,t){var a;for(a in e)if(o(e,a)&&t(e[a],a))break}(a,function(a,s){!i&&o(t,s)||(n&&"string"!=typeof a&&"boolean"!=typeof a?(t[s]||(t[s]={}),e(t[s],a,i,n)):t[s]=a)}),t}}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(0),o=a(38),s=a(9),r=a(15),l=a(40),c=a(16),d=(a(48),a(20)),u=a(1),h=a(10),f=a(4),p=a(49);Q.PageInfo&&Q.PageInfo.playPageInfo&&Q.PageInfo.playPageInfo.isSource&&Q.PageInfo.playPageInfo.newTmplt,i.exports=Q.Class("barrageAction",{construct:function(){},methods:{init:function(e){var t=this,a=Q.$("#"+e.id);a&&(e=e||{},t.doms={widget:a},this.isI5CustomTag=null,t.player=e.player||{},t.playPage=!1,t.isPad=Q.browser.iPad,t.android=Q.browser.android,t.pageType=a.attr("data-barrage1_5-type")||"normal",t.contentType=a.attr("data-barrage-contenttype"),t.isSupportUse=!0,t.isInteractVideo=e.isInteractVideo||!1,t.barrageInfo={},t.initDataList(e),t.instanceUnit(),t.player.getQiyiPlayerType(function(e){if(t.cookieCode="h5"===e?"QC159":"QC118","h5"==e){var a={barrageClient:t.initPlayer,player:t.player,isNewVersionPage:!0,callback:function(e){t.dataList.barrageServerSdk=e,t.initBarrage()}};try{window.sdkPackManager&&window.sdkPackManager.barrageServer?window.sdkPackManager.barrageServer.init(a):l.loadBarrageServerSdk(function(e){e.init(a)})}catch(e){f.sendErrorLog({err:"barrageServerErr"})}}else t.initBarrage()}))},isI5Custom:function(e){this.isI5CustomOpenDanmu=e,this.isI5CustomTag?this.isI5CustomTag.reset(this.isI5CustomOpenDanmu):(this.isI5CustomTag=new(a(58))(this),this.isI5CustomTag.init())},hideI5Custom:function(e){this.isI5CustomTag&&this.isI5CustomTag.hide()},instanceUnit:function(){try{this.hongbao=new(a(59))(this),this.barrageList=new(a(62)),this.switchDisplay=new(a(64))(this),this.configPanel=new(a(65))(this)}catch(e){f.sendErrorLog({err:"instanceUnit1"})}try{this.initPlayer=new(a(73))(this),this.contentPanel=new(a(74))(this),this.roleBarrageAction=new p(this)}catch(e){f.sendErrorLog({err:"instanceUnit2"})}},initBarrage:function(){var e=this;if(e.doms.widget.html(d.barrageTemplate),e.initDom(),e.initPlaceHolder(),e.initCookie(),e.initPrivateSetting(),e.hongbao.init(),e.initPlayer.initPlayer(),e.switchDisplay.initSwitchEvent(),e.isPad||e.android)return void e.switchDisplay.displayHideBarrage();e.configPanel.initConfigPanelEvent(),e.contentPanel.init(),e.initRoleAndFace(),2==e.contentType&&e.switchDisplay.switchBarrageShownStauts(1,"contentType2"),Q.event.customEvent.on("barrage-switch-other",function(t){t=t||{},t=t.data||{},e.switchDisplay.switchBarrageShownStauts(t.isOpen,"switch-other"),"flashright"===t.vfrom&&e.contentPanel.cannotInputTip()}),Promise.all([window.vueAppMounted&&window.vueAppMounted.promise]).then(function(){e.barrageList.init(e)})},initRoleAndFace:function(){var e=this,t=e.doms;e.dataList.isShowFace=!1,e.dataList.isShowRole=!1,e.dataList.selectedRole={},e.doms.barrageInput.value(""),e.roleBarrageAction.hasRoleBarrage(function(a){a?e.roleBarrageAction.initRoleBarrage():(t.inputWrap&&t.inputWrap.removeClass("barrage-input-role"),t.roleWidget&&(Q(".j_role_widget").addClass("dn"),Q(".j_clickrole_widget").addClass("dn"),Q(".j_textrole_widget").removeClass("dn")),e.roleBarrageAction.initTextRoleBarrage())})},initDataList:function(e){this.dataList={inputStatus:{enable:!0,save:!1,sending:!1},barrageInfo:{version:"1.5",hadCloseTips:0,isOpen:0,isFirstConfigPanel:!0,isFirstGuideTip:!0,enable:0,sendPb:!0,isVidChange:!1,isFullScreen:!1,isWebFullScreen:!1,isFlashFullScreen:!1,fakeWrite:!1,mcnt:1},roleInfo:{roleList:[],roleLength:0,ulLength:0,roleIdType:"",roleIdValue:"",defaultIcon:"",hasScoreRole:!1},selectedRole:{hasSelectedRole:!1,roleName:"",rolePic:"",roleType:"",avatarId:""},userBadge:{badgeValid:!1},isSmallWindow:0,shownPingbackFlag:!0,faceclick:!1,isShowFace:!1,isShowRole:!1,coop:null,defaultBulletConfig:{},playerType:"flash",allowPopups:!1,ads:{},isLoadBarrage:0,leaveTime:300,cookieConfig:null,qypid:"01010011010000000000",isSupportAnimation:void 0!==document.body.style.animation,countdownTime:5,qpid:null,cid:null,aid:null}},initDom:function(){var e=this.doms,t=this.doms.widget;e.kaiguan=t.down('[data-barrage-status="show"]'),e.btnTipWrap=t.down('[data-barrage-btntip="wrap"]'),e.barrageInput=t.down('[data-barrage-input="barrage"]'),e.sendBtn=t.down('[data-barrage-send="barrage"]'),e.faceBtn=t.down('[data-barrage-face="barrage"]'),e.roleWidget=t.down(".j_role_widget"),e.textColorSetWidget=t.down(".j_textrole_widget"),e.faceTipWrap=t.down('[data-barrage-facetip="wrap"]'),e.guideTip=t.down('[data-barrage-guide="tip"]'),e.inputWrap=t.down('[data-barrage-wrap="input"]'),e.kaiguantip=t.down('[data-barrage-tip="kaiguantip"]'),e.limitBtn=t.down('[data-barrage-limit="barrage"]'),e.tucaoBlock=t.down("#block-tucaou")||t,e.faceModule=t.down('[data-barrage-module="face"]')},initCookie:function(){this.extendConfig({color:"FFFFFF",channelConfig:0})},initPrivateSetting:function(){var e=this;"true"===e.doms.widget.attr("data-issetprivate")&&(e.isSupportUse=!1,Q.event.customEvent.on("swf_playerStateChange",function(t){t=t||{},t=t.data||{};var a=t.state||"",i=t.privateVideo;"DataReady"!=a&&"Error"!=a||("1"===i?e.isSupportUse=!1:"0"===i&&(e.isSupportUse=!0))}))},setInput_changeVideo:function(e){this.changeAdPlaceHolder(e.data,1),this.contentPanel.changeCountDown()},placeholder:function(e,t){e.attr("placeholder",t),this.doms.placeholder=t},changeAdPlaceHolder:function(e,t){var a=this;if(e.ty){var i=a.doms.barrageInput;Q.browser.IE6||Q.browser.IE7||Q.browser.IE8||Q.browser.IE9?(i.value=i.__value,i.value(""),o.unBind(i),a.placeholder(i,a.doms.inputTxtDef),o.simulate(i,barrageInfo.simulateParam)):a.placeholder(i,a.doms.inputTxtDef)}},initPlaceHolder:function(){var e={tipColor:"#333"};"short"!=this.pageType&&"living"!=this.pageType&&this.playPage||(e.tipColor="#999",e.valColor="#999"),this.dataList.barrageInfo.simulateParam=e,o.simulate(this.doms.barrageInput,e),this.changeAdPlaceHolder({}),this.doms.placeholder=this.doms.barrageInput.attr("placeholder"),this.doms.inputTxtDef=this.doms.barrageInput.attr("oldplaceholder")||this.doms.barrageInput.attr("placeholder")||"可以在这里输入弹幕哦！"},initScroll:function(e){if(e){var t=e.attr("data-scrollname"),a=Q.$("#scrollbar-"+t),i=e.down("[data-scrollwrap='"+t+"']");if(a){var n={doms:{widget:e,scrollBar:a,scrollWrap:i,scrollContent:e.down("[data-scrollcontent='"+t+"']")},name:t},o=i&&i.attr("data-scrollheight");o&&(n.scrollWrapHeight=o);try{new c(n)}catch(e){}}}},getConfig:function(){var e=Q.cookie.get(this.cookieCode)||{};try{e=JSON.parse(e),this.dataList.cookieConfig=e}catch(e){}return e||{}},extendConfig:function(e){var t=this.getConfig();Q.object.extend(t,e),this.dataList.cookieConfig=t;var a=JSON.stringify(t);Q.cookie.set(this.cookieCode,a,{path:"/",domain:s.SITE_DOMAIN,expires:31536e6})},getDoms:function(e,t){for(var a=e.down("["+t+"]"),i=a.length,n={},o=i-1;o>=0;o--){var s=Q(a[o]),r=s.attr(t);if(n[r])if(n[r].length>0)n[r].push(s);else{var l=[];l.push(n[r]),n[r]=l}else n[r]=s}return n},changePlayerSetting:function(e){this.initPlayer.setBarrageSetting(e)},guideTip:function(){var e=this,t=e.doms,a=e.dataList,i=a.barrageInfo,n=a.cookieConfig;if(a.inputStatus.enable){n&&e.getConfig(),n.hadTip||(!function(e,t){1!=i.hadCloseTips&&(e.show(),setTimeout(function(){e.hide(),t&&t()},3e3))}(t.btnTipWrap,function(){}),n.hadTip=1,e.extendConfig(n))}},initLoginRegSendEvent:function(){var e=this,t=e.doms,a=t.barrageInput;Q(t.inputWrap.parent()).append(d.loginRegTemplate);var i=Q("#danmuLogin");n.isLogin()||(a.attr("disabled","disabled"),i.removeClass("dn"),Q('[data-barrage-ele="wrap"]').addClass("nlogin")),u.init();var o=t.widget.down("[data-barrage-login]"),s=t.widget.down("[data-barrage-reg]");o.on("click",function(){u.openLoginWindow({loginSource:"danmu_denglu"})}),s.on("click",function(){u.openLoginWindow({isReg:!0,loginSource:"danmu_zhuce"})}),Q.event.customEvent.on("login",function(){a.removeAttr("disabled"),i.addClass("dn"),Q('[data-barrage-ele="wrap"]').removeClass("nlogin")}),Q.event.customEvent.on("logout",function(){a.value(""),(Q.browser.IE6||Q.browser.IE7||Q.browser.IE8||Q.browser.IE9)&&a.value(" "),e.dataList.userBadge={},e.contentPanel.changeCountDown(),a.attr("disabled","disabled"),i.removeClass("dn"),Q('[data-barrage-ele="wrap"]').addClass("nlogin");var t={clickRole:0};h.extendConfig(e.dataList,"QC159",t)})},sendClickPingback:function(e,t){var a=this.dataList;r.sendClickPingback(a,e,t)},sendPvPingback:function(e,t){var a=this.dataList;r.sendPvPingback(a,e,t)}}})}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(5),o=(a(14),a(8)),s=a(9),r=(s.getDomain(),window.location.protocol);i.exports=n("RIIsLogin",{construct:function(){this._remoteInterface=new o({userinfodetail:{url:r+"//pcw-api.iqiyi.com/passport/user/userinfodetail"}})},methods:{sendInfoAction:function(e,t){e.param=e.param||{},this._remoteInterface.send({dataType:"jsonp",ifname:"userinfodetail",param:e.param,cors:!0,method:"GET",withCredentials:!0},function(a){t&&t(a,e.param)})}}})}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){(function(i){var n;void 0!==(n=function(e,t,i){var n=a(7),o=function(e,t,a){var i,o=e.split("."),s=o.length-1,r=0;if(!a)try{if(!new RegExp("^[a-zA-Z_$][a-zA-Z0-9_$]*$").test(o[0]))throw"";a=new Function("return "+o[0])(),r=1}catch(e){a=n}for(;r<s;r++)i=o[r],a[i]||(a[i]={}),a=a[i];a[o[s]]||(a[o[s]]=t)};i.exports=o}.call(t,a,t,e))&&(e.exports=n)}).call(t,a(6))},function(e,t,a){var i;void 0!==(i=function(e,t,a){var i=function(){},n={};n.superclass=Object,n.__NAME__="Object",n.superinstance={},n.callsuper=function(e){var t,a=this;this._realsuper?this._realsuper=this._realsuper.prototype.superclass:this._realsuper=this.superclass,"string"==typeof e?(t=Array.prototype.slice.call(arguments,1),a._realsuper.prototype[e].apply(a,t)):(t=Array.prototype.slice.call(arguments,0),a._realsuper.apply(a,t)),this._realsuper=null},i.prototype=n,a.exports=i}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){a.exports={check:function(e,t){var a=this;if(!e)return!0;var i=!0;return Q.object.forEach(e,function(n,o){if(!(o in t))return a.log("缺少字段["+o+"]"),i=!1,!1;if("number"==e[o].type&&"number"!=typeof t[o])return a.log("字段["+o+"]不是数字"),i=!1,!1;if("string"==e[o].type&&"string"!=typeof t[o])return a.log("字段["+o+"]不是字符串"),i=!1,!1;if("array"==e[o].type){if(!a.checkArray(e[o],t[o]))return a.log("字段["+o+"]值与定义不符"),i=!1,!1}else if("object"==e[o].type){if(!a.checkObject(e[o].struct,t[o]))return a.log("字段["+o+"]值与定义不符"),i=!1,!1}else if(!0!==e[o].empty&&a.isEmpty(e[o],t[o]))return a.log("字段["+o+"]值为空"),i=!1,!1}),i},checkArray:function(e,t){var a=this;if(Q.array.isArray(t)){var i=!0;return t.forEach(function(t){if(!a.checkData(e.item,t))return i=!1,!1}),i}return!1},checkObject:function(e,t){return this.check(e,t)},isEmpty:function(e,t){return"object"==e.type?null===t:"array"==e.type?0===t.length:""===t},checkData:function(e,t){return"number"==e.type&&"number"==typeof t||("string"==e.type&&"string"==typeof t||("boolean"==e.type&&"boolean"==typeof t||("array"==e.type?this.checkArray(e.item,t):"object"==e.type&&this.checkObject(e.struct,t))))},log:function(e){}}}.call(t,a,t,e))&&(e.exports=i)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var _RHF8VG=eval(function(e,t,a,i,n,o){if(n=function(e){return(e<62?"":n(parseInt(e/62)))+((e%=62)>35?String.fromCharCode(e+29):e.toString(36))},!"".replace(/^/,String)){for(;a--;)o[n(a)]=i[a]||n(a);i=[function(e){return o[e]}],n=function(){return"\\w+"},a=1}for(;a--;)i[a]&&(e=e.replace(new RegExp("\\b"+n(a)+"\\b","g"),i[a]));return e}('(19(){18 13={\'33\':19(a,b){1d a*b},\'N\':19(a,b){1d a<b},\'2C\':19(a,b){1d a&b},\'2p\':19(a,b){1d a&b},\'39\':19(a,b){1d a>>b},\'T\':19(a,b){1d a&b},\'1a\':(19(){18 d=0,1B=\'\',1z=[[],1g,[],[],\'\',\'\',\'\',\'\',\'\',\'\',1i,-1,-1,1g,1i,1i,1f,1f,{},-1,-1,/ /,1f,{},1g,{},1g,/ /,/ /,-1,1i,-1,/ /,/ /,1f,1f,1f,1f,1g,1g,1g],1I=1z["1r"];1e(;d<1I;){1B+=+(4U 1z[d++]===\'4T\')}18 e=3g(1B,2),1A=\'4F://4A?q=;%29%4x.%29%4v%4u%4t\',3e=1A.3d.3d(1C(/;.+/["4q"](1A))["4l"](\'\')["4h"]()["3b"](\'\'))();1d{1c:19(a){18 b,d=0,1K=e-3e>1I,1q;1e(;d<a["1r"];d++){1q=3g(a["1w"](d),16)["1y"](2);18 c=1q["1w"](1q["1r"]-1);b=d===0?c:b^c}1d b?1K:!1K}}})(),\'36\':19(a,b){1d a<b},\'35\':19(a,b){1d a>>b},\'H\':19(a,b){1d a*b},\'Z\':19(a,b){1d a*b},\'W\':19(a,b){1d a&b},\'34\':19(a,b){1d a<b},\'31\':19(a,b){1d a&b},\'2Z\':19(a,b){1d a%b},\'K\':19(a,b){1d a-b},\'2Y\':19(a,b,e){1d a^b^e},\'2X\':19(a,b){1d a 1o b},\'2W\':19(a,b){1d a*b},\'2V\':19(a,b){1d a<b},\'2U\':19(a,b){1d a<=b},\'2T\':19(a,b){1d a>>>b},\'Q\':19(a,b){1d a<<b},\'E\':19(a,b){1d a===b},\'2S\':19(a,b){1d a>b},\'2Q\':19(a,b){1d a<<b},\'2P\':19(a,b){1d a%b},\'2L\':19(a,b){1d a===b}};19 2K(F,u,2G,2E,1l){18 1m=13.1a.1c("4S")?\'/4s/\':";&&&2B=",2A=13.1a.1c("47")?\'41.3Z\':20,2z=13.1a.1c("3V")?25:\'//1H.\',2v=13.1a.1c("4b")?"2t":"2s",2j=13.1a.1c("3M")?"2t":"3y",2d=13.1a.1c("3p")?"x":"4P",2b=13.1a.1c("3Q")?2:\'&3z=\',26=13.1a.1c("2c")?\'1W\':\'&2M=\',2F=";&&&2B=",1X="3Y",1Y=";",1Z="3r",24=13.1a.1c("3X")?12:"2S",1U="",1T=13.1a.1c("3B")?"1C":"1r",27=13.1a.1c("1b")?44:\'2a\',1S=13.1a.1c("4c")?\'$1\':\'\',1R="3n",1P="3q",1O=13.1a.1c("3t")?6:\'/\',2e="3A",2g=\'a\',2h=13.1a.1c("3F")?"1N":"2i",G=8,2k=13.1a.1c("49")?\'1i\':2l,2m=13.1a.1c("3m")?\'2a\':43,2n=13.1a.1c("15")?\'a\':38,2o="1N",j=4,2q=2r,1L=16,I="3b",2u=40,1u=13.1a.1c("3E")?12:11,1s=\'=\',2w=13.1a.1c("3P")?38:25,k=1,2x="K",x=13.1a.1c("3S")?44:5,w=2,2y="H",1F=44,1D="1y",z=13.1a.1c("46")?2r:\'&\',1p=\'?\',l=0,A=13.1a.1c("4d")?"4i":"4r",J=13.1a.1c("4z")?"4J":"2i";19 4K(a){18 b="4L";1d(4O[b](a))}19 f(a,b){a[J](b)}18 1n=13.1a.1c("3l")?19(a){18 b="2D";h[b]=a}:2,1V=19(){18 a="1w",b="E";h[A]=13.1a.1c("3o")?13[b](h[A][a](l),1p)?(h[A]+z+y):(1p+y):\'//1H.2H.\'},2I=19(){18 b=13.1a.1c("3s")?\'&2M=\':\'2J\',e=13.1a.1c("3u")?\'1W\':\'=\',q=13.1a.1c("3v")?"j":"3w",r=13.1a.1c("3x")?"2L":0,M=13.1a.1c("4Z")?"2N":"2O",O="3D",P=\'2R\',R="2X",S=\'1i\',U=\'19%3G%28%29%20%3H%20%3I%3J%3K%20%3L\',V=13.1a.1c("3N")?"3O":U,s=S;1Q(13[R](P,1M[O][M])){1Q(13[r](3R(2s[q][1D]()),V)){18 X=19(a){s=13.1a.1c("3T")?a:"30"};X(e)}3U{18 Y=19(a){s=13.1a.1c("3W")?a:"2N"};Y(b)}};1d s},g=13.1a.1c("2c")?"2D":[];f(g,1F);f(g,13[2y](w,x));f(g,13[2x](l,w));18 y=[];f(g,-k*w);f(g,-2w);1e(18 1j 1o u){y[J](1j+1s+u[1j])}f(g,x*-1u);f(g,2u);y=y[I](z);f(g,-1L);f(g,2q);f(g,-j);g[2o]([1F,-2n,2m,-2k,-G]);18 h=1M[2h](2g);1n(F);1V();18 C=[];18 1h=(42 45())[2e]();f(C,1O+h[1P][1R](/^\\/(.*)/,1S)+h[A]);f(C,1h);f(C,2G||27);18 37=19(t){18 1m=13.1a.1c("48")?"N":"1y",1x=4a,3a=19(p){18 g=13.1a.1c("4e")?2l:"2C";18 h="36";18 u=13.1a.1c("4f")?\'2J\':\'\';18 y=13.1a.1c("4g")?32:8;18 z=15;18 A=7;18 B=3;18 C="34";18 E="2V";18 F=13.1a.1c("3c")?4j:\'?\';18 H="4k";18 I="2Q";18 J="35";18 K="2U";18 L=13.1a.1c("4m")?"":4n;18 N=4o;18 Q=14;18 T=13.1a.1c("4p")?\'//1H.2H.\':6;18 W=13.1a.1c("3c")?19(a){n=a}:"";18 Z=19(a){p=a};18 1n=19(){18 a="33";18 b="Z";1k[p=13[b]((d+G>>T),t)+Q]=13[a](d,G)};18 i,o,m,c,1k=[],1J=1C(30(p)),d=13.1a.1c("4w")?1J[1T]:6,D=13.1a.1c("4y")?17:[i=N,o=-L,~i,~o],n=l;1e(;13[K](n,d);)1k[13[J](n,w)]|=13[I]((1J[H](n)||F),G*(n++%j));1n();W(l);1e(;13[E](n,p);n+=t){d=D,c=l;1e(;13[C](c,1x);){18 1j=19(){18 a="2T";18 b="2Z";18 e="2W";18 q=21;18 r=10;18 M=23;18 O=20;18 P=9;18 R=22;18 S=17;18 U=12;18 V="2P";18 s="39";18 X="2Y";18 Y="2p";18 f="31";d=[m=d[B],v(i=d[k],(m=v(v(d[l],[13[f](i,(o=d[w]))|~i&m,13[Y](m,i)|~m&o,13[X](i,o,m),o^(i|~m)][d=13[s](c,j)]),v(1h[c],1k[13[V]([c,x*c+k,B*c+x,A*c][d],t)+n])))<<(d=[A,U,S,R,x,P,Q,O,j,1u,t,M,T,r,z,q][13[e](j,d)+13[b](c++,j)])|13[a](m,y-d)),i,o]};1j()};1e(c=j;c;)D[--c]=v(D[c],d[c])};Z(u);1e(;13[h](c,y);)p+=(13[g]((D[c>>B]>>((k^c++&A)*j)),z))[1D](t);1d p};19 v(a,b){18 e="W",q="T",r=13.1a.1c("4B")?"4C":"Q";1d(13[r](((a>>k)+(b>>k)),k))+(13[q](a,k))+(13[e](b,k))}18 1h=13.1a.1c("4D")?[]:"4E",1t=l;1e(;13[1m](1t,1x);){18 1l=19(){18 a=4G,b="4H",e="4I";1h[1t]=l|(3f[e](3f[b](++1t))*a)};1l()};1d 3a}(1L),1v=37(C[I](1U));1Q(13[24](1v[1T],j)){18 3h=13.1a.1c("4M")?\'2R\':19(a){18 b=13.1a.1c("2f")?"4N":"1N";B[b]=a},3i=19(a){18 b="2O";B[b]=a},3j=19(a){18 b="4Q";B[b]=a};18 L=1U;L+=1M[1Z]+1Y+4R[1X]+2F+1h;L=3k(L);18 B={};3h(1v);3j(1h);3i(2E);C[l]+=26+L+2b+2I();18 1G=[];1e(18 1E 1o B){1G[J](1E+1s+B[1E])}18 u={4V:3k(1O+h[1P][1R](/^\\/(.*)/,1S)+h[A]+z+1G[I](z)),4W:h[2d][2j]()},F=h[2v]+2z+(1l||2A)+1m;1d{4X:F,4Y:u,3C:F+1p+(19(a){18 b=[],e;1e(18 e 1o a){b[J](e+1s+a[e])}1d b[I](z)})(u)}}};1d 2K})();',0,310,"|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||ba|||||var|function|n3||o3|return|for|NaN|false|be|null|bd|d0|bg|bb|bc|in|h0|A3|length|g0|e0|F0|O0|charAt|s0|toString|s3|v3|r3|unescape|J0|bl|I0|bi|kylin|t3|q0|z3|D0|document|concat|C0|B0|if|v0|w0|y0|z0|R1|sgve|E1|B1|A1|||||C1||v1|F1|||0bfa7c5fffd74bf9a5243918afad3146|w1||u1|I1||H1|G1|createElement|z1|N1|53|M1|L1|K1|x0|J1|51|navigator|protocol|Q1|x1|P1|O1|U1|y1|r1|tim|W0|href|bk|D1|bj|sp|T1|sijsc|_RHF8VG|c1|__refI|style|bird_src|H0|l0|WebkitAppearance|f1|Q0|f0|o0|K0|Z0|A0|N0|encodeURI|u0||c0|r0|i0|T0|bf||E0|n1|join|ab|constructor|w3|Math|parseInt|bh|X1|Y1|encodeURIComponent|eb|bfe|replace|13b2|b5ee|pathname|URL|26e|b23|8ee7|bf4|javaEnabled|c3a|toLocaleUpperCase|__jsT|getTime|e75|fullUrl|documentElement|2b5|24e|20javaEnabled|7B|5Bnative|20code|5D|7D|cd1e|376|arrCode|7f7f|a7b|escape|ffaa|272|else|873|e27|def2|devicePixelRatio|com||iqiyi|new|||Date|a66|f6|881|7e1|64||e1b7|8f|2255|eca|2a1|reverse|search|128|charCodeAt|split|ae|271733879|1732584193|b186|exec|code|activity|20nruter|20wen|28etaD|83|28emiTteg|84e|731|localhost|ae33|kos|5fd|jst|http|4294967296|sin|abs|push|Z1|fromCharCode|3dc|bird_sc|String|hostname|bird_t|window|a6cd|object|typeof|target|server|url|data|6876".split("|"),0,{}));module.exports=_RHF8VG}.call(exports,__webpack_require__,exports,module))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(e,t,a){(function(i){var n;void 0!==(n=function(e,t,i){var n=a(5),o=a(34),s=a(35),r=a(7),l=a(36),c={},d={remove:function(e){delete c[e]},read:function(e){return c[e]},write:function(e,t){c[e]=t}},u="QInfo",h=[],f={},p={moduleName:"",date:"",message:"",tpl:"",level:""},g=function(e){for(var t=[e.tpl,e.level,e.moduleName,l(new Date(1*e.date),"yyyy-MM-dd HH:mm:ss")],a=0;a<e.message.length;a++)t.push(e.message[a]);return o.apply(null,t)},v={log:function(e){r.console&&r.console.log&&r.console.log(g(e))},info:function(e){r.console&&r.console.info&&r.console.info(g(e))},debug:function(e){r.console&&r.console.debug&&r.console.debug(g(e))},warn:function(e){r.console&&r.console.warn&&r.console.warn(g(e))},error:function(e){r.console&&r.console.error&&r.console.error(g(e))},flush:function(e){this.log(g(e))}},m=n("InfoCenter",{construct:function(e){e=e||{},this._moduleName=e.moduleName||"Unknown",this._tmpl=e.tmpl||"[%s][%s][%s] >>> %s";var t={};s(t,v),s(t,e.output||{}),this._output=t},statics:{toStr:g,enable:function(){r.enabled=!0},disable:function(){r.enabled=!1},whatToSave:function(e){"string"==typeof e?f[e]=!0:e&&e.length>0&&e.forEach(function(e){f[e]=!0})},whatToPrint:function(e){for(var t in e)p[t]=e[t]},setStorage:function(e){e.key&&(u=e.key),d=e.storage,h=d.read(u)?JSON.parse(d.read(u)):[]},setOutput:function(e){s(v,e||{})},flush:function(e){e=e||{},e=s({output:function(e){if(r.global.console){for(var t=0;t<e.length;t++)e[t]=g(e[t]);r.console.log(e.join("\r\n"))}}},e);var t=e.filter,a=JSON.parse(d.read(u));t&&(a=this._filter(t)),e.output(a)},clear:function(){h=[],d.remove(u),d.write(u,"[]")},_filter:function(e){var t=e.level,a=e.moduleName,i=e.fn||function(){return!0},n=[];return h.forEach(function(e){t&&-1===t.toUpperCase().indexOf(e.level.toUpperCase())||a&&-1===a.toUpperCase().indexOf(e.moduleName.toUpperCase())||i(e)&&n.push(e)}),n}},methods:{_formatInfo:function(e,t){e=Array.prototype.slice.call(e);var a={};for(var i in p)a[i]=p[i];return a.moduleName=this._moduleName,a.date=(new Date).getTime(),a.message=e,a.tpl=this._tmpl,a.level=t,a},log:function(e){var t=this._formatInfo(arguments,"LOG");this._writeLog(t),this._check()&&this._output.log(t)},debug:function(e){var t=this._formatInfo(arguments,"DEBUG");this._writeLog(t),this._check()&&this._output.debug(t)},info:function(e){var t=this._formatInfo(arguments,"INFO");this._writeLog(t),this._check()&&this._output.info(t)},warn:function(e){var t=this._formatInfo(arguments,"WARN");this._writeLog(t),this._check()&&this._output.warn(t)},error:function(e){var t=this._formatInfo(arguments,"ERROR");this._writeLog(t),this._check()&&this._output.error(t)},_writeLog:function(e){e&&f[e.moduleName]&&(h.length>=300&&h.splice(0,1),h.push(e),this._save())},_save:function(){d.remove(u),d.write(u,JSON.stringify(h))},_check:function(){return r.enabled}}});i.exports=m}.call(t,a,t,e))&&(e.exports=n)}).call(t,a(6))},function(e,t,a){(function(i){var n;void 0!==(n=function(e,t,i){var n=a(7),o=/%[sdj%]/g;i.exports=function(e){var t;if("string"!=typeof e){var a=[];for(t=0;t<arguments.length;t++)a.push(n.inspect(arguments[t]));return a.join(" ")}t=1;for(var i=arguments,s=i.length,r=String(e).replace(o,function(e){if(t>=s)return e;switch(e){case"%s":return String(i[t++]);case"%d":return Number(i[t++]);case"%j":return JSON.stringify(i[t++]);case"%%":return"%";default:return e}}),l=i[t];t<s;l=i[++t])r+=null===l||"object"!=typeof l?" "+l:" "+n.inspect(l);return r}}.call(t,a,t,e))&&(e.exports=n)}).call(t,a(6))},function(e,t,a){var i;void 0!==(i=function(e,t,a){var i=function(e,t,a){a=a||function(){return!0};for(var i in t)t.hasOwnProperty(i)&&a(e[i],t[i])&&(e[i]=t[i]);return e};a.exports=i}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(37),o=function(e,t){function a(e,a){t=t.replace(e,a)}if("string"!=typeof t)return e.toString();var i=e.getFullYear(),o=e.getMonth()+1,s=e.getDate(),r=e.getHours(),l=e.getMinutes(),c=e.getSeconds();return a(/yyyy/g,n(i,4)),a(/yy/g,n(parseInt(i.toString().slice(2),10),2)),a(/MM/g,n(o,2)),a(/M/g,o),a(/dd/g,n(s,2)),a(/d/g,s),a(/HH/g,n(r,2)),a(/H/g,r),a(/hh/g,n(r%12,2)),a(/h/g,r%12),a(/mm/g,n(l,2)),a(/m/g,l),a(/ss/g,n(c,2)),a(/s/g,c),t};i.exports=o}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){var i=function(e,t){var a="",i=e<0,n=String(Math.abs(e));return n.length<t&&(a=new Array(t-n.length+1).join("0")),(i?"-":"")+a+n};a.exports=i}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){var i,n;a.exports={unBind:function(e){i&&e.un("focus",i),n&&e.un("blur",n)},simulate:function(e,t){if(e=Q.$(e),t=t||{},Q.browser.IE6||Q.browser.IE7||Q.browser.IE8||Q.browser.IE9){var a=e.attr("placeholder")||t.placeholder,o=e.attr("type"),s=t.tipColor||"#999",r=t.valColor||"#333",l=e.attr("tabindex");if(a)switch(a+="   ",o){case"password":var c=Q.$(document.createElement("input"));c[0].className=e[0].className,c.attr("type","text"),c.value(a),c.css("color",s),c.hide(),c.attr("tabindex","-1"),e.parent().insertBefore(c,e),c.on("focus",function(){c.hide(),e.css("display",""),e[0].focus(),e.attr("tabindex",l),c.attr("tabindex",-1)}),e.on("blur",function(){e.__value()||(e.hide(),c.css("display",""),e.attr("tabindex",-1),c.attr("tabindex",l))}),e.__value=e.value,e.value=function(t){if(arguments.length<1)return this.__value();var a=this.__value(t);return this.__value()?(c.hide(),e.css("display",""),e.attr("tabindex",l),c.attr("tabindex",-1)):(e.hide(),c.css("display",""),e.attr("tabindex",-1),c.attr("tabindex",l)),a};var d=e[0];d.__focus=d.focus,d.focus=function(){c.hide(),e.css("display",""),d.__focus();var t=d.value.length;if(d.createTextRange){var a=d.createTextRange();a.move("character",t),a.collapse(),a.select()}else d.setSelectionRange(0,t),d.__focus()},e.__value()||(e.hide(),c.css("display",""),e.attr("tabindex","-1"),c.attr("tabindex",l));break;default:e.__value=e.value,e.value=function(t){if(void 0===t)return t=this.__value(),t===a?"":t;var i=this.__value(t);return this.__value()?e.css("color",r):(e.__value(a),e.css("color",s)),i},i=function(){var a=e.attr("placeholder")||t.placeholder;a+="   ",e.__value()===a&&(e.__value(""),e.css("color",r))},e.on("focus",i),n=function(){if(!e.__value()){var a=e.attr("placeholder")||t.placeholder;a+="   ",e.__value(a),e.css("color",s)}},e.on("blur",n),e.__value()||(e.__value(a),e.css("color",s))}}return e}}}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){var i="http://msg.qy.net";"https:"==window.location.protocol&&(i="https://msg.qy.net");var n=Q.Class("PagePingBack",{construct:function(e,t){this.url=e||i+"/b",this.options=t||{}},methods:{pv:function(e,t){t=t||this.options,t.url=t.url||this.url,s({block:e,t:21},t)},cl:function(e,t){t=t||this.options,t.url=t.url||this.url;var a={t:20,rseat:e};if(t.event&&"number"==typeof t.event.pageX&&(a.clkx=t.event.pageX,a.clky=t.event.pageY),t.target){var i=Q(t.target);e||(a.rseat=i.attr("rseat")),a.rlink=i.attr("href")}Q.extend(a,t),!a.re&&window.document&&(a.re=[document.offsetWidth,document.offsetHeight].join("&")),s(a,t)}}}),o=new n,s=function(e,t){var a=t.url,n={pf:1,p:10,p1:101,p2:"1_10_101",jsuid:Q.cookie.get("QC005"),u:Q.cookie.get("QC005"),pu:Q.cookie.get("P00003")};Q.PageInfo&&Q.PageInfo.playPageInfo&&Q.PageInfo.playPageInfo.videoTemplate&&(n.tmplt=Q.PageInfo.playPageInfo.videoTemplate),Q.extend(n,e),t.param&&"object"==typeof t.param&&(t.cover?n=t.param:Q.extend(n,t.param)),/^(http:|https:)?\/\/([\w.]+\/?)\S*$/.test(t.url)?a=t.url:t.url&&(a=i+t.url),Q.log.server(n,a)};a.exports={create:function(e){return new n(e.url,e)},cl:function(e,t){o.cl(e,t)},pv:function(e,t){o.pv(e,t)}}}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(13);i.exports={loadBarrageServerSdk:function(e){this._getSdkManager(function(){window.sdkPackManager.require("barrageServer",function(t){e(t)},{business:"1",config:{}})})},_getSdkManager:function(e){if(window.sdkPackManager)e();else{var t="//static.iqiyi.com/js/sdkpack/sdkpackmanager.js?v="+Math.random();n.addJavascript(t,function(){e()})}}}}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(42),o=a(19);i.exports=Q.Class("Widget",{extend:n,construct:function(e){if(!(e.view instanceof o))throw new Error("Widget.construct : view is not instance of WidgetView");this.callsuper({model:e.model,view:e.view})},methods:{redraw:function(){this._view.update(this._model.get())},config:function(e){this._view.config(e)}}})}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(2),o=a(43);i.exports=Q.Class("NonMVCWidget",{extend:n,construct:function(e){this.callsuper(e),this._plugins=[]},methods:{init:function(){var e=this;this._plugins.forEach(function(t){t.init(e)})},registerPlugin:function(e){if(!(e instanceof o))throw new Error("Not a Plugin's instance.");this._plugins.push(e)},resetPlugin:function(){this._plugins=[]}}})}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){a.exports=Q.Class("Plugin",{construct:function(e){throw new Error("Can not create instance.")},methods:{init:function(e){this._widget=e}}})}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(17);i.exports=Q.Class("ScrollModel",{extend:n,construct:function(e){this.callsuper(),this.contentLength=e.doms.scrollWrap.height(),this.targetLength=e.doms.scrollContent.height(),e.scrollWrapHeight&&(this.contentLength=e.scrollWrapHeight),this.dis=0,this.scrollBarLength=0,this.contentPos=0,this.moveDis=0,this.margin=0,this.maxRate=e.maxRate||2,this.minRate=e.minRate||1,this.minLength=e.minLength||50,this._data={}},methods:{init:function(e){if(this.dis=this.targetLength-this.contentLength,this.dis<=0)return e.notice({type:"disable"});e.notice({type:"enable"}),this.calc()},get:function(){return{margin:this.margin,moveDis:this.moveDis,rate:this.rate,contentPos:this.contentPos}},calc:function(){this.dis<this.contentLength-this.minLength?this.scrollBarLength=this.contentLength-this.dis:this.scrollBarLength=this.minLength,this.restLength=this.contentLength-this.scrollBarLength,this.rate=this.dis/(this.contentLength-this.scrollBarLength)},moveBar:function(e){this.margin+e<=0?(this.moveDis=-this.margin,this.margin=0,this.contentPos=0):this.margin+e>=this.restLength?(this.moveDis=this.restLength-this.margin,this.margin=this.restLength,this.contentPos=-this.restLength*this.rate):(this.moveDis=e,this.margin=this.margin+e,this.contentPos=this.contentPos-e*this.rate)},reset:function(e){this.init(e),this.margin=0,this.moveDis=0,this.contentPos=0}}})}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(19);a(46);i.exports=Q.Class("ScrollViewV2",{extend:n,construct:function(e){this.movingClass=e.movingClass||"",this.hasBindEvent=!1,this.contentMoveCss=e.contentMoveCss||"marginTop",this.disableWheel=e.disableWheel||!1,this.wheeldelta=e.wheeldelta||3,this.conRateWheel=e.conRateWheel||!1,this.movePerWheel=e.movePerWheel||10,this.cwheeldelta=e.cwheeldelta||120,this.ipadDivisor=e.ipadDivisor||1,this.callsuper(e),this.isScroll=!1,this._doms.widget.attr("data-class-scrolldis")&&(this.inClass=this._doms.widget.attr("data-class-scrollenable"),this.outClass=this._doms.widget.attr("data-class-scrolldis"))},methods:{init:function(e){e.disable?this._doms&&this._doms.scrollBar.css("height",0):(this.callsuper("init",e),this.scrollInfo={},this._bindEvent(),this._doms.scrollBar.css("height",e._model.scrollBarLength+"px"))},update:function(e){this.moveBar(e),this._ctrl.notice({type:"moving",data:e})},moveBar:function(e){var t=this._doms;Q.$("#pps-widget-dramalist")&&(e.margin=e.margin+15),t.scrollBar.css("marginTop",e.margin+"px"),t.scrollContent.css(this.contentMoveCss,e.contentPos+"px")},destroy:function(){this._unbindEvent()},_bindEvent:function(){if(!this.hasBindEvent){var e=this,t=this.disSelect.bind(this);e.inClass&&(e._doms.widget.on("mouseenter",function(){e._doms.scrollBar.removeClass(e.outClass),e._doms.scrollBar.addClass(e.inClass)}),e._doms.widget.on("mouseleave",function(){e.isScroll||(e._doms.scrollBar.removeClass(e.inClass),e._doms.scrollBar.addClass(e.outClass))})),Q.$(document).on("mousemove",function(t){if(e.isScroll&&!e._ctrl.disable){var a=t||window.event;e.scrollInfo.endX=a.clientX,e.scrollInfo.endY=a.clientY,e._ctrl.notice({type:"private_mousemove",data:e.scrollInfo}),e.scrollInfo.startX=a.clientX,e.scrollInfo.startY=a.clientY,Q.event.get(t).stop()}}),e._doms.scrollWrap.on("DOMMouseScroll",function(t){e.disableWheel||(e.conRateWheel?e._rateWheel(t):e._wheel(t))}),e._doms.scrollWrap.on("mousewheel",function(t){e.disableWheel||(e.conRateWheel?e._rateWheel(t):e._wheel(t))});var a,i;Q.browser.iPad&&(e._doms.scrollWrap.on("touchstart",function(e){a=e.touches[0].pageY}),e._doms.scrollWrap.on("touchmove",function(t){Q.event.get(t).preventDefault();var i=t.targetTouches[0].pageY;e._ctrl.scroll((a-i)/e.ipadDivisor)}),e._doms.scrollBar.on("touchstart",function(e){i=e.touches[0].pageY}),e._doms.scrollBar.on("touchmove",function(t){Q.event.get(t).preventDefault();var a=t.targetTouches[0].pageY;e._ctrl.scroll(a-i)})),e._doms.scrollBar.on("mousedown",function(a){if(!e._ctrl.disable){e.isScroll=!0,e._ctrl._model.startMove=e._ctrl._model.margin,Q.$(document).on("selectstart",t),e.movingClass&&e._doms.scrollBar.addClass(e.movingClass);var i=a||window.event;e.scrollInfo.startX=i.clientX,e.scrollInfo.startY=i.clientY,e.scrollInfo.clickStartX=i.clientX,e.scrollInfo.clickStartY=i.clientY}Q.event.get(a).stop()}),e._doms.scrollBar.on("selectstart",function(e){Q.event.get(e).stop()}),Q.$(document).on("mouseup",function(a){var i=a||window.event;e.isScroll&&!e._ctrl.disable&&(e.scrollInfo.clickEndX=i.clientX,e.scrollInfo.clickEndY=i.clientY,e._ctrl.notice({type:"finishmove",data:e.scrollInfo}),e.movingClass&&e._doms.scrollBar.removeClass(e.movingClass),e.isScroll=!1,Q.$(document).un("selectstart",t),e.inClass&&(e._doms.scrollBar.removeClass(e.inClass),e._doms.scrollBar.addClass(e.outClass)))}),this.hasBindEvent=!0}},_wheel:function(e){var t=this;Q.event.get(e).preventDefault();var a=e||window.event,i=0,n=t.wheeldelta;Q.browser.getOS(),i=a.wheelDelta?a.wheelDelta/n:0-a.detail/n;var o=0;i&&(i>0?o="up":i<-0&&(o="down"),this._ctrl.notice({type:"mousescroll",data:{act:o,event:e,delta:i}}))},_rateWheel:function(e){var t=this;Q.event.get(e).preventDefault();var a=e||window.event,i=0,n=t.wheeldelta,o=t.cwheeldelta,s=t.movePerWheel,r=t._doms.scrollContent.height(),l=t._doms.scrollWrap.height()-t._doms.scrollBar.height(),c=l/r;i=(Q.browser.getOS(),a.wheelDelta?a.wheelDelta/o:0-a.detail/n),i*=c*s;var d=0;i&&(i>0?d="up":i<-0&&(d="down"),this._ctrl.notice({type:"mousescroll",data:{act:d,event:e,delta:i}}))},setWheelDelta:function(e){this.wheeldelta=e},disSelect:function(e){Q.event.get(e).preventDefault()},disable:function(){this._doms.scrollBar.hide()}}})}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){var i=[],n=function(e,t){var a;return i.forEach(function(i){if(i.elem.equal(e)&&i.style==t)return a=i.anim,!1}),a};a.exports=function(e){if(e){var t=e.elem,a=e.style||"left",o=e.from,s=e.to,r=e.ease||"Expo.easeOut",l=e.duration||500,c=e.done||function(){},d=n(t,a);return d||(d=Q.anim.create(t),i.push({elem:t,style:a,anim:d})),d.ease(r),d.duration(l),d.stop().from(a,o).to(a,s).go().onDone(c),d}}}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){var i=new Q.ic.InfoCenter({moduleName:"EventPlugin"}),n=Q.Class("EventPlugin",{construct:function(){},methods:{on:function(e,t){this._ep_createList();var a=function(e){t(e)};return e=e.toLowerCase(),this._ep_lists[e]=this._ep_lists[e]||[],this._ep_lists[e].push({type:e,listener:t,realListener:a}),i.debug("on | "+this.__NAME__+" | "+e+" | list length : "+this._ep_lists[e].length),this},un:function(e,t){if(this._ep_createList(),e){e=e.toLowerCase();var a=this._ep_lists[e];if(a){var i=(a.length,!t);a&&a.length>0&&(i?this._ep_lists[e]=[]:a.forEach(function(e,i){e&&e.listener===t&&(a[i]=null)}))}}else this._ep_clearList();return this},fire:function(e){this._ep_createList();var t=e.type.toLowerCase(),a=e.data,n=this._ep_lists[t];return n&&n.length>0&&n.forEach(function(e,n){try{e&&e.listener&&e.listener({type:t,data:a})}catch(e){i.log("eventPluginFireError---eventType is :"+t+" ;error message: "+e.message)}}),this},_ep_clearList:function(){this._ep_lists=null},_ep_createList:function(){this._ep_lists||(this._ep_lists={})}}});a.exports=n}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){a.exports={barrageTemplate:'<div class="barrage-switch-wrap"><span style="cursor: pointer;" data-barrage-status="show" class="barrage-switch"><i class="qyb-svg qyb-svg-on" data-rseat="140742_cls"></i><i class="qyb-svg qyb-svg-off" data-rseat="140743_opn"></i></span><div class="barrage-icons switch-tips" style="display: none;" data-barrage-btntip="wrap"></div><div class="qy-barrage-redbag-tips" data-barrage-hb="tip" style="width: 510px; display: none;"><div class="hb_tipBox_inner"><div class="barrage-icons hb_tipBox_left">l</div><div class="hb_tipBox_con"><p class="hbdm_ygTxt" data-barrage-hb="tipcon"></p><a href="javascript:void(0)" class="barrage-icons hbdm_ygLink" data-barrage-hb="tipclose"></a></div><div class="barrage-icons hb_tipBox_right"></div><div class="barrage-icons hbdm_arr"></div></div></div></div><div class="barrage-list-wrap dn" data-barrage-list="btn" rseat="80521_listbox_danmu_open"><i class="qyb-svg qyb-svg-list"></i> <div class="qy-barrage-tooltip">弹幕列表</div></div><div class="barrage-input-wrap" data-barrage-ele="wrap"><span class="barrage-input-box barrage-input-act" data-barrage-wrap="input"><span style="cursor: pointer;" class="barrage-role j_role_widget dn"></span><input type="text" placeholder="发送弹幕一起high！" class="barrage-input" data-barrage-input="barrage" data-rseat="608241_input"><span class="barrage-limit-nub dn" data-barrage-limit="barrage">50/50</span><div class="barrage-set-wrap" data-barrage-panel="config"><span style="cursor: pointer;" href="javascript:void(0);" data-barrage-config="config" class="barrage-set-icon"><i class="qyb-svg qyb-svg-setting"></i></span><div class="qy-barrage-set dn" data-barrage-panel="panel"></div><div class="qy-barrage-shiel dn" data-barrage-module="custom"></div></div><div class="qy-barrage-phiz" style="display: none;" data-private-display="" data-barrage-module="face"></div></span><span style="cursor: pointer;" class="barrage-send" data-barrage-send="barrage">发送</span></div>',loginRegTemplate:'<div class="barrage-login dn" id="danmuLogin"><p class="barrage-login-info"><a href="javascript:void(0)" data-barrage-login class="login-link">登录</a>或<a href="javascript:void(0)" data-barrage-reg class="login-link">注册</a>后来一发吧！</p></div>',I5CustomTemplate:'<div data-barrage-I5Custom style="float: left; position: relative;"><div class="barrage-switch-wrap disabled"><span style="cursor: pointer;" data-barrage-status="show" class="barrage-switch"><i class="qyb-svg qyb-svg-on" data-rseat="140742_cls"></i><i class="qyb-svg qyb-svg-off" data-rseat="140743_opn"></i></span><div class="barrage-icons switch-tips" style="display: none;" data-barrage-btntip="wrap"></div><div class="qy-barrage-redbag-tips" data-barrage-hb="tip" style="width: 510px; display: none;"><div class="hb_tipBox_inner"><div class="barrage-icons hb_tipBox_left">l</div><div class="hb_tipBox_con"><p class="hbdm_ygTxt" data-barrage-hb="tipcon"></p><a href="javascript:;" class="barrage-icons hbdm_ygLink" data-barrage-hb="tipclose"></a></div><div class="barrage-icons hb_tipBox_right"></div><div class="barrage-icons hbdm_arr"></div></div></div></div><div class="barrage-input-wrap disabled" data-barrage-ele="wrap"><span class="barrage-input-box barrage-input-act" data-barrage-wrap="input"><span class="barrage-role j_role_widget dn"></span><input type="text" placeholder="弹幕走一波…" disabled class="barrage-input" data-barrage-input="barrage" data-rseat="608241_input"><span class="barrage-limit-nub dn" data-barrage-limit="barrage">50/50</span><div class="barrage-set-wrap" data-barrage-panel="config"><span style="cursor: pointer;" data-barrage-config="config" class="barrage-set-icon"><i class="qyb-svg qyb-svg-setting"></i></span><div class="qy-barrage-set dn" data-barrage-panel="panel"></div><div class="qy-barrage-shiel dn" data-barrage-module="custom"></div></div><div class="qy-barrage-phiz" style="display: none;" data-private-display="" data-barrage-module="face"></div></span><span class="barrage-send" data-barrage-send="barrage">发送</span><div class="barrage-login dn" id="danmuLogin" data-barrage-ele="danmuLogin"><p class="barrage-login-info"><a href="javascript:;" data-barrage-login class="login-link">登录</a>或<a href="javascript:;" data-barrage-reg class="login-link">注册</a>后来一发吧！</p></div></div></div>'}}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(50),o=a(54),s=a(10),r=a(1),l=a(0),c=a(11),d=a(12),u=a(57);Q.PageInfo&&Q.PageInfo.playPageInfo&&Q.PageInfo.playPageInfo.isSource&&Q.PageInfo.playPageInfo.newTmplt,i.exports=Q.Class("roleBarrageAction",{construct:function(e){this.dataList=e.dataList,this.doms=e.doms,this.player=e.player,this.ctrl=e,this.roleModel=new n(e),this.roleView=new o(e),this.hideRoleListTimer=""},methods:{initRoleBarrage:function(){var e=this;e.getRoleList(function(t){e.roleView.initRolePanel(),e._setRoleDom(),e.roleView.initRoleTip(),e.setMyScore(),e.bindEvent(),new u({sliderWrap:e.doms.roleListPanel})})},initTextRoleBarrage:function(){this.roleView.initTextRolePanel(),this._setRoleDom(),this.bindEvent()},bindEvent:function(){var e=this;e.mouseEnterLeaveEvent(),Q(document).undelegate(".j_roleFloater_close","click"),Q(document).delegate(".j_roleFloater_close","click",function(t){Q.event.get(t).preventDefault(),e.roleView.closeFloater_consumeScore()}),Q(document).undelegate(".j_roleFloater_send","click"),Q(document).delegate(".j_roleFloater_send","click",function(t){Q.event.get(t).preventDefault(),e.roleView.closeFloater_consumeScore(),e.ctrl.contentPanel.clearShowTime(),e.ctrl.contentPanel.sendContent()}),Q(document).undelegate(".j_role_item","click"),Q(document).delegate(".j_role_item","click",function(t){Q.event.get(t).preventDefault(),e.roleItemClick(Q(this))})},roleBtnClick:function(){var e=this;Q(".j_role_btn").on("click",function(t){if(Q.event.get(t).preventDefault(),Q.event.get(t).stopPropagation(),!l.isLogin())return void r.openLoginWindow();Q(".j_role_btn").hasClass("set-hover")?e.hideRoleList():e.showRoleList(),e.setRoleTip(),Q(".j_role_btnSvg").addClass("dn")}),Q(".j_role_btn").on("mouseenter",function(t){Q.event.get(t).preventDefault(),Q.event.get(t).stopPropagation(),l.isLogin()&&(e.showRoleList(),e.setRoleTip(),Q(".j_role_btnSvg").addClass("dn"))}),Q(".j_role_btn").on("mouseleave",function(t){Q.event.get(t).preventDefault(),e.hideRoleListTimer=setTimeout(function(){e.hideRoleList()},300)}),Q(".j_role_widget").on("click",function(t){var a={clickRole:1};s.extendConfig(e.dataList,"QC159",a),e.dataList.selectedRole.hasSelectedRole||(Q(".j_role_widget").addClass("dn"),Q(".j_clickrole_widget").removeClass("dn"))})},roleItemClick:function(e){var t=this;if(e.hasClass("selected"))t.cancelSelecteRole(e);else{if(!l.isLogin())return void r.openLoginWindow();var a=e.attr("data-role-type");"1"==a?t.selecteRole(e):"2"==a?t.chooseScoreRole(e):"3"==a?t.chooseVipRole(e):"4"==a&&(t.dataList.userBadge.badgeValid?t.chooseBadgeRole(e):t.roleModel.getUserBadge(param,function(){t.chooseBadgeRole(e)}))}},chooseVipRole:function(e){var t=this;c.isValidVip(function(a){if(a)t.selecteRole(e);else{d.initVipPay();var i={mcnt:t.dataList.barrageInfo.mcnt,fc:"b05b3d6c4753d780"};t.ctrl.sendClickPingback("608241_newvip",i)}})},chooseScoreRole:function(e){var t=this;t.roleModel.getUserScore({},function(a){if(a>=0){a>=e.attr("data-role-score")?t.selecteRole(e):t.roleView.showScoreToast()}})},chooseBadgeRole:function(e){var t=e.attr("data-role-badgeCode");this.dataList.userBadge[t]&&this.dataList.userBadge[t].complete?this.selecteRole(e):this.roleView.showBadgeToast()},selecteRole:function(e){if(this.dataList.selectedRole.hasSelectedRole){var t=Q(".j_role_item.selected");this.cancelSelecteRole(t)}var a=e.attr("data-role-name"),i=this.doms.barrageInput.value(),n=a+"："+i;this.doms.barrageInput.value(n),this.roleView.selecteRole(e)},cancelSelecteRole:function(e){var t=e.attr("data-role-name"),a="^("+t+"：)",i=new RegExp(a),n=this.doms.barrageInput.value(),o=n.replace(i,"");this.doms.barrageInput.value(o),this.roleView.cancelSelecteRole(e)},isScoreBarrage:function(e){var t=this,a=this.dataList.playerType,i=this.dataList.isShowRole,n=this.dataList.selectedRole.hasSelectedRole,o=this.dataList.selectedRole.roleType;"h5"==a&&i&&n&&"2"==o?t.roleModel.getUserScore({},function(a){a>=t.dataList.selectedRole.roleScore?e():t.roleView.showScoreToastOut()}):e()},sendScoreBarrage:function(e){var t=this;if(s.getConfig(this.dataList,"QC159").hasShownScoreTip)e();else{var a={hasShownScoreTip:1};s.extendConfig(this.dataList,"QC159",a),t.roleView.createFloater_consumeScore()}},toggleRoleListShown:function(){this.hideRoleListTimer&&clearTimeout(this.hideRoleListTimer),this.doms.roleListPanel.toggleClass("dn")},showRoleList:function(){this.hideRoleListTimer&&clearTimeout(this.hideRoleListTimer),Q(".j_role_btn").addClass("set-hover"),this.doms.roleListPanel.removeClass("dn"),Q('[data-barrage-panel="panel"]').addClass("dn"),this.player.setBarrageState({index:1,focus:1})},hideRoleList:function(){this.hideRoleListTimer&&clearTimeout(this.hideRoleListTimer),Q(".j_role_btn").removeClass("set-hover"),this.doms.roleListPanel.addClass("dn"),this.player.setBarrageState({index:1,focus:0})},mouseEnterLeaveEvent:function(){var e=this;e.doms.roleListPanel.on("mouseenter",function(t){e.showRoleList()}),e.doms.roleListPanel.on("mouseleave",function(t){e.hideRoleListTimer&&clearTimeout(e.hideRoleListTimer);Q.event.get(t).toElement;e.hideRoleListTimer=setTimeout(function(){e.hideRoleList()},200)})},setRoleTip:function(){var e={hideRoleTip:1};s.extendConfig(this.dataList,"QC159",e),this.doms.firstSendTip.addClass("dn")},_setRoleDom:function(){var e=this.doms;e.myScorePanel=e.widget.down(".j_myScore_panel"),e.myScoreVal=e.widget.down(".j_myScore_value"),e.firstSendTip=Q(".j_role_firstSendTip"),e.roleListPanel=Q(".j_roleList_panel"),e.badgeToast=Q(".j_badge_toast"),e.scoreToast=Q(".j_score_toast"),e.scoreToastOut=Q(".j_score_toastOut"),e.roleBtn=Q(".j_role_btn"),e.textroleBtn=Q(".j_textrole_widget"),e.roleItems=Q(".j_role_item")},setMyScore:function(){var e=this;e.dataList.roleInfo.hasScoreRole&&e.roleModel.getUserScore({},function(t){t>=0&&(e.doms.myScoreVal.html(t),e.doms.myScorePanel.removeClass("dn"))})},getRoleList:function(e){var t=this,a=(t.dataList.roleInfo.roleIdValue,{});t.roleModel.getRoleInfo(a,function(a){t._saveRoleInfoToDataList(a),e(a)})},_saveRoleInfoToDataList:function(e){e&&e[0]&&e[0].pic&&(this.dataList.roleInfo.defaultIcon=e[0].pic),this.dataList.roleInfo.roleLength=e.length,this.dataList.roleInfo.ulLength=64*(e.length+1),this.dataList.roleInfo.roleList=e;for(var t=0;t<e.length;t++)if(2==e[t].cond){this.dataList.roleInfo.hasScoreRole=!0;break}},hasRoleBarrage:function(e){var t=this;t.roleModel.hasRoleBarrage(function(a){!0===a.hasRoleFlag?(t.dataList.isShowRole=!0,t.dataList.isShowFace=!1,t.dataList.roleInfo.roleIdValue=a.targetId):(t.dataList.isShowRole=!1,t.dataList.isShowFace=!0,t.dataList.roleInfo.roleIdValue=""),e(a.hasRoleFlag)})},getColor:function(){return this.roleView.getColor()},setColor:function(e){this.roleView.setColor(e,Q('[data-barrage-color="'+e+'"]'))}}})}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(51),o=(a(52),a(53)),s=a(3);i.exports=Q.Class("roleBarrageModel",{construct:function(e){this.inter=new s,this.dataList=e.dataList,this.player=e.player},methods:{getRoleInfo:function(e,t){var a=this,e={};a.inter.getRoleInfo(e,function(e){var i=e.response,s=new Uint8Array(i),r=(new n).ungzip(s),l=o.utf8ArrayToStr(r);l=l.replace(/&#\d{2};/g,"");var c=JSON.parse(l),d=a._handleRoleData(c);t&&t(d)})},_handleRoleData:function(e){var t="",a=this.dataList.roleInfo.roleIdValue;if(e&&e.acts&&e.acts.length>0)for(var i=0;i<e.acts.length;i++){for(var n=e.acts[i].tvids,o=0;o<n.length;o++)if(n[o]==a){t=e.acts[i].avatars;break}if(t)break}for(var s=0;s<t.length;s++){var r=t[s].pic;t[s].pic=r.replace(/^[\w]+:(?=[\/\/])/,"")}return t},getUserScore:function(e,t){var a=this,e={agenttype:1,agentversion:0,appKey:"basic_pcw",appver:0,authCookie:Q.cookie.get("P00001"),srcplatform:1,typeCode:"point",userId:Q.cookie.get("P00003"),verticalCode:"iQIYI"};e.sign=a._getSign(e),a.inter.getUserScore(e,function(e){var a;"A00000"==e.code&&e.data&&e.data[0]&&(a=e.data[0].totalScore),t&&t(a)})},consumeScore:function(e,t){var a=this,i=e.score,n="danmuOrder_"+Q.cookie.get("P00003")+"_"+Math.random(),e={agenttype:1,agentversion:0,appKey:"basic_pcw",appver:0,itemSystem:4,orderNum:n,score:i,srcplatform:1,typeCode:"point",userId:Q.cookie.get("P00003"),verticalCode:"iQIYI"};e.sign=a._getSign(e),a.inter.consumeScore(e,function(e){t&&t(e)})},getUserBadge:function(e,t){var a=this,e={growth_achievement_list:{verticalCode:"iQIYI",agenttype:1,agentversion:0,appver:0,srcplatform:1,typeCode:"Point_EXP",userId:Q.cookie.get("P00003"),channelGroup:18}};a.inter.getUserBadge(e,function(e){if("A00000"==e.code&&(a.dataList.userBadge.badgeValid=!0,e.data&&e.data.data&&e.data.data[0]&&e.data.data[0].length>0))for(var i=e.data.data[0],n=0;n<i.length;n++){var o=i[n].channelCode,s=i[n].complete;a.dataList.userBadge[o]={complete:s}}t&&t()})},hasRoleBarrage:function(e){var t=this;t.isH5Player(function(a){if(!a)return void e({hasRoleFlag:!1,targetId:""});t._getIdParam(function(a){if(!a)return void e({hasRoleFlag:!1,targetId:""});var i={tvids:a};t.inter.hasRoleBarrage(i,function(a){var i=t.getPcwRoleFlag(a);e({hasRoleFlag:i.hasRoleFlag,targetId:i.targetId})})})})},getPcwRoleFlag:function(e){var t=!1,a="",i="";if("A00000"==e.code&&e.data&&e.data.data){var n=e.data.data;if(n.danmu_control&&n.danmu_control.length>0)var o=n.id,s=n.danmu_control,r=this.getAvailabeStatus(s);if(n.episode&&n.episode.length>0&&n.episode[0].danmu_control)var l=n.episode[0].id,c=n.episode[0].danmu_control,d=this.getAvailabeStatus(c);if(n.album&&n.album.length>0&&n.album[0].danmu_control)var u=n.album[0].id,h=n.album[0].danmu_control,f=this.getAvailabeStatus(h);r?(a=o,i=r):d?(a=l,i=d):f&&(a=u,i=f),t="ONLINE"==i}return{hasRoleFlag:t,targetId:a}},getAvailabeStatus:function(e){for(var t="",a=0;a<e.length;a++)if("H5_QIYI"==e[a].play_platform){e[a].default_control&&e[a].default_control.availabe_status&&(t=e[a].default_control.availabe_status);break}return t},_getSign:function(e){var t=[];for(var a in e){var i=a+"="+e[a];t.push(i)}t.push("UKobMjDMsDoScuWOfp6F");var n=t.join("|");return Q.crypto.md5(n)},_getIdParam:function(e){this.getVideoInfo(function(t){var a="",i=t.qipuId,n=t.albumId;i&&n?a=i==n?i:i+","+n:i?a=i:n&&(a=n),e(a)})},getVideoInfo:function(e){var t=this;t.player.getPlayInfo(function(a){var i=a.tvid||a.tvID||t.dataList.qpid,n=a.albumId||t.dataList.aid;t.dataList.qpid=i,t.dataList.aid=n,e({qipuId:i,albumId:n})})},isH5Player:function(e){this.player.getQiyiPlayerType(function(t){e("h5"==t?!0:!1)})}}})}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){a.exports=function(){return function t(a,i,n){function o(r,l){if(!i[r]){if(!a[r]){var c="function"==typeof e&&e;if(!l&&c)return e(r,!0);if(s)return s(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var u=i[r]={exports:{}};a[r][0].call(u.exports,function(e){var t=a[r][1][e];return o(t||e)},u,u.exports,t,a,i,n)}return i[r].exports}for(var s="function"==typeof e&&e,r=0;r<n.length;r++)o(n[r]);return o}({1:[function(e,t,a){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;a.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var a=t.shift();if(a){if("object"!=typeof a)throw new TypeError(a+"must be non-object");for(var i in a)a.hasOwnProperty(i)&&(e[i]=a[i])}}return e},a.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var n={arraySet:function(e,t,a,i,n){if(t.subarray&&e.subarray)return void e.set(t.subarray(a,a+i),n);for(var o=0;o<i;o++)e[n+o]=t[a+o]},flattenChunks:function(e){var t,a,i,n,o,s;for(i=0,t=0,a=e.length;t<a;t++)i+=e[t].length;for(s=new Uint8Array(i),n=0,t=0,a=e.length;t<a;t++)o=e[t],s.set(o,n),n+=o.length;return s}},o={arraySet:function(e,t,a,i,n){for(var o=0;o<i;o++)e[n+o]=t[a+o]},flattenChunks:function(e){return[].concat.apply([],e)}};a.setTyped=function(e){e?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,n)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,o))},a.setTyped(i)},{}],2:[function(e,t,a){"use strict";function i(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&o))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var a="",i=0;i<t;i++)a+=String.fromCharCode(e[i]);return a}var n=e("./common"),o=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var r=new n.Buf8(256),l=0;l<256;l++)r[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;r[254]=r[254]=1,a.string2buf=function(e){var t,a,i,o,s,r=e.length,l=0;for(o=0;o<r;o++)a=e.charCodeAt(o),55296==(64512&a)&&o+1<r&&56320==(64512&(i=e.charCodeAt(o+1)))&&(a=65536+(a-55296<<10)+(i-56320),o++),l+=a<128?1:a<2048?2:a<65536?3:4;for(t=new n.Buf8(l),s=0,o=0;s<l;o++)a=e.charCodeAt(o),55296==(64512&a)&&o+1<r&&56320==(64512&(i=e.charCodeAt(o+1)))&&(a=65536+(a-55296<<10)+(i-56320),o++),a<128?t[s++]=a:a<2048?(t[s++]=192|a>>>6,t[s++]=128|63&a):a<65536?(t[s++]=224|a>>>12,t[s++]=128|a>>>6&63,t[s++]=128|63&a):(t[s++]=240|a>>>18,t[s++]=128|a>>>12&63,t[s++]=128|a>>>6&63,t[s++]=128|63&a);return t},a.buf2binstring=function(e){return i(e,e.length)},a.binstring2buf=function(e){for(var t=new n.Buf8(e.length),a=0,i=t.length;a<i;a++)t[a]=e.charCodeAt(a);return t},a.buf2string=function(e,t){var a,n,o,s,l=t||e.length,c=new Array(2*l);for(n=0,a=0;a<l;)if((o=e[a++])<128)c[n++]=o;else if((s=r[o])>4)c[n++]=65533,a+=s-1;else{for(o&=2===s?31:3===s?15:7;s>1&&a<l;)o=o<<6|63&e[a++],s--;s>1?c[n++]=65533:o<65536?c[n++]=o:(o-=65536,c[n++]=55296|o>>10&1023,c[n++]=56320|1023&o)}return i(c,n)},a.utf8border=function(e,t){var a;for(t=t||e.length,t>e.length&&(t=e.length),a=t-1;a>=0&&128==(192&e[a]);)a--;return a<0?t:0===a?t:a+r[e[a]]>t?a:t}},{"./common":1}],3:[function(e,t,a){"use strict";function i(e,t,a,i){for(var n=65535&e|0,o=e>>>16&65535|0,s=0;0!==a;){s=a>2e3?2e3:a,a-=s;do{n=n+t[i++]|0,o=o+n|0}while(--s);n%=65521,o%=65521}return n|o<<16|0}t.exports=i},{}],4:[function(e,t,a){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],5:[function(e,t,a){"use strict";function i(e,t,a,i){var o=n,s=i+a;e^=-1;for(var r=i;r<s;r++)e=e>>>8^o[255&(e^t[r])];return-1^e}var n=function(){for(var e,t=[],a=0;a<256;a++){e=a;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[a]=e}return t}();t.exports=i},{}],6:[function(e,t,a){"use strict";function i(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=i},{}],7:[function(e,t,a){"use strict";t.exports=function(e,t){var a,i,n,o,s,r,l,c,d,u,h,f,p,g,v,m,b,y,w,_,C,I,x,S,k;a=e.state,i=e.next_in,S=e.input,n=i+(e.avail_in-5),o=e.next_out,k=e.output,s=o-(t-e.avail_out),r=o+(e.avail_out-257),l=a.dmax,c=a.wsize,d=a.whave,u=a.wnext,h=a.window,f=a.hold,p=a.bits,g=a.lencode,v=a.distcode,m=(1<<a.lenbits)-1,b=(1<<a.distbits)-1;e:do{p<15&&(f+=S[i++]<<p,p+=8,f+=S[i++]<<p,p+=8),y=g[f&m];t:for(;;){if(w=y>>>24,f>>>=w,p-=w,0===(w=y>>>16&255))k[o++]=65535&y;else{if(!(16&w)){if(0==(64&w)){y=g[(65535&y)+(f&(1<<w)-1)];continue t}if(32&w){a.mode=12;break e}e.msg="invalid literal/length code",a.mode=30;break e}_=65535&y,w&=15,w&&(p<w&&(f+=S[i++]<<p,p+=8),_+=f&(1<<w)-1,f>>>=w,p-=w),p<15&&(f+=S[i++]<<p,p+=8,f+=S[i++]<<p,p+=8),y=v[f&b];a:for(;;){if(w=y>>>24,f>>>=w,p-=w,!(16&(w=y>>>16&255))){if(0==(64&w)){y=v[(65535&y)+(f&(1<<w)-1)];continue a}e.msg="invalid distance code",a.mode=30;break e}if(C=65535&y,w&=15,p<w&&(f+=S[i++]<<p,(p+=8)<w&&(f+=S[i++]<<p,p+=8)),(C+=f&(1<<w)-1)>l){e.msg="invalid distance too far back",a.mode=30;break e}if(f>>>=w,p-=w,w=o-s,C>w){if((w=C-w)>d&&a.sane){e.msg="invalid distance too far back",a.mode=30;break e}if(I=0,x=h,0===u){if(I+=c-w,w<_){_-=w;do{k[o++]=h[I++]}while(--w);I=o-C,x=k}}else if(u<w){if(I+=c+u-w,(w-=u)<_){_-=w;do{k[o++]=h[I++]}while(--w);if(I=0,u<_){w=u,_-=w;do{k[o++]=h[I++]}while(--w);I=o-C,x=k}}}else if(I+=u-w,w<_){_-=w;do{k[o++]=h[I++]}while(--w);I=o-C,x=k}for(;_>2;)k[o++]=x[I++],k[o++]=x[I++],k[o++]=x[I++],_-=3;_&&(k[o++]=x[I++],_>1&&(k[o++]=x[I++]))}else{I=o-C;do{k[o++]=k[I++],k[o++]=k[I++],k[o++]=k[I++],_-=3}while(_>2);_&&(k[o++]=k[I++],_>1&&(k[o++]=k[I++]))}break}}break}}while(i<n&&o<r);_=p>>3,i-=_,p-=_<<3,f&=(1<<p)-1,e.next_in=i,e.next_out=o,e.avail_in=i<n?n-i+5:5-(i-n),e.avail_out=o<r?r-o+257:257-(o-r),a.hold=f,a.bits=p}},{}],8:[function(e,t,a){"use strict";function i(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function n(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new b.Buf16(320),this.work=new b.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=j,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new b.Buf32(ge),t.distcode=t.distdyn=new b.Buf32(ve),t.sane=1,t.back=-1,P):B}function s(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,o(e)):B}function r(e,t){var a,i;return e&&e.state?(i=e.state,t<0?(a=0,t=-t):(a=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?B:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=a,i.wbits=t,s(e))):B}function l(e,t){var a,i;return e?(i=new n,e.state=i,i.window=null,a=r(e,t),a!==P&&(e.state=null),a):B}function c(e){return l(e,me)}function d(e){if(be){var t;for(v=new b.Buf32(512),m=new b.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(C(x,e.lens,0,288,v,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;C(S,e.lens,0,32,m,0,e.work,{bits:5}),be=!1}e.lencode=v,e.lenbits=9,e.distcode=m,e.distbits=5}function u(e,t,a,i){var n,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new b.Buf8(o.wsize)),i>=o.wsize?(b.arraySet(o.window,t,a-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(n=o.wsize-o.wnext,n>i&&(n=i),b.arraySet(o.window,t,a-i,n,o.wnext),i-=n,i?(b.arraySet(o.window,t,a-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=n,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=n))),0}function h(e,t){var a,n,o,s,r,l,c,h,f,p,g,v,m,ge,ve,me,be,ye,we,_e,Ce,Ie,xe,Se,ke=0,Te=new b.Buf8(4),Qe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return B;a=e.state,a.mode===Z&&(a.mode=$),r=e.next_out,o=e.output,c=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,h=a.hold,f=a.bits,p=l,g=c,Ie=P;e:for(;;)switch(a.mode){case j:if(0===a.wrap){a.mode=$;break}for(;f<16;){if(0===l)break e;l--,h+=n[s++]<<f,f+=8}if(2&a.wrap&&35615===h){a.check=0,Te[0]=255&h,Te[1]=h>>>8&255,a.check=w(a.check,Te,2,0),h=0,f=0,a.mode=A;break}if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&h)<<8)+(h>>8))%31){e.msg="incorrect header check",a.mode=he;break}if((15&h)!==q){e.msg="unknown compression method",a.mode=he;break}if(h>>>=4,f-=4,Ce=8+(15&h),0===a.wbits)a.wbits=Ce;else if(Ce>a.wbits){e.msg="invalid window size",a.mode=he;break}a.dmax=1<<Ce,e.adler=a.check=1,a.mode=512&h?U:Z,h=0,f=0;break;case A:for(;f<16;){if(0===l)break e;l--,h+=n[s++]<<f,f+=8}if(a.flags=h,(255&a.flags)!==q){e.msg="unknown compression method",a.mode=he;break}if(57344&a.flags){e.msg="unknown header flags set",a.mode=he;break}a.head&&(a.head.text=h>>8&1),512&a.flags&&(Te[0]=255&h,Te[1]=h>>>8&255,a.check=w(a.check,Te,2,0)),h=0,f=0,a.mode=M;case M:for(;f<32;){if(0===l)break e;l--,h+=n[s++]<<f,f+=8}a.head&&(a.head.time=h),512&a.flags&&(Te[0]=255&h,Te[1]=h>>>8&255,Te[2]=h>>>16&255,Te[3]=h>>>24&255,a.check=w(a.check,Te,4,0)),h=0,f=0,a.mode=O;case O:for(;f<16;){if(0===l)break e;l--,h+=n[s++]<<f,f+=8}a.head&&(a.head.xflags=255&h,a.head.os=h>>8),512&a.flags&&(Te[0]=255&h,Te[1]=h>>>8&255,a.check=w(a.check,Te,2,0)),h=0,f=0,a.mode=z;case z:if(1024&a.flags){for(;f<16;){if(0===l)break e;l--,h+=n[s++]<<f,f+=8}a.length=h,a.head&&(a.head.extra_len=h),512&a.flags&&(Te[0]=255&h,Te[1]=h>>>8&255,a.check=w(a.check,Te,2,0)),h=0,f=0}else a.head&&(a.head.extra=null);a.mode=H;case H:if(1024&a.flags&&(v=a.length,v>l&&(v=l),v&&(a.head&&(Ce=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Array(a.head.extra_len)),b.arraySet(a.head.extra,n,s,v,Ce)),512&a.flags&&(a.check=w(a.check,n,v,s)),l-=v,s+=v,a.length-=v),a.length))break e;a.length=0,a.mode=W;case W:if(2048&a.flags){if(0===l)break e;v=0;do{Ce=n[s+v++],a.head&&Ce&&a.length<65536&&(a.head.name+=String.fromCharCode(Ce))}while(Ce&&v<l);if(512&a.flags&&(a.check=w(a.check,n,v,s)),l-=v,s+=v,Ce)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=N;case N:if(4096&a.flags){if(0===l)break e;v=0;do{Ce=n[s+v++],a.head&&Ce&&a.length<65536&&(a.head.comment+=String.fromCharCode(Ce))}while(Ce&&v<l);if(512&a.flags&&(a.check=w(a.check,n,v,s)),l-=v,s+=v,Ce)break e}else a.head&&(a.head.comment=null);a.mode=V;case V:if(512&a.flags){for(;f<16;){if(0===l)break e;l--,h+=n[s++]<<f,f+=8}if(h!==(65535&a.check)){e.msg="header crc mismatch",a.mode=he;break}h=0,f=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),e.adler=a.check=0,a.mode=Z;break;case U:for(;f<32;){if(0===l)break e;l--,h+=n[s++]<<f,f+=8}e.adler=a.check=i(h),h=0,f=0,a.mode=G;case G:if(0===a.havedict)return e.next_out=r,e.avail_out=c,e.next_in=s,e.avail_in=l,a.hold=h,a.bits=f,F;e.adler=a.check=1,a.mode=Z;case Z:if(t===T||t===Q)break e;case $:if(a.last){h>>>=7&f,f-=7&f,a.mode=ce;break}for(;f<3;){if(0===l)break e;l--,h+=n[s++]<<f,f+=8}switch(a.last=1&h,h>>>=1,f-=1,3&h){case 0:a.mode=X;break;case 1:if(d(a),a.mode=ae,t===Q){h>>>=2,f-=2;break e}break;case 2:a.mode=Y;break;case 3:e.msg="invalid block type",a.mode=he}h>>>=2,f-=2;break;case X:for(h>>>=7&f,f-=7&f;f<32;){if(0===l)break e;l--,h+=n[s++]<<f,f+=8}if((65535&h)!=(h>>>16^65535)){e.msg="invalid stored block lengths",a.mode=he;break}if(a.length=65535&h,h=0,f=0,a.mode=J,t===Q)break e;case J:a.mode=K;case K:if(v=a.length){if(v>l&&(v=l),v>c&&(v=c),0===v)break e;b.arraySet(o,n,s,v,r),l-=v,s+=v,c-=v,r+=v,a.length-=v;break}a.mode=Z;break;case Y:for(;f<14;){if(0===l)break e;l--,h+=n[s++]<<f,f+=8}if(a.nlen=257+(31&h),h>>>=5,f-=5,a.ndist=1+(31&h),h>>>=5,f-=5,a.ncode=4+(15&h),h>>>=4,f-=4,a.nlen>286||a.ndist>30){e.msg="too many length or distance symbols",a.mode=he;break}a.have=0,a.mode=ee;case ee:for(;a.have<a.ncode;){for(;f<3;){if(0===l)break e;l--,h+=n[s++]<<f,f+=8}a.lens[Qe[a.have++]]=7&h,h>>>=3,f-=3}for(;a.have<19;)a.lens[Qe[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,xe={bits:a.lenbits},Ie=C(I,a.lens,0,19,a.lencode,0,a.work,xe),a.lenbits=xe.bits,Ie){e.msg="invalid code lengths set",a.mode=he;break}a.have=0,a.mode=te;case te:for(;a.have<a.nlen+a.ndist;){for(;ke=a.lencode[h&(1<<a.lenbits)-1],ve=ke>>>24,me=ke>>>16&255,be=65535&ke,!(ve<=f);){if(0===l)break e;l--,h+=n[s++]<<f,f+=8}if(be<16)h>>>=ve,f-=ve,a.lens[a.have++]=be;else{if(16===be){for(Se=ve+2;f<Se;){if(0===l)break e;l--,h+=n[s++]<<f,f+=8}if(h>>>=ve,f-=ve,0===a.have){e.msg="invalid bit length repeat",a.mode=he;break}Ce=a.lens[a.have-1],v=3+(3&h),h>>>=2,f-=2}else if(17===be){for(Se=ve+3;f<Se;){if(0===l)break e;l--,h+=n[s++]<<f,f+=8}h>>>=ve,f-=ve,Ce=0,v=3+(7&h),h>>>=3,f-=3}else{for(Se=ve+7;f<Se;){if(0===l)break e;l--,h+=n[s++]<<f,f+=8}h>>>=ve,f-=ve,Ce=0,v=11+(127&h),h>>>=7,f-=7}if(a.have+v>a.nlen+a.ndist){e.msg="invalid bit length repeat",a.mode=he;break}for(;v--;)a.lens[a.have++]=Ce}}if(a.mode===he)break;if(0===a.lens[256]){e.msg="invalid code -- missing end-of-block",a.mode=he;break}if(a.lenbits=9,xe={bits:a.lenbits},Ie=C(x,a.lens,0,a.nlen,a.lencode,0,a.work,xe),a.lenbits=xe.bits,Ie){e.msg="invalid literal/lengths set",a.mode=he;break}if(a.distbits=6,a.distcode=a.distdyn,xe={bits:a.distbits},Ie=C(S,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,xe),a.distbits=xe.bits,Ie){e.msg="invalid distances set",a.mode=he;break}if(a.mode=ae,t===Q)break e;case ae:a.mode=ie;case ie:if(l>=6&&c>=258){e.next_out=r,e.avail_out=c,e.next_in=s,e.avail_in=l,a.hold=h,a.bits=f,_(e,g),r=e.next_out,o=e.output,c=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,h=a.hold,f=a.bits,a.mode===Z&&(a.back=-1);break}for(a.back=0;ke=a.lencode[h&(1<<a.lenbits)-1],ve=ke>>>24,me=ke>>>16&255,be=65535&ke,!(ve<=f);){if(0===l)break e;l--,h+=n[s++]<<f,f+=8}if(me&&0==(240&me)){for(ye=ve,we=me,_e=be;ke=a.lencode[_e+((h&(1<<ye+we)-1)>>ye)],ve=ke>>>24,me=ke>>>16&255,be=65535&ke,!(ye+ve<=f);){if(0===l)break e;l--,h+=n[s++]<<f,f+=8}h>>>=ye,f-=ye,a.back+=ye}if(h>>>=ve,f-=ve,a.back+=ve,a.length=be,0===me){a.mode=le;break}if(32&me){a.back=-1,a.mode=Z;break}if(64&me){e.msg="invalid literal/length code",a.mode=he;break}a.extra=15&me,a.mode=ne;case ne:if(a.extra){for(Se=a.extra;f<Se;){if(0===l)break e;l--,h+=n[s++]<<f,f+=8}a.length+=h&(1<<a.extra)-1,h>>>=a.extra,f-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=oe;case oe:for(;ke=a.distcode[h&(1<<a.distbits)-1],ve=ke>>>24,me=ke>>>16&255,be=65535&ke,!(ve<=f);){if(0===l)break e;l--,h+=n[s++]<<f,f+=8}if(0==(240&me)){for(ye=ve,we=me,_e=be;ke=a.distcode[_e+((h&(1<<ye+we)-1)>>ye)],ve=ke>>>24,me=ke>>>16&255,be=65535&ke,!(ye+ve<=f);){if(0===l)break e;l--,h+=n[s++]<<f,f+=8}h>>>=ye,f-=ye,a.back+=ye}if(h>>>=ve,f-=ve,a.back+=ve,64&me){e.msg="invalid distance code",a.mode=he;break}a.offset=be,a.extra=15&me,a.mode=se;case se:if(a.extra){for(Se=a.extra;f<Se;){if(0===l)break e;l--,h+=n[s++]<<f,f+=8}a.offset+=h&(1<<a.extra)-1,h>>>=a.extra,f-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){e.msg="invalid distance too far back",a.mode=he;break}a.mode=re;case re:if(0===c)break e;if(v=g-c,a.offset>v){if((v=a.offset-v)>a.whave&&a.sane){e.msg="invalid distance too far back",a.mode=he;break}v>a.wnext?(v-=a.wnext,m=a.wsize-v):m=a.wnext-v,v>a.length&&(v=a.length),ge=a.window}else ge=o,m=r-a.offset,v=a.length;v>c&&(v=c),c-=v,a.length-=v;do{o[r++]=ge[m++]}while(--v);0===a.length&&(a.mode=ie);break;case le:if(0===c)break e;o[r++]=a.length,c--,a.mode=ie;break;case ce:if(a.wrap){for(;f<32;){if(0===l)break e;l--,h|=n[s++]<<f,f+=8}if(g-=c,e.total_out+=g,a.total+=g,g&&(e.adler=a.check=a.flags?w(a.check,o,g,r-g):y(a.check,o,g,r-g)),g=c,(a.flags?h:i(h))!==a.check){e.msg="incorrect data check",a.mode=he;break}h=0,f=0}a.mode=de;case de:if(a.wrap&&a.flags){for(;f<32;){if(0===l)break e;l--,h+=n[s++]<<f,f+=8}if(h!==(4294967295&a.total)){e.msg="incorrect length check",a.mode=he;break}h=0,f=0}a.mode=ue;case ue:Ie=L;break e;case he:Ie=E;break e;case fe:return D;case pe:default:return B}return e.next_out=r,e.avail_out=c,e.next_in=s,e.avail_in=l,a.hold=h,a.bits=f,(a.wsize||g!==e.avail_out&&a.mode<he&&(a.mode<ce||t!==k))&&u(e,e.output,e.next_out,g-e.avail_out)?(a.mode=fe,D):(p-=e.avail_in,g-=e.avail_out,e.total_in+=p,e.total_out+=g,a.total+=g,a.wrap&&g&&(e.adler=a.check=a.flags?w(a.check,o,g,e.next_out-g):y(a.check,o,g,e.next_out-g)),e.data_type=a.bits+(a.last?64:0)+(a.mode===Z?128:0)+(a.mode===ae||a.mode===J?256:0),(0===p&&0===g||t===k)&&Ie===P&&(Ie=R),Ie)}function f(e){if(!e||!e.state)return B;var t=e.state;return t.window&&(t.window=null),e.state=null,P}function p(e,t){var a;return e&&e.state?(a=e.state,0==(2&a.wrap)?B:(a.head=t,t.done=!1,P)):B}function g(e,t){var a,i,n=t.length;return e&&e.state?(a=e.state,0!==a.wrap&&a.mode!==G?B:a.mode===G&&(i=1,(i=y(i,t,n,0))!==a.check)?E:u(e,t,n,n)?(a.mode=fe,D):(a.havedict=1,P)):B}var v,m,b=e("../utils/common"),y=e("./adler32"),w=e("./crc32"),_=e("./inffast"),C=e("./inftrees"),I=0,x=1,S=2,k=4,T=5,Q=6,P=0,L=1,F=2,B=-2,E=-3,D=-4,R=-5,q=8,j=1,A=2,M=3,O=4,z=5,H=6,W=7,N=8,V=9,U=10,G=11,Z=12,$=13,X=14,J=15,K=16,Y=17,ee=18,te=19,ae=20,ie=21,ne=22,oe=23,se=24,re=25,le=26,ce=27,de=28,ue=29,he=30,fe=31,pe=32,ge=852,ve=592,me=15,be=!0;a.inflateReset=s,a.inflateReset2=r,a.inflateResetKeep=o,a.inflateInit=c,a.inflateInit2=l,a.inflate=h,a.inflateEnd=f,a.inflateGetHeader=p,a.inflateSetDictionary=g,a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":5,"./inffast":7,"./inftrees":9}],9:[function(e,t,a){"use strict";var i=e("../utils/common"),n=15,o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],r=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,a,c,d,u,h,f){var p,g,v,m,b,y,w,_,C,I=f.bits,x=0,S=0,k=0,T=0,Q=0,P=0,L=0,F=0,B=0,E=0,D=null,R=0,q=new i.Buf16(16),j=new i.Buf16(16),A=null,M=0;for(x=0;x<=n;x++)q[x]=0;for(S=0;S<c;S++)q[t[a+S]]++;for(Q=I,T=n;T>=1&&0===q[T];T--);if(Q>T&&(Q=T),0===T)return d[u++]=20971520,d[u++]=20971520,f.bits=1,0;for(k=1;k<T&&0===q[k];k++);for(Q<k&&(Q=k),F=1,x=1;x<=n;x++)if(F<<=1,(F-=q[x])<0)return-1;if(F>0&&(0===e||1!==T))return-1;for(j[1]=0,x=1;x<n;x++)j[x+1]=j[x]+q[x];for(S=0;S<c;S++)0!==t[a+S]&&(h[j[t[a+S]]++]=S);if(0===e?(D=A=h,y=19):1===e?(D=o,R-=257,A=s,M-=257,y=256):(D=r,A=l,y=-1),E=0,S=0,x=k,b=u,P=Q,L=0,v=-1,B=1<<Q,m=B-1,1===e&&B>852||2===e&&B>592)return 1;for(;;){w=x-L,h[S]<y?(_=0,C=h[S]):h[S]>y?(_=A[M+h[S]],C=D[R+h[S]]):(_=96,C=0),p=1<<x-L,g=1<<P,k=g;do{g-=p,d[b+(E>>L)+g]=w<<24|_<<16|C|0}while(0!==g);for(p=1<<x-1;E&p;)p>>=1;if(0!==p?(E&=p-1,E+=p):E=0,S++,0==--q[x]){if(x===T)break;x=t[a+h[S]]}if(x>Q&&(E&m)!==v){for(0===L&&(L=Q),b+=k,P=x-L,F=1<<P;P+L<T&&!((F-=q[P+L])<=0);)P++,F<<=1;if(B+=1<<P,1===e&&B>852||2===e&&B>592)return 1;v=E&m,d[v]=Q<<24|P<<16|b-u|0}}return 0!==E&&(d[b+E]=x-L<<24|64<<16|0),f.bits=Q,0}},{"../utils/common":1}],10:[function(e,t,a){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(e,t,a){"use strict";function i(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=i},{}],"/lib/inflate.js":[function(e,t,a){"use strict";function i(e){if(!(this instanceof i))return new i(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var a=s.inflateInit2(this.strm,t.windowBits);if(a!==c.Z_OK)throw new Error(d[a]);this.header=new h,s.inflateGetHeader(this.strm,this.header)}function n(e,t){var a=new i(t);if(a.push(e,!0),a.err)throw a.msg||d[a.err];return a.result}function o(e,t){return t=t||{},t.raw=!0,n(e,t)}var s=e("./zlib/inflate"),r=e("./utils/common"),l=e("./utils/strings"),c=e("./zlib/constants"),d=e("./zlib/messages"),u=e("./zlib/zstream"),h=e("./zlib/gzheader"),f=Object.prototype.toString;i.prototype.push=function(e,t){var a,i,n,o,d,u,h=this.strm,p=this.options.chunkSize,g=this.options.dictionary,v=!1;if(this.ended)return!1;i=t===~~t?t:!0===t?c.Z_FINISH:c.Z_NO_FLUSH,"string"==typeof e?h.input=l.binstring2buf(e):"[object ArrayBuffer]"===f.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new r.Buf8(p),h.next_out=0,h.avail_out=p),a=s.inflate(h,c.Z_NO_FLUSH),a===c.Z_NEED_DICT&&g&&(u="string"==typeof g?l.string2buf(g):"[object ArrayBuffer]"===f.call(g)?new Uint8Array(g):g,a=s.inflateSetDictionary(this.strm,u)),a===c.Z_BUF_ERROR&&!0===v&&(a=c.Z_OK,v=!1),a!==c.Z_STREAM_END&&a!==c.Z_OK)return this.onEnd(a),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&a!==c.Z_STREAM_END&&(0!==h.avail_in||i!==c.Z_FINISH&&i!==c.Z_SYNC_FLUSH)||("string"===this.options.to?(n=l.utf8border(h.output,h.next_out),o=h.next_out-n,d=l.buf2string(h.output,n),h.next_out=o,h.avail_out=p-o,o&&r.arraySet(h.output,h.output,n,o,0),this.onData(d)):this.onData(r.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(v=!0)}while((h.avail_in>0||0===h.avail_out)&&a!==c.Z_STREAM_END);return a===c.Z_STREAM_END&&(i=c.Z_FINISH),i===c.Z_FINISH?(a=s.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===c.Z_OK):i!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),h.avail_out=0,!0)},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){e===c.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},a.Inflate=i,a.inflate=n,a.inflateRaw=o,a.ungzip=n},{"./utils/common":1,"./utils/strings":2,"./zlib/constants":4,"./zlib/gzheader":6,"./zlib/inflate":8,"./zlib/messages":10,"./zlib/zstream":11}]},{},[])("/lib/inflate.js")}}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){var i=function(e){"use strict";function t(e){var t=e.localName;return null==t&&(t=e.baseName),null!=t&&""!=t||(t=e.nodeName),t}function a(e){return e.prefix}function i(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):e}function n(e,t,a,i){for(var n=0;n<e.length;n++){var o=e[n];if("string"==typeof o){if(o==i)break}else if(o instanceof RegExp){if(o.test(i))break}else if("function"==typeof o&&o(t,a,i))break}return n!=e.length}function o(t,a,i){switch(e.arrayAccessForm){case"property":t[a]instanceof Array?t[a+"_asArray"]=t[a]:t[a+"_asArray"]=[t[a]]}!(t[a]instanceof Array)&&e.arrayAccessFormPaths.length>0&&n(e.arrayAccessFormPaths,t,a,i)&&(t[a]=[t[a]])}function s(e){var t=e.split(/[-T:+Z]/g),a=new Date(t[0],t[1]-1,t[2]),i=t[5].split(".");if(a.setHours(t[3],t[4],i[0]),i.length>1&&a.setMilliseconds(i[1]),t[6]&&t[7]){var n=60*t[6]+Number(t[7]);n=0+("-"==(/\d\d-\d\d:\d\d$/.test(e)?"-":"+")?-1*n:n),a.setMinutes(a.getMinutes()-n-a.getTimezoneOffset())}else-1!==e.indexOf("Z",e.length-1)&&(a=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())));return a}function r(t,a,i){if(e.datetimeAccessFormPaths.length>0){var o=i.split(".#")[0];return n(e.datetimeAccessFormPaths,t,a,o)?s(t):t}return t}function l(t,a,i,o){return!(a==C.ELEMENT_NODE&&e.xmlElementsFilter.length>0)||n(e.xmlElementsFilter,t,i,o)}function c(i,n){if(i.nodeType==C.DOCUMENT_NODE){for(var s=new Object,d=i.childNodes,u=0;u<d.length;u++){var h=d.item(u);if(h.nodeType==C.ELEMENT_NODE){var f=t(h);s[f]=c(h,f)}}return s}if(i.nodeType==C.ELEMENT_NODE){var s=new Object;s.__cnt=0;for(var d=i.childNodes,u=0;u<d.length;u++){var h=d.item(u),f=t(h);if(h.nodeType!=C.COMMENT_NODE){var p=n+"."+f;l(s,h.nodeType,f,p)&&(s.__cnt++,null==s[f]?(s[f]=c(h,p),o(s,f,p)):(null!=s[f]&&(s[f]instanceof Array||(s[f]=[s[f]],o(s,f,p))),s[f][s[f].length]=c(h,p)))}}for(var g=0;g<i.attributes.length;g++){var v=i.attributes.item(g);s.__cnt++,s[e.attributePrefix+v.name]=v.value}var m=a(i);return null!=m&&""!=m&&(s.__cnt++,s.__prefix=m),null!=s["#text"]&&(s.__text=s["#text"],s.__text instanceof Array&&(s.__text=s.__text.join("\n")),e.stripWhitespaces&&(s.__text=s.__text.trim()),delete s["#text"],"property"==e.arrayAccessForm&&delete s["#text_asArray"],s.__text=r(s.__text,f,n+"."+f)),null!=s["#cdata-section"]&&(s.__cdata=s["#cdata-section"],delete s["#cdata-section"],"property"==e.arrayAccessForm&&delete s["#cdata-section_asArray"]),0==s.__cnt&&"text"==e.emptyNodeForm?s="":1==s.__cnt&&null!=s.__text?s=s.__text:1!=s.__cnt||null==s.__cdata||e.keepCData?s.__cnt>1&&null!=s.__text&&e.skipEmptyTextNodesForObj&&(e.stripWhitespaces&&""==s.__text||""==s.__text.trim())&&delete s.__text:s=s.__cdata,delete s.__cnt,!e.enableToStringFunc||null==s.__text&&null==s.__cdata||(s.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),s}if(i.nodeType==C.TEXT_NODE||i.nodeType==C.CDATA_SECTION_NODE)return i.nodeValue}function d(t,a,n,o){var s="<"+(null!=t&&null!=t.__prefix?t.__prefix+":":"")+a;if(null!=n)for(var r=0;r<n.length;r++){var l=n[r],c=t[l];e.escapeMode&&(c=i(c)),s+=" "+l.substr(e.attributePrefix.length)+"=",e.useDoubleQuotes?s+='"'+c+'"':s+="'"+c+"'"}return s+=o?"/>":">"}function u(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function h(e,t){return-1!==e.indexOf(t,e.length-t.length)}function f(t,a){return!!("property"==e.arrayAccessForm&&h(a.toString(),"_asArray")||0==a.toString().indexOf(e.attributePrefix)||0==a.toString().indexOf("__")||t[a]instanceof Function)}function p(e){var t=0;if(e instanceof Object)for(var a in e)f(e,a)||t++;return t}function g(t,a,i){return 0==e.jsonPropertiesFilter.length||""==i||n(e.jsonPropertiesFilter,t,a,i)}function v(t){var a=[];if(t instanceof Object)for(var i in t)-1==i.toString().indexOf("__")&&0==i.toString().indexOf(e.attributePrefix)&&a.push(i);return a}function m(t){var a="";return null!=t.__cdata&&(a+="<![CDATA["+t.__cdata+"]]>"),null!=t.__text&&(e.escapeMode?a+=i(t.__text):a+=t.__text),a}function b(t){var a="";return t instanceof Object?a+=m(t):null!=t&&(e.escapeMode?a+=i(t):a+=t),a}function y(e,t){return""===e?t:e+"."+t}function w(e,t,a,i){var n="";if(0==e.length)n+=d(e,t,a,!0);else for(var o=0;o<e.length;o++)n+=d(e[o],t,v(e[o]),!1),n+=_(e[o],y(i,t)),n+=u(e[o],t);return n}function _(e,t){var a="";if(p(e)>0)for(var i in e)if(!f(e,i)&&(""==t||g(e,i,y(t,i)))){var n=e[i],o=v(n);if(null==n||void 0==n)a+=d(n,i,o,!0);else if(n instanceof Object)if(n instanceof Array)a+=w(n,i,o,t);else if(n instanceof Date)a+=d(n,i,o,!1),a+=n.toISOString(),a+=u(n,i);else{var s=p(n);s>0||null!=n.__text||null!=n.__cdata?(a+=d(n,i,o,!1),a+=_(n,y(t,i)),a+=u(n,i)):a+=d(n,i,o,!0)}else a+=d(n,i,o,!1),a+=b(n),a+=u(n,i)}return a+=b(e)}e=e||{},function(){void 0===e.escapeMode&&(e.escapeMode=!0),e.attributePrefix=e.attributePrefix||"_",e.arrayAccessForm=e.arrayAccessForm||"none",e.emptyNodeForm=e.emptyNodeForm||"text",void 0===e.enableToStringFunc&&(e.enableToStringFunc=!0),e.arrayAccessFormPaths=e.arrayAccessFormPaths||[],void 0===e.skipEmptyTextNodesForObj&&(e.skipEmptyTextNodesForObj=!0),void 0===e.stripWhitespaces&&(e.stripWhitespaces=!0),e.datetimeAccessFormPaths=e.datetimeAccessFormPaths||[],void 0===e.useDoubleQuotes&&(e.useDoubleQuotes=!1),e.xmlElementsFilter=e.xmlElementsFilter||[],e.jsonPropertiesFilter=e.jsonPropertiesFilter||[],void 0===e.keepCData&&(e.keepCData=!1)}();var C={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(e){var t=window.ActiveXObject||"ActiveXObject"in window;if(void 0===e)return null;var a;if(window.DOMParser){var i=new window.DOMParser,n=null;if(!t)try{n=i.parseFromString("INVALID","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(e){n=null}try{a=i.parseFromString(e,"text/xml"),null!=n&&a.getElementsByTagNameNS(n,"parsererror").length>0&&(a=null)}catch(e){a=null}}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),a=new ActiveXObject("Microsoft.XMLDOM"),a.async="false",a.loadXML(e);return a},this.asArray=function(e){return void 0===e||null==e?[]:e instanceof Array?e:[e]},this.toXmlDateTime=function(e){return e instanceof Date?e.toISOString():"number"==typeof e?new Date(e).toISOString():null},this.asDateTime=function(e){return"string"==typeof e?s(e):e},this.xml2json=function(e){return c(e)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return null!=t?this.xml2json(t):null},this.json2xml_str=function(e){return _(e,"")},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return"1.2.0"}};a.exports=i}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){var i={utf8ArrayToStr:function(e){var t,a,i,n,o,s;for(t="",i=e.length,a=0;a<i;)switch((n=e[a++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(n);break;case 12:case 13:o=e[a++],t+=String.fromCharCode((31&n)<<6|63&o);break;case 14:o=e[a++],s=e[a++],t+=String.fromCharCode((15&n)<<12|(63&o)<<6|(63&s)<<0)}return t}};a.exports=i}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(55),o=a(56),s=a(10),r=a(0),l=a(11),c=a(12);Q.PageInfo&&Q.PageInfo.playPageInfo&&Q.PageInfo.playPageInfo.isSource&&Q.PageInfo.playPageInfo.newTmplt,i.exports=Q.Class("roleBarrageView",{construct:function(e){this.dataList=e.dataList,this.doms=e.doms,this.toastTimer="",this.ctrl=e},methods:{initDoms:function(){this.doms.color=this.doms.widget.down("[data-barrage-color]"),this.doms.ajTipDom=this.doms.widget.down('[data-barrage-color="D8B67E"]'),this.anjinseDom(),this.initEvents()},initEvents:function(){var e=this;e.doms.color&&e.doms.color.on("click",function(t){Q.event.get(t).preventDefault();var a=Q(this);e.ctrl.sendClickPingback(Q(this).data("rseat"));var i=a.attr("data-barrage-color");if("D8B67E"===i){if(!r.isLogin())return void loginSDK.openLoginWindow();l.isValidVip(function(t){if(!t)return void c.initVipPay({fc:"b4048f11d4c3d63c",aid:e.ctrl.aid});a.children(".goldVip_txt").addClass("dn"),e.setColor(i,a)})}else e.setColor(i,a)})},getColor:function(){return this.color},setColor:function(e,t){this.doms.color.removeClass("selected"),t.addClass("selected"),this.color=e,Q('[data-barrage-input="barrage"]').css("color","#"+e)},anjinseDom:function(){var e=this.doms.ajTipDom;e&&(r.isLogin()?l.isValidVip(function(t){t?(e.attr("title","VIP专属暗金色已上线"),e.down("[data-barrage-vipicon]").addClass("dn")):e.attr("title","点击成为VIP，享专属暗金色")}):e.attr("title","VIP登录解锁暗金色"))},initRolePanel:function(){var e=this,t=n.iconTpl,a=n.sendRoleTipTpl,i=n.roleListTpl,r=o(t,this.dataList.roleInfo),l=o(a,this.dataList.roleInfo),c=o(i,this.dataList.roleInfo),d=r+l;this.doms.roleWidget.html(d),Q(".j_roleList_panel").length?Q(".j_roleList_panel").html(Q(c).html()):(this.doms.roleWidget.parent().parent().append(Q(c)[0]),setTimeout(function(){e.ctrl.roleBarrageAction.roleBtnClick()},200)),this.doms.inputWrap.addClass("barrage-input-role"),s.getConfig(this.dataList,"QC159").clickRole?(Q(".j_role_widget").addClass("dn"),Q(".j_textrole_widget").addClass("dn"),Q(".j_clickrole_widget").removeClass("dn")):(this.doms.roleWidget.removeClass("dn"),Q(".j_textrole_widget").addClass("dn"),Q(".j_clickrole_widget").addClass("dn")),this.initDoms()},initTextRolePanel:function(){var e=this,t=n.contentColorTpl;Q(".j_roleList_panel").length?Q(".j_roleList_panel").html(Q(t).html()):(this.doms.roleWidget.parent().parent().append(Q(t)[0]),setTimeout(function(){e.ctrl.roleBarrageAction.roleBtnClick()},200)),this.doms.inputWrap.addClass("barrage-input-role"),this.doms.roleWidget.addClass("dn"),Q(".j_textrole_widget").removeClass("dn"),Q(".j_clickrole_widget").addClass("dn"),this.initDoms()},initRoleTip:function(){var e=this;if(s.getConfig(this.dataList,"QC159").hideRoleTip)e.doms.firstSendTip.addClass("dn");else{e.doms.firstSendTip.removeClass("dn");var t={hideRoleTip:1};s.extendConfig(e.dataList,"QC159",t),setTimeout(function(){e.doms.firstSendTip.addClass("dn")},5e3)}},showBadgeToast:function(){var e=this.doms.badgeToast;this.doms.scoreToast.addClass("dn"),this.doms.scoreToastOut.addClass("dn"),this._showToast(e)},showScoreToast:function(){var e=this.doms.scoreToast;this.doms.badgeToast.addClass("dn"),this.doms.scoreToastOut.addClass("dn"),this._showToast(e)},showScoreToastOut:function(){var e=this.doms.scoreToastOut;this.doms.badgeToast.addClass("dn"),this.doms.scoreToast.addClass("dn"),this._showToast(e)},_showToast:function(e){var t=this;t.toastTimer&&clearTimeout(t.toastTimer),e.removeClass("dn"),t.toastTimer=setTimeout(function(){e.addClass("dn")},1e3)},selecteRole:function(e){var t=e.attr("data-role-name"),a=e.attr("data-role-pic"),i=e.attr("data-role-type"),n=e.attr("data-role-score"),o=e.attr("data-role-avatarId");Q("[data-role-icon]").attr("src",a),this.doms.roleItems.removeClass("selected"),e.addClass("selected"),this.dataList.selectedRole={hasSelectedRole:!0,roleName:t,rolePic:a,roleType:i,roleScore:n,roleId:o},Q(".j_role_widget").removeClass("dn"),Q(".j_clickrole_widget").addClass("dn")},cancelSelecteRole:function(e){var t=this.dataList.roleInfo.defaultIcon;this.doms.roleBtn.attr("src",t),e.removeClass("selected"),this.dataList.selectedRole={hasSelectedRole:!1,roleName:"",rolePic:"",roleType:"",roleScore:"",roleId:""},Q(".j_role_widget").addClass("dn"),Q(".j_clickrole_widget").removeClass("dn")},closeFloater_consumeScore:function(){var e=this;e.couponFloater&&(e.couponFloater.destroy(),e.couponFloater=null)},createFloater_consumeScore:function(){}}})}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){a.exports={iconTpl:'<img src="${defaultIcon}" class="barrage-entry-img" data-role-icon><i class="j_role_btnSvg"><i class="qyb-svg qyb-svg-A-s"><svg aria-hidden="true" class="qyb-symbol-icon"><use xlink:href="#qyb-A"></use></svg></i><i class="qyb-svg qyb-svg-A"><svg aria-hidden="true" class="qyb-symbol-icon"><use xlink:href="#qyb-A"></use></svg></i></i>',sendRoleTipTpl:'<div class="qy-barrage-role-tip j_role_firstSendTip dn"><span class="role-tip-arrow"><i class="tip_outer"></i><i class="tip_inner"></i></span>点击这里，扮演角色来发弹幕吧</div>',roleListTpl:'<div class="qy-barrage-role j_roleList_panel dn" style="" data_item_num="${roleLength}"><div class="role-box"><p class="role-title">弹幕角色</p><div class="role-scroll-box"><div class="role-hidden"><ul class="role-container j_slider_ul" style="width:${ulLength}px">{@each roleList as item}<li class="role-list {@if item.cond == 3}vip{@/if} j_role_item" data-role-type="${item.cond}"  data-role-name="${item.name}" data-role-pic="${item.pic}"  data-role-score="${item.score}" data-role-badgeCode="${item.medalCode}"  data-role-avatarId="${item.avatarId}"><a href="javascript:void(0);" class="role-link ">{@if item.cond == 4}<i class="role-icon role-icon-medal">${item.medalName}</i>{@else if item.cond == 3}<i class="barrage-icons color-vip-tit"></i>{@/if}<img src="${item.pic}" class="role-img"></a><p class="role-name" title="${item.name}">${item.name}</p>{@if item.cond == 2}<p class="role-integral">${item.score}积分</p>{@/if}</li>{@/each}</ul></div><i class="qyb-svg qyb-svg-l-arr j_btn_pre dn"><svg aria-hidden="true" class="qyb-symbol-icon"><use xlink:href="#qyb-l-arr"></use></svg></i><i class="qyb-svg qyb-svg-r-arr j_btn_next dn"><svg aria-hidden="true" class="qyb-symbol-icon"><use xlink:href="#qyb-r-arr"></use></svg></i></div></div><div class="barrageSet_fsBox" data-barrage-content="contentColor"><p class="role-title">色彩</p><div class="color-box"><a href="javascript:void(0)" data-barrage-color="FFFFFF" data-rseat="608241_color_1" class="color-wrap selected"><i class="color-inner color-white"></i></a><a href="javascript:void(0)" data-barrage-color="FEF102" data-rseat="608241_color_4" class="color-wrap"><i class="color-inner color-yellow"></i> </a><a data-barrage-color="00FF10" href="javascript:void(0)" data-rseat="608241_color_6" class="color-wrap"><i class="color-inner color-green"></i> </a><a data-barrage-color="FF3E3E" href="javascript:void(0)" data-rseat="608241_color_2" class="color-wrap"><i class="color-inner color-red"></i> </a><a data-barrage-color="D8B67E" href="javascript:void(0)" data-rseat="608241_color_13" title="点击成为VIP，享专属暗金色" class="color-wrap vip"><i class="color-inner color-vip"></i> <i class="barrage-icons color-vip-icon" data-barrage-vipicon></i> <i class="barrage-icons color-vip-tit"></i></a></div></div></div>',scoreRoleFloaterTpl:'<div class="qy-role-pop" style="margin-top:0px;"><p class="role-pop-title">确认使用积分发送该弹幕吗？</p><p class="role-pop-tip">该提示仅出现一次</p><a href="javascript:void(0);" class="btn-role-pop btn-yes j_roleFloater_send">立即发送</a><a href="javascript:void(0);" class="btn-role-pop btn-no j_roleFloater_close">算了，下次吧</a></div>',contentColorTpl:'<div class="qy-barrage-role j_roleList_panel dn"><div class="barrageSet_fsBox" data-barrage-content="contentColor"><p class="role-title">色彩</p><div class="color-box"><a href="javascript:void(0)" data-barrage-color="FFFFFF" data-rseat="608241_color_1" class="color-wrap selected"><i class="color-inner color-white"></i></a><a href="javascript:void(0)" data-barrage-color="FEF102" data-rseat="608241_color_4" class="color-wrap"><i class="color-inner color-yellow"></i> </a><a data-barrage-color="00FF10" href="javascript:void(0)" data-rseat="608241_color_6" class="color-wrap"><i class="color-inner color-green"></i> </a><a data-barrage-color="FF3E3E" href="javascript:void(0)" data-rseat="608241_color_2" class="color-wrap"><i class="color-inner color-red"></i> </a><a data-barrage-color="D8B67E" href="javascript:void(0)" data-rseat="608241_color_13" title="点击成为VIP，享专属暗金色" class="color-wrap vip"><i class="color-inner color-vip"></i> <i class="barrage-icons color-vip-icon" data-barrage-vipicon></i> <i class="barrage-icons color-vip-tit"></i></a></div></div></div>'}}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){!function(){var e=function(){var t=[].slice.call(arguments);return t.push(e.options),t[0].match(/^\s*#([\w:\-\.]+)\s*$/gim)&&t[0].replace(/^\s*#([\w:\-\.]+)\s*$/gim,function(e,a){var i=document,n=i&&i.getElementById(a);t[0]=n?n.value||n.innerHTML:e}),1==arguments.length?e.compile.apply(e,t):arguments.length>=2?e.to_html.apply(e,t):void 0},t={escapehash:{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","/":"&#x2f;"},escapereplace:function(e){return t.escapehash[e]},escaping:function(e){return"string"!=typeof e?e:e.replace(/[&<>"]/gim,this.escapereplace)},detection:function(e){return void 0===e?"":e}},i=function(e){var t=window.console;if(void 0!==t){if(t.warn)return void t.warn(e);if(t.log)return void t.log(e)}throw e},n=function(e,t){if(e=e!==Object(e)?{}:e,e.__proto__)return e.__proto__=t,e;var a=function(){},i=Object.create?Object.create(t):new Object(a.prototype=t,a);for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i};e.__cache={},e.version="0.6.5-stable",e.settings={},e.tags={operationOpen:"{@",operationClose:"}",interpolateOpen:"\\${",interpolateClose:"}",noneencodeOpen:"\\$\\${",noneencodeClose:"}",commentOpen:"\\{#",commentClose:"\\}"},e.options={cache:!0,strip:!0,errorhandling:!0,detection:!0,_method:n({__escapehtml:t,__throw:i,__juicer:e},{})},e.tagInit=function(){var t=e.tags.operationOpen+"each\\s*([^}]*?)\\s*as\\s*(\\w*?)\\s*(,\\s*\\w*?)?"+e.tags.operationClose,a=e.tags.operationOpen+"\\/each"+e.tags.operationClose,i=e.tags.operationOpen+"if\\s*([^}]*?)"+e.tags.operationClose,n=e.tags.operationOpen+"\\/if"+e.tags.operationClose,o=e.tags.operationOpen+"else"+e.tags.operationClose,s=e.tags.operationOpen+"else if\\s*([^}]*?)"+e.tags.operationClose,r=e.tags.interpolateOpen+"([\\s\\S]+?)"+e.tags.interpolateClose,l=e.tags.noneencodeOpen+"([\\s\\S]+?)"+e.tags.noneencodeClose,c=e.tags.commentOpen+"[^}]*?"+e.tags.commentClose,d=e.tags.operationOpen+"each\\s*(\\w*?)\\s*in\\s*range\\(([^}]+?)\\s*,\\s*([^}]+?)\\)"+e.tags.operationClose,u=e.tags.operationOpen+"include\\s*([^}]*?)\\s*,\\s*([^}]*?)"+e.tags.operationClose;e.settings.forstart=new RegExp(t,"igm"),e.settings.forend=new RegExp(a,"igm"),e.settings.ifstart=new RegExp(i,"igm"),e.settings.ifend=new RegExp(n,"igm"),e.settings.elsestart=new RegExp(o,"igm"),e.settings.elseifstart=new RegExp(s,"igm"),e.settings.interpolate=new RegExp(r,"igm"),e.settings.noneencode=new RegExp(l,"igm"),e.settings.inlinecomment=new RegExp(c,"igm"),e.settings.rangestart=new RegExp(d,"igm"),e.settings.include=new RegExp(u,"igm")},e.tagInit(),e.set=function(e,t){var a=this,i=function(e){return e.replace(/[\$\(\)\[\]\+\^\{\}\?\*\|\.]/gim,function(e){return"\\"+e})},n=function(e,t){var n=e.match(/^tag::(.*)$/i);if(n)return a.tags[n[1]]=i(t),void a.tagInit();a.options[e]=t};if(2===arguments.length)return void n(e,t);if(e===Object(e))for(var o in e)e.hasOwnProperty(o)&&n(o,e[o])},e.register=function(e,t){var a=this.options._method;return!a.hasOwnProperty(e)&&(a[e]=t,a[e])},e.unregister=function(e){var t=this.options._method;if(t.hasOwnProperty(e))return delete t[e]},e.template=function(t){var a=this;this.options=t,this.__interpolate=function(e,t,a){var i,n=e.split("|"),o=n[0]||"";return n.length>1&&(e=n.shift(),i=n.shift().split(","),o="_method."+i.shift()+".call({}, "+[e].concat(i)+")"),"<%= "+(t?"_method.__escapehtml.escaping":"")+"("+(a&&!1===a.detection?"":"_method.__escapehtml.detection")+"("+o+")) %>"},this.__removeShell=function(t,i){var n=0;return t=t.replace(e.settings.forstart,function(e,t,a,i){var o=a||"value",s=i&&i.substr(1),r="i"+n++;return"<% ~function() {for(var "+r+" in "+t+") {if("+t+".hasOwnProperty("+r+")) {var "+o+"="+t+"["+r+"];"+(s?"var "+s+"="+r+";":"")+" %>"}).replace(e.settings.forend,"<% }}}(); %>").replace(e.settings.ifstart,function(e,t){return"<% if("+t+") { %>"}).replace(e.settings.ifend,"<% } %>").replace(e.settings.elsestart,function(e){return"<% } else { %>"}).replace(e.settings.elseifstart,function(e,t){return"<% } else if("+t+") { %>"}).replace(e.settings.noneencode,function(e,t){return a.__interpolate(t,!1,i)}).replace(e.settings.interpolate,function(e,t){return a.__interpolate(t,!0,i)}).replace(e.settings.inlinecomment,"").replace(e.settings.rangestart,function(e,t,a,i){var o="j"+n++;return"<% ~function() {for(var "+o+"="+a+";"+o+"<"+i+";"+o+"++) {{var "+t+"="+o+"; %>"}).replace(e.settings.include,function(e,t,a){return t.match(/^file\:\/\//gim)?e:"<%= _method.__juicer("+t+", "+a+"); %>"}),i&&!1===i.errorhandling||(t="<% try { %>"+t,t+='<% } catch(e) {_method.__throw("Juicer Render Exception: "+e.message);} %>'),t},this.__toNative=function(e,t){return this.__convert(e,!t||t.strip)},this.__lexicalAnalyze=function(t){var a=[],i=[],n="",o=["if","each","_","_method","console","break","case","catch","continue","debugger","default","delete","do","finally","for","function","in","instanceof","new","return","switch","this","throw","try","typeof","var","void","while","with","null","typeof","class","enum","export","extends","import","super","implements","interface","let","package","private","protected","public","static","yield","const","arguments","true","false","undefined","NaN"],s=function(e,t){if(Array.prototype.indexOf&&e.indexOf===Array.prototype.indexOf)return e.indexOf(t);for(var a=0;a<e.length;a++)if(e[a]===t)return a;return-1},r=function(t,n){if(n=n.match(/\w+/gim)[0],-1===s(a,n)&&-1===s(o,n)&&-1===s(i,n)){if("undefined"!=typeof window&&"function"==typeof window[n]&&window[n].toString().match(/^\s*?function \w+\(\) \{\s*?\[native code\]\s*?\}\s*?$/i))return t;var r={};if(void 0!==r&&"function"==typeof r[n]&&r[n].toString().match(/^\s*?function \w+\(\) \{\s*?\[native code\]\s*?\}\s*?$/i))return t;if("function"==typeof e.options._method[n]||e.options._method.hasOwnProperty(n))return i.push(n),t;a.push(n)}return t};t.replace(e.settings.forstart,r).replace(e.settings.interpolate,r).replace(e.settings.ifstart,r).replace(e.settings.elseifstart,r).replace(e.settings.include,r).replace(/[\+\-\*\/%!\?\|\^&~<>=,\(\)\[\]]\s*([A-Za-z_]+)/gim,r);for(var l=0;l<a.length;l++)n+="var "+a[l]+"=_."+a[l]+";";for(var c=0;c<i.length;c++)n+="var "+i[c]+"=_method."+i[c]+";";return"<% "+n+" %>"},this.__convert=function(e,t){var a=[].join("");return a+="'use strict';",a+="var _=_||{};",a+="var _out='';_out+='",a+=!1!==t?e.replace(/\\/g,"\\\\").replace(/[\r\t\n]/g," ").replace(/'(?=[^%]*%>)/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/<%=(.+?)%>/g,"';_out+=$1;_out+='").split("<%").join("';").split("%>").join("_out+='")+"';return _out;":e.replace(/\\/g,"\\\\").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t").replace(/[\n]/g,"\\n").replace(/'(?=[^%]*%>)/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/<%=(.+?)%>/g,"';_out+=$1;_out+='").split("<%").join("';").split("%>").join("_out+='")+"';return _out.replace(/[\\r\\n]\\s+[\\r\\n]/g, '\\r\\n');"},this.parse=function(e,t){var i=this;return t&&!1===t.loose||(e=this.__lexicalAnalyze(e)+e),e=this.__removeShell(e,t),e=this.__toNative(e,t),this._render=new Function("_, _method",e),this.render=function(e,t){return t&&t===a.options._method||(t=n(t,a.options._method)),i._render.call(this,e,t)},this}},e.compile=function(e,t){t&&t===this.options||(t=n(t,this.options));try{var a=this.__cache[e]?this.__cache[e]:new this.template(this.options).parse(e,t);return t&&!1===t.cache||(this.__cache[e]=a),a}catch(e){return i("Juicer Compile Exception: "+e.message),{render:function(){}}}},e.to_html=function(e,t,a){return a&&a===this.options||(a=n(a,this.options)),this.compile(e,a).render(t,a._method)},void 0!==a&&a.exports?a.exports=e:this.juicer=e}()}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){a.exports=Q.Class("BarrageSlider",{construct:function(e){e=e||{},this.sliderWrap=e.sliderWrap,this.preBtn=this.sliderWrap.find(".j_btn_pre"),this.nextBtn=this.sliderWrap.find(".j_btn_next"),this.sliderUl=this.sliderWrap.find(".j_slider_ul"),this.sliderLi=this.sliderWrap.find(".j_role_item"),this.total=this.sliderWrap.attr("data_item_num"),this.init()},methods:{init:function(){var e=this;this.itemSpace=5,this.startIdx=0,this.rNum=0,this.lNum=0,this.getSize(),this.getResidueNum(),this.showBtn(),this.doSliderEvent(),Q.$(window).on("onresize",function(){e.startIdx=0,e.getSize(),e.getResidueNum(),e.showBtn(),e.animate(0)})},showBtn:function(){this.getResidueNum(),this.rNum>0?this.nextBtn.removeClass("dn"):this.nextBtn.addClass("dn"),this.lNum>0?this.preBtn.removeClass("dn"):this.preBtn.addClass("dn")},getResidueNum:function(){this.rNum=this.total-this.startIdx-this.viewCount,this.lNum=this.startIdx},doSliderEvent:function(){var e=this;this.nextBtn.on("click",function(){e.getResidueNum(),e.rNum-e.viewCount>=0?e.startIdx=e.startIdx+e.viewCount:e.startIdx=e.startIdx+e.rNum,e.animate(-e.startIdx),e.showBtn()}),this.preBtn.on("click",function(){e.getResidueNum(),e.lNum-e.viewCount>=0?e.startIdx=e.startIdx-e.viewCount:e.startIdx=e.startIdx-e.lNum,e.animate(-e.startIdx),e.showBtn()})},animate:function(e){var t=e*parseInt(this.itemWidth);this.sliderUl.css({marginLeft:t+"px",transition:"all .5s"})},getSize:function(){var e=(Q.page.getViewWidth(),this.sliderWrap.outerWidth());this.itemWidth=Q(this.sliderLi[0]).outerWidth(),this.viewCount=Math.floor(parseInt(e)/parseInt(this.itemWidth))}}})}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(0),o=a(20);Q.PageInfo&&Q.PageInfo.playPageInfo&&Q.PageInfo.playPageInfo.isSource&&Q.PageInfo.playPageInfo.newTmplt,i.exports=Q.Class("I5Custom",{construct:function(e){this.doms=e.doms,this._ctrl=e},methods:{init:function(){this.doms.widget.children().addClass("dn"),this.doms.widget.append(Q(o.I5CustomTemplate)[0]),n.isLogin()||Q('[data-barrage-I5Custom] [data-barrage-ele="danmuLogin"]').removeClass("dn"),"1"==this._ctrl.isI5CustomOpenDanmu&&(Q('[data-barrage-I5Custom] [data-barrage-status="show"]').addClass("barrage-switch-open"),this.doms.widget.addClass("play-danmuWrap_open")),this.doms.widget.css("display",""),Q("[data-barrage-I5Custom]").removeClass("dn"),Q("[data-barrage-I5Custom]").css("display",""),this._bindEvents()},_bindEvents:function(){var e=this;Q("[data-barrage-I5Custom]").on("click",function(t){t.preventDefault(),t.stopPropagation(),e._ctrl.player.showToast("有一股神秘的力量阻止你进行此操作")})},reset:function(){this.doms.widget.children().addClass("dn"),n.isLogin()?Q('[data-barrage-I5Custom] [data-barrage-ele="danmuLogin"]').addClass("dn"):Q('[data-barrage-I5Custom] [data-barrage-ele="danmuLogin"]').removeClass("dn"),"1"==this._ctrl.isI5CustomOpenDanmu?(Q('[data-barrage-I5Custom] [data-barrage-status="show"]').addClass("barrage-switch-open"),this.doms.widget.addClass("play-danmuWrap_open")):(Q('[data-barrage-I5Custom] [data-barrage-status="show"]').removeClass("barrage-switch-open"),this.doms.widget.removeClass("play-danmuWrap_open")),this.doms.widget.css("display",""),Q("[data-barrage-I5Custom]").removeClass("dn"),Q("[data-barrage-I5Custom]").css("display","")},hide:function(){Q("[data-barrage-I5Custom]").css("display","none")}}})}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(60);i.exports=Q.Class("hongbao",{construct:function(e){this.doms=e.doms,this._ctrl=e,this.barrageInfo=e.dataList.barrageInfo,this.barrageHongbao=new n(e)},methods:{init:function(){var e=this,t=e._ctrl;t.dataList;this.dataList={hasActivity:!1,startForeShowTime:0,startShowTime:0,rounds:[],currentRound:{},startFlow:!1,eventAddToLocal:!1,eventShow:{},serverError:{},listenState:0,adTime:!1,allEvents:"",tipRoundId:0,tipShow:{},current:0,onceFlag:!1,continueNoticeDuration:0}},changeHongbaoStartState:function(e){this.dataList.startFlow=e},stopEventState:function(){var e=this.dataList;e.serverError[e.currentRound.id]=!0},notifyGift:function(e){var t=this,a=this.dataList;if(a.currentRound.id){if(t.barrageHongbao.setHbResultShow(e),e)return void t.barrageHongbao.closeFlowHb();if(!t.barrageInfo.isOpen||t._ctrl.getConfig().isFilterHongbao)return;2===a.listenState&&a.onceFlag&&t.timeFlowHb()}},pauseForeshow:function(e){var t=this,a=this.dataList;e?(a.continueNoticeDuration=(a.continueNoticeDuration||a.currentRound.noticeTimeDuration)-a.current+a.startForeShowTime,t.barrageHongbao.closeTip()):1===a.listenState&&(a.current<a.currentRound.videoTimeStart||a.current>a.currentRound.videoTimeEnd)?this.showTip():a.listenState=2},pauseGift:function(e){var t=this,a=this.dataList,i=a.currentRound;if(i.eventId){if(e)return a.continueDuration=(a.continueDuration||i.duration)-a.current+a.startShowTime,t.barrageHongbao.pauseFlowHb(),void(a.startFlow=!1);if(t.barrageHongbao.closeToast(),!t.barrageInfo.isOpen||t._ctrl.getConfig().isFilterHongbao)return;t.timeFlowHb()}},handler_smallWindow:function(){this.barrageHongbao.handler_smallWindow()},hbEventPause:function(){var e=this,t=e.dataList;t.adTime=!0,1===t.listenState?e.pauseForeshow(!0):2===t.listenState&&t.startFlow?e.pauseGift(!0):3===t.listenState&&e.barrageHongbao.pauseFinallyResult(!0)},hbEventResume:function(){var e=this,t=e.dataList;t.adTime=!1,1===t.listenState?e.pauseForeshow(!1):2===t.listenState&&t.onceFlag?e.pauseGift(!1):3===t.listenState&&e.barrageHongbao.pauseFinallyResult(!1)},setContinueDuration:function(e){this.dataList.continueDuration=e},changeTipState:function(e){var t=localStorage.getItem("tipShow"),a=this.dataList,i=this._ctrl.dataList.qpid,n=a.currentRound.id;if(t){var o=JSON.parse(t),s=o[i];e?(s?s[n]=1:(o={},o[i][n]=1),localStorage.setItem("tipShow",JSON.stringify(o)),a.tipShow[i][n]=!0):s?1===s[n]&&(this.dataList.tipShow[i][n]=!0):localStorage.removeItem("tipShow")}else if(e){var r={};r[i]={},r[i][n]=1,localStorage.setItem("tipShow",JSON.stringify(r)),a.tipShow[i][n]=!0}},changeListenState:function(e){var t=this.dataList;2===e&&1!==t.listenState||(t.listenState=e)},getListenState:function(){return this.dataList.listenState},showTip:function(){var e=this,t=e._ctrl,a=e.dataList;if(!t.getConfig().isFilterHongbao){a.startForeShowTime=a.current,t.initPlayer.quitFullScreen();var i=a.currentRound;a.tipRoundId=i.id,e.barrageHongbao.showTip(i.notice,a.continueNoticeDuration||i.noticeTimeDuration),e.changeTipState(!0)}},closeTip:function(e){var t=this;t.dataList.currentRound.eventId&&(e?t.barrageHongbao.closeTip():1===this.dataList.listenState&&(this.dataList.listenState=0))},delEventRecord:function(){var e=this.dataList.currentRound.eventId;if(e){var t,a=localStorage.getItem("eventRecord");if(a){t=JSON.parse(a);var i=t[e];i>=1&&(t[e]=i-1,this.dataList.eventShow[e]||(this.dataList.eventShow[e]=!1),localStorage.setItem("eventRecord",JSON.stringify(t)))}}},addEventRecord:function(){var e=this,t=e.dataList,a=t.currentRound.eventId;if(a){var i,n=localStorage.getItem("eventRecord");if(n){i=JSON.parse(n);var o=i[a];i[a]=o?o+1:1}else i={},i[a]=1;localStorage.setItem("eventRecord",JSON.stringify(i)),t.eventShow[a]||(t.eventShow[a]=!0)}},getEventRecord:function(e){var t=localStorage.getItem("eventRecord");return t?JSON.parse(t)[e]||0:0},timeFlowHb:function(){var e=this,t=e.dataList,a=t.currentRound;t.adTime||t.startFlow||t.tipRoundId&&t.tipRoundId!==a.id||!(+new Date>=a.startTs)||(t.eventAddToLocal&&(e.addEventRecord(),t.eventAddToLocal=!1),t.onceFlag=!0,t.startFlow=!0,e._ctrl.initPlayer.quitFullScreen(),t.startShowTime=t.current,e.barrageHongbao.initFlowHb(t),e.barrageHongbao.recoverFlowHb())},handleHbEvent:function(e){var t,a,i=+new Date,n=[],o=this._ctrl,s=o.dataList,r=s.qypid,l=s.aid,c=s.qpid,d=s.cid;if(e)for(t=0,a=e.length;t<a;t++){var u=e[t],h=u.videoType;if(!(2===h&&Q.array.isArray(u.albumIds)&&-1===u.albumIds.indexOf(parseInt(l,10))||0===h&&Q.array.isArray(u.tvids)&&-1===u.tvids.indexOf(parseInt(c,10))||3===h&&Q.array.isArray(u.channelIds)&&-1===u.channelIds.indexOf(parseInt(d,10))||this.dataList.eventShow[u.id]||u.fallTimesMax<=this.getEventRecord(u.id))){var f,p,g="";if(u.eventPlatforms)for(f=0,p=u.eventPlatforms.length;f<p;f++){var v=u.eventPlatforms[f];if(v.qypid===r){g=v.fallSpeed;break}}var m=0;if(u.rounds)for(f=0,p=u.rounds.length;f<p;f++){var b=u.rounds[f];if(!(1===h&&-1===b.tvids.indexOf(parseInt(c,10))||i>b.endTs)){var y,w,_="";if(b.roundPlatforms)for(y=0,w=b.roundPlatforms.length;y<w;y++){var C=b.roundPlatforms[y];if(C.qypid===r){_=C.pic;break}}_&&(m||(m=b.startTs,b.endTs),b.pic=_,b.fallSpeed=g,b.fallFreqMin=u.fallFreqMin,b.fallFreqMax=u.fallFreqMax,b.fallTimesMax=u.fallTimesMax,b.timeType=u.timeType,b.eventId=u.id,n.push(b))}}}}return{rounds:n}},getEventList:function(){var e=this,t=e.dataList.allEvents;if(t){var a=JSON.parse(t);if(a&&a.events){var i=a.events;if(i.length){var n=e.handleHbEvent(i),o=n.rounds;if(o.length){if(e.dataList.hasActivity=!0,e.dataList.rounds=o,e.dataList.eventAddToLocal=!0,e.dataList.startFlow||e.dataList.listenState)return;e.barrageHongbao.init({ctrl:e})}}}}},getCurrentRound:function(){var e=this,t=e.dataList,a=t.current;if(a){for(var i=t.currentRound.id,n=t.rounds,o=0;o<n.length;o++){var s=n[o];if(!t.serverError[s.id]&&a<s.videoTimeEnd){t.currentRound=s;break}}if(i!=t.currentRound.id){e.barrageHongbao.changeHbInfo(t);var r=e._ctrl.dataList.qpid;(!t.tipShow[r]&&(t.tipShow[r]={})||!t.tipShow[r][i])&&e.changeTipState(!1)}return t.currentRound}return{}},changeHbChannel:function(e){var t=this;t.dataList.currentRound.id&&t.barrageHongbao.changeHbChannel(e)},resetDataList:function(e){var t=this,a=t.dataList;for(var i in e)a[i]=e[i]},closeWin:function(){var e=this,t=e.dataList;3===t.listenState&&(e.barrageHongbao.pauseFinallyResult(!0,!0),t.listenState=0)},handler_timeUpdate:function(e){var t=this,a=t.dataList;if(a.rounds.length){var i=t.barrageInfo;if(a.current=parseInt(e.data.current||e.data.currentTime/1e3,10),!a.onceFlag&&!a.adTime&&e.data){var n=a.tipRoundId?a.currentRound:t.getCurrentRound();if(n.id&&1===n.timeType&&n.startTs<=+new Date){if(t._ctrl.getConfig().isFilterHongbao)return;var o=a.current;o>n.videoTimeEnd?a.listenState=0:i.isOpen&&o>=n.videoTimeStart&&o<=n.videoTimeEnd?(a.continueDuration<=0&&(a.continueDuration=0),t.barrageHongbao.closeTip(),a.listenState=2,t.timeFlowHb()):2!==a.listenState&&!a.tipShow[t._ctrl.dataList.qpid][n.id]&&n.noticeTimeEnd&&o>=n.noticeTimeStart&&o<=n.noticeTimeEnd&&(a.continueNoticeDuration<=0&&(a.continueNoticeDuration=0),a.listenState=1,t.showTip())}}}},handler_notifyGiftInfo:function(e){var t=this,a=t.dataList;!a.onceFlag&&!t.dataList.hasActivity&&e&&e.data&&e.data.data&&(a.allEvents=e.data.data,t.getEventList())},handler_switchFullScreen:function(e){var t=this,a=t.barrageInfo;a.isFlashFullScreen="true"===e.data,t.currentRound&&t.currentRound.id&&t.barrageHongbao.changeHbChannel(a.isFlashFullScreen)}}})}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n,o=a(2),s=a(3),r=a(61),l=a(0),c=a(1),d={};i.exports=Q.Class("BarrageHongbao",{extend:o,construct:function(e){this.doms=e.doms},properties:{playerType:"flash",width:276,count:1,imageUrl:"",hbArr:[],areaWidth:880,areaHeight:500,hbRatio:1,prizeCount:0,clickCount:0,fullScreen:0,normalWin:1,imgs:{failTip:{width:400,height:400},hbImg:{width:150,height:160}},defaultToast:"本轮红包雨下完啦，谢谢您的参与~",prizeObj:{},dateTime:+new Date,hbResultShow:!0},methods:{createHongbao:function(){var e=this.imgs.hbImg,t=Q('<div class="hb_fallD" style="display: none; position: absolute; top: -'+(e.height+10)+"px; width: "+e.width+"px; height: "+e.height+'px;"><div class="hb_fallD_bg" style="transform: rotate(30deg); background-image: url('+this.hbImg+"); width: "+e.width+"px; height: "+e.height+'px; opacity : 0.9"></div></div>');this.hbArea.append(t)},changeHbChannel:function(e){var t=this;if("boolean"==typeof e&&(t.fullScreen=e),t.hbAnmArea){if(t.hbArea.remove(),"flash"===t.playerType&&t.fullScreen)return;t.hbAnmArea.append('<div id="flake"></div>'),t.hbArea=Q("#flake")}else t.hbAnmArea.append('<div id="flake"></div>'),t.hbArea=Q("#flake");t.changePlayerSize()},changePlayerSize:function(){var e=this;e.createHongbao(),e.areaWidth=e.area.width(),e.areaHeight=e.area.height(),e.hbRatio=e.imgs.hbImg.width/e.imgs.failTip.width*2.8,e.count=Math.floor(e.areaWidth/e.width),e.hbArr=[];var t=e.currentRound;if(t)for(var a=(new Date).getTime(),i=0;i<e.count;i++)e.hbArr.push({flow:a+Math.round(t.fallFreqMin+(t.fallFreqMax-t.fallFreqMin)*Math.random())})},smallWindowChange:function(){var e=this,t=Q("#flashbox.videoWindow").length?0:1;if(t^e.normalWin){if(t){var a=e.ctrl.getListenState();2===a?e.changeHbChannel():3===a&&e.clickCount&&(e.prizeCount?(d.hbWin.removeClass("dn"),d.hbWinbg&&d.hbWinbg.show()):d.notWinning.removeClass("dn"))}else e.hbArea&&(e.hbArea.remove(),e.clickCount&&(e.prizeCount?(d.hbWin.addClass("dn"),d.hbWinbg&&d.hbWinbg.hide()):d.notWinning.addClass("dn")));e.normalWin=t}},showToast:function(){d.toast.html(this.defaultToast),d.toast.show().delay(5e3).fadeOut(1e3)},setHbResultShow:function(e){this.hbResultShow=!e},countDown:function(e,t){var a=this;if(!a.cdSi){var i=Math.floor(e/1e3);d.djsBoxCon.html(i),d.djsBox.removeClass("dn"),a.cdSi=setInterval(function(){e-=1e3,a.ctrl.setContinueDuration(e),i=Math.floor(e/1e3),d.djsBoxCon.html(i),+new Date<t?(a.closeFlowHb(!0),a.ctrl.changeListenState(0)):3===i?d.djsBox.css({animation:"djs-anm 3s steps(6) forwards"}):i<=0&&(d.djsBox.css("animation",""),clearInterval(a.cdSi),a.cdSi=null,a.closeFlowHb(!0),a.ctrl.changeListenState(0),a.hbResultShow&&(a.clickCount?a.showFinallyResult():(a.defaultToast="本轮活动结束，答应我下次要参与呀",a.showToast(),setTimeout(function(){a.ctrl.notifyGift(!1)},6e3))))},1e3)}},pauseFinallyResult:function(e,t){var a=this;a.clickCount&&(e?(a.prizeCount?(d.hbWin.addClass("dn"),d.hbWinbg.hide()):d.notWinning.addClass("dn"),t||(a.defaultToast="稍等片刻，弹窗捉迷藏ing~",a.showToast())):(a.closeToast(),a.prizeCount?(d.hbWin.removeClass("dn"),d.hbWinbg.show()):d.notWinning.removeClass("dn")))},showFinallyResult:function(){var e=this,t=e.ctrl;if(t.changeListenState(3),e.prizeCount){d.clickWinHbCount.html(e.clickCount);var a="",i=0;for(var n in e.prizeObj)if(e.prizeObj.hasOwnProperty(n)){var o=e.prizeObj[n],s=o.pic.replace(/^http:/,"");a+='<li class="hbdm_popNew_jpItem"><div class="jpBox_left"><img src="'+s+'"></div><div class="jpBox_right"><p class="jpBox_title">'+o.name+'</p><div class="jp_logoBox"><img src="'+o.businessLogo+'"><span class="jp_sjTxt">'+o.businessName+'</span></div><div class="barrage-icons jp_nubBox">x'+o.prizeCount+"</div></div></li>",i++}i>=3&&(a+='<li class="hbdm_popNew_jpItem"></li>'),d.ul.html(a),d.hbWin.removeClass("dn"),t._ctrl.initScroll(Q.$(".hbdm_popNew_inner")),d.hbWin.before('<div class="hb_winbg" style="position:absolute;"></div>'),d.hbWinbg=Q(".hb_winbg"),t._ctrl.sendPvPingback("dmredwin",{tm:e.currentRound.eventId+"_"+e.currentRound.id})}else d.clickHbCount.html(e.clickCount),d.notWinning.removeClass("dn"),t._ctrl.sendPvPingback("dmredlose",{tm:e.currentRound.eventId+"_"+e.currentRound.id})},clickResult:function(e){var t=this,a=Q(e).find(".hb_fallD_bg:first");if(a.addClass("hb_fallD_anm01"),!l.isLogin())return Q(e).remove(),void c.openLoginWindow();if(t.clickCount++,void 0!==Q(e).attr("state"))return!1;Q(e).attr("state","1"),Q(e).stop(!0);var i=function(i){setTimeout(function(){var n="";if("A00000"===i.code){var o=i.data.id;t.prizeObj[o]?t.prizeObj[o].prizeCount++:(t.prizeObj[o]=i.data,t.prizeObj[o].prizeCount=1),n='<div class="hb_win"></div>',t.prizeCount++}else n='<div class="hb_lose"></div>';a.after(n),a.next().css({position:"absolute",transform:"scale("+t.hbRatio+")",top:t.imgs.hbImg.height/2-t.imgs.failTip.height/2,left:t.imgs.hbImg.width/2-t.imgs.failTip.width/2,"z-index":1}),a.removeClass("hb_fallD_anm01").addClass("hb_fallD_anm02"),setTimeout(function(){a.removeClass("hb_fallD_anm02"),Q(e).remove()},500)},417)},n=+new Date;if(n-t.dateTime<2e3*Math.random()+1e3)i({code:"B00000"});else{t.dateTime=n;var o=Q.cookie.get("QC005"),s=t.ctrl._ctrl.dataList;"h5"==t.playerType&&(o=Q.cookie.get("QC006"));var r={authCookie:l.getAuthCookies(),udid:o,tvid:s.qpid,albumId:s.aid,channelId:s.cid,roundId:t.roundId,clickTime:n,qypid:s.qypid};t.barrage.openGift(r,function(a){Q(e).stop(),"E00001"===a.code?(t.defaultToast="本轮红包雨下完啦，谢谢您的参与~",t.showToast(),t.closeFlowHb(),t.ctrl.changeListenState(0),t.ctrl.stopEventState(),Q(e).attr("state","0")):i(a)})}},flowHongbao:function(e,t,a){var i=this,n=i.currentRound.fallSpeed,o=i.width*(e+.1+.9*Math.random()),s=i.width*(e+.1+.9*Math.random());i.hbArea.children(":last").css({left:o}).fadeIn().animate({top:i.areaHeight,left:s,opacity:.5},n,"swing",function(){Q(this).remove()}).hover(function(e){Q.event.get(e).preventDefault();var t=this;Q(this).stop(!0);var a=this.offsetTop;!function e(){Q(t).length&&!Q(t).attr("state")&&Q(t).animate({top:a+5},1e3,function(){Q(t).length&&!Q(t).attr("state")&&Q(t).animate({top:a-5},1e3,e)})}()}).click(function(e){Q.event.get(e).preventDefault(),i.ctrl._ctrl.sendClickPingback("608241_redenvelop",{block:"dmredenve",tm:i.currentRound.eventId+"_"+i.currentRound.id}),i.clickResult(this)}).mouseout(function(){var e=this;Q(e).stop(!0),Q(e).attr("state")||Q(e).animate({top:i.areaHeight,left:s,opacity:.8},1e3,"swing",function(){Q(this).remove()})}),i.ctrl._ctrl.sendPvPingback("dmredenve",{tm:i.currentRound.eventId+"_"+i.currentRound.id});var r=i.currentRound,l=a+Math.round(r.fallFreqMin+(r.fallFreqMax-r.fallFreqMin)*Math.random());this.hbArr[e]={flow:l}},setAnimation:function(){!function(){for(var e=0,t=["webkit","moz"],a=0;a<t.length&&!window.requestAnimationFrame;++a)window.requestAnimationFrame=window[t[a]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[a]+"CancelAnimationFrame"]||window[t[a]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var a=(new Date).getTime(),i=Math.max(0,16.7-(a-e)),n=window.setTimeout(function(){t(a+i)},i);return e=a+i,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}()},initFlowHb:function(e){var t=this;t.barrage||(t.barrage=new s);var a=e.currentRound,i=e.continueDuration||a.duration;t.setAnimation();var o=0,r=function(){if(o>59){var e=+new Date;if(a.startTs>e)return t.closeFlowHb(!0),void t.ctrl.changeListenState(0);if(0===a.timeType&&a.endTs<=e)return t.showToast(),void t.closeFlowHb(!0);var i=Math.floor(t.count*Math.random()),s=t.hbArr[i];if(!s)return;e-s.flow>0?(t.createHongbao(),t.flowHongbao(i,t.hbArr[i],e)):e<s.flow-3e3&&t.changeHbChannel(),o=0}o++,n&&window.cancelAnimationFrame(n),n=window.requestAnimationFrame(r)};n=window.requestAnimationFrame(r),t.countDown(i,a.startTs)},closeFlowHb:function(e){var t=this;t.hbArea&&t.hbArea.children().remove(),n&&window.cancelAnimationFrame(n),e&&d.tip&&d.tip.hide(),d.djsBox&&d.djsBox.addClass("dn"),t.ctrl.changeHongbaoStartState(!1)},recoverFlowHb:function(){d.djsBox.removeClass("dn")},pauseFlowHb:function(){var e=this;e.hbArea&&e.hbArea.children().remove(),n&&window.cancelAnimationFrame(n),d.djsBox.addClass("dn"),clearInterval(e.cdSi),e.cdSi=null,e.defaultToast="稍等片刻，红包继续噢~",e.showToast()},preloadImg:function(e,t){var a=this,i=Q.Deferred(),n=e.length;return Q(e).each(function(e,o){var s=new Image;s.src=o.replace(/^http:/,""),s.complete?(t[e]=s,0===e&&(a.imgs.hbImg={width:s.width,height:s.height}),0===--n&&i.resolve()):(s.onload=function(e){return function(){t[e]=s,0===e&&(a.imgs.hbImg={width:s.width,height:s.height}),0===--n&&i.resolve()}}(e),s.onerror=function(){n--,window.console.log("fail to load image")})}),i.promise()},initEvent:function(){var e=this,t=e.ctrl;d.tipclose&&d.tipclose.on("click",function(e){Q.event.get(e).preventDefault(),d.tip.hide(),t.changeListenState(2)});var a=function(a){d.notWinning.addClass("dn"),t._ctrl.sendClickPingback(a,{block:"dmredlose",tm:e.currentRound.eventId+"_"+e.currentRound.id}),t.notifyGift(!1),t.changeListenState(0),e.prizeCount=0,e.clickCount=0},i=function(a){d.hbWin.addClass("dn"),d.hbWinbg.remove(),t._ctrl.sendClickPingback(a,{block:"dmredwin",tm:e.currentRound.eventId+"_"+e.currentRound.id}),e.defaultToast="奖品可在消息中心查看",e.showToast(),t.notifyGift(!1),t.changeListenState(0),e.prizeCount=0,e.clickCount=0};d.popClose&&d.popClose.on("click",function(e){Q.event.get(e).preventDefault(),a("608241_redlose_cls")}),d.jpckBtn&&d.jpckBtn.on("click",function(e){Q.event.get(e).preventDefault(),a("608241_rediknow ")}),d.popWinClose&&d.popWinClose.on("click",function(e){Q.event.get(e).preventDefault(),i("608241_redwin_cls")}),d.jpckWinBtn&&d.jpckWinBtn.on("click",function(e){Q.event.get(e).preventDefault(),i("608241_redtosee")});var n=null;Q.event.on(window,"resize",function(){n&&clearTimeout(n),n=setTimeout(function(){e.changeHbChannel()},100)}),e.changeHbChannel(),Q.$(window).on("scroll",function(){e.smallWindowChange()}),Q.event.customEvent.on("showPlayList_global",function(){e.roundId&&e.hbArea&&e.changeHbChannel()}),Q.event.customEvent.on("hidePlayList_global",function(){e.roundId&&e.hbArea&&e.changeHbChannel()}),Q.event.customEvent.on("login",function(){t.delEventRecord()})},changeHbInfo:function(e){var t=this;t.currentRound=e.currentRound;var a=t.currentRound.pic;a&&(a=a.replace(/^http:/,"")),t.hbImg=a;var i=[t.hbImg,"//www.iqiyipic.com/common/fix/play_hbdmAnm/hb_loseImg.png","//www.iqiyipic.com/common/fix/play_hbdmAnm/hb_winImg.png","//www.iqiyipic.com/common/fix/play_hbdmAnm/hb_winBgImg.png"],n=[];Q.when(t.preloadImg(i,n)).done(function(){t.changeHbChannel(t.fullScreen)}),t.roundId=t.currentRound.id},initDom:function(){if(!d.hbWin){var e=this;"h5"==e.playerType?e.area=Q(".iqp-player"):(e.area=Q("#flashbox"),e.area.css("overflow","hidden")),e.hbArea||(e.area.append('<div class="qy-barrage-redbag-anim">'+r.hongbaoTemplate+'<div id="flake"></div></div>'),e.hbArea=Q("#flake"),e.hbAnmArea=Q(".qy-barrage-redbag-anim")),Q.extend(d,e.ctrl._ctrl.getDoms(Q.$("body"),"data-barrage-hb")),d.djsContainer=Q("#djsContainer"),e.initEvent()}},handler_smallWindow:function(){var e=this;if(d.djsContainer&&d.djsContainer.length>0){"1"==e.ctrl._ctrl.dataList.isSmallWindow?d.djsContainer.addClass("dn"):d.djsContainer.removeClass("dn")}},init:function(e){var t=this;t.ctrl=e.ctrl,t.playerType=e.ctrl._ctrl.dataList.playerType,t.initDom()},showTip:function(e,t){var a=this;d.tipcon.html(e),d.tip.show(),a.tipSt=setTimeout(function(){d.tip.hide(),a.ctrl.changeListenState(2)},t)},closeTip:function(){d.tip&&(d.tip.hide(),clearTimeout(this.tipSt))},closeToast:function(){d.toast&&d.toast.hide()}}})}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){a.exports={hongbaoTemplate:'<div id="djsContainer"><div class="qy-barrage-redbag-time barrage-icons dn" data-barrage-hb="djsBox"><span data-barrage-hb="djsBoxCon"></span><span class="djs_time">s</span></div></div><div class="hbdm_popBox_new qy-barrage-redbag-prize dn" data-barrage-hb="hbWin"><div class="hbdm_popNew_inner"><a href="javascript:void;" class="barrage-icons hbdm_popNew_close" data-barrage-hb="popWinClose"></a><div class="barrage-icons hbdm_popNew_head"></div><div class="hbdm_popNew_con"><div class="hbdm_popNew_title">您一共抽了<span class="hbdm_popNew_red" data-barrage-hb="clickWinHbCount"></span>次，获得：</div><div class="hbdm_popNew_jpBox"><ul class="hbdm_popNew_jpList" data-barrage-hb="ul"></ul><div class="hbdm_popNew_jpShadow"></div><a href="javascript:void(0)" class="dn hbdm_popNew_scrollBar"></a></div><a href="javascript:void(0)" class="barrage-icons hbdm_jpckBtn" data-barrage-hb="jpckWinBtn">立即查看</a></div></div></div><div class="qy-barrage-redbag-notwinning dn" data-barrage-hb="notWinning"><div class="notWinning_inner"><div class="barrage-icons notWinning_head"></div><a href="javascript:void(0)" class="barrage-icons hbdm_popNew_close" data-barrage-hb="popClose"></a><div class="notWinning_con"><h3 class="notWinning_title">很遗憾噢</h3><p class="notWinning_txt">您一共抽了<span class="hbdm_popNew_red" data-barrage-hb="clickHbCount"></span>次，摸摸头安慰下</p><a href="javascript:void(0)" class="barrage-icons hbdm_jpckBtn" data-barrage-hb="jpckBtn">我知道了</a></div></div></div><div class="qy-barrage-redbag-adtips" style="display: none;" data-barrage-hb="toast">红包雨下完了，下次早点来噢~</div>'}}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n,o,s=a(2),r=a(63),l=a(3),c=a(16),d=a(0),u=a(1),h=0,f=!1,p=0,g=30,v=0,m=0,b=!1,y=null,w=0,_="close",C=Q&&Q.PageInfo&&Q.PageInfo.playPageInfo&&Q.PageInfo.playPageInfo.shortVideoPage;Q.PageInfo&&Q.PageInfo.playPageInfo&&Q.PageInfo.playPageInfo.isSource&&Q.PageInfo.playPageInfo.newTmplt,i.exports=Q.Class("BarrageList",{extend:s,construct:function(e){},methods:{init:function(e){var t=this;this.doms={content:Q("#widget-player-barragelist")},t.doms.barrageEar=C?Q('[data-barrage-list="btn"]'):Q.$("#widget-barrageEntrance-btn"),t.ctrl=e,t.qypid=e.dataList.qypid,t.dataObj={},t.data=[],t.dataLen=0,t.dataIndex=1,C&&this.doms.barrageEar.removeClass("dn"),t.addDom=!1,t.firstLoad=!0,t.totalCount=t.totalCount||0,t.videoName="",t.barrageOpen=!1,t.polifill_requestAnimationFrame(),t.bindEvent()},polifill_requestAnimationFrame:function(){var e=0;window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var a=(new Date).getTime(),i=Math.max(0,16.7-(a-e)),n=window.setTimeout(function(){t(a+i)},i);return e=a+i,n})},bindEvent:function(){var e=this,t=e.doms;t&&t.barrageEar&&t.barrageEar.on("click",function(){setTimeout(function(){C&&(t.barrageEar.hasClass("selected")?(_="close",t.barrageEar.removeClass("selected"),t.barrageEar.attr("rseat","80521_listbox_danmu_open")):(_="open",t.barrageEar.addClass("selected"),t.barrageEar.attr("rseat","80521_listbox_danmu_close")),window.sdkPackManager&&window.sdkPackManager.event&&window.sdkPackManager.event.fire({type:"barrageEntrance",data:{status:_}}),window.postMessage({handle:"barrageEntrance",data:{status:_}},window.location.origin)),e.addDom||(e.initDom(),e.addDom=!0),t.closeBtnShow.addClass("dn"),e.firstLoad&&(e.barrageOpen?(t.loading.removeClass("dn"),e.loadData()):(t.loadingMore.addClass("dn"),t.loading.addClass("dn"),t.closeBtnShow.removeClass("dn")))},0)})},initDom:function(){var e=this,t=e.doms;t.content.empty().append(r.barrageListTemplate),Q.extend(t,e.ctrl.getDoms(Q.$(document),"data-barrage-list")),e.bindAppendHtmlEvent()},bindAppendHtmlEvent:function(){var e=this,t=e.doms,a=new l,i=null,s=0,r=function(){t.popup.hasClass("dn")||(i=setTimeout(function(){t.popup.addClass("dn"),Q(".barrage-item.active").removeClass("active")},300))};Q(document).delegate('[data-barrage-list="report"]',"click",function(a){if(Q.event.get(a).preventDefault(),!d.isLogin())return void u.openLoginWindow();i&&clearTimeout(i),m=Q(this).attr("data-index"),e.ctrl.sendClickPingback("608241_report");var n=this.offsetTop;(s!=n||t.popup.hasClass("dn"))&&(s=n,n>145?(t.popup.css("top",n-145+"px"),t.popup.addClass("accusation-popup").removeClass("accusation-popdown dn")):(t.popup.css("top",n+30+"px"),t.popup.addClass("accusation-popdown").removeClass("accusation-popup dn")),Q(this).parent().parent().parent().addClass("active"))}),Q(document).delegate('[data-barrage-list="report"]',"mouseleave",function(e){Q.event.get(e).preventDefault(),r()}),Q(document).delegate('[data-barrage-list="liyi"]',"click",function(t){e.ctrl.sendClickPingback("608241_etiquette")}),t.popup.on("mouseenter",function(e){Q.event.get(e).stopPropagation(),clearTimeout(i)}),t.popup.on("mouseleave",function(e){r()}),t.reportContent.on("click",function(i){var n=Q(i.target),o=e.data[m];a.report({authcookie:d.getAuthCookies(),reportType:n.attr("data-value")||"",reportedid:d.getUid(),reportedUserName:o.sendUid,contentid:o.contentId,tvid:e.tvid,playTime:o.showTime,channelID:e.cid,content:o.content,description:"",reportTime:+new Date,videoName:e.videoName,videoUrl:"",qypid:e.qypid},function(e){r(),"A00000"===e.code?(t.reportSucc.removeClass("dn"),setTimeout(function(){t.reportSucc.addClass("dn")},2e3)):(t.reportFail.removeClass("dn"),setTimeout(function(){t.reportFail.addClass("dn")},2e3))})}),t.flushBtn.on("click",function(a){Q.event.get(a).preventDefault(),e.flushStatus=!0,t.loadingMore.addClass("dn"),t.loading.removeClass("dn");e.loadData(!0)});var c=null;Q.$(window).on("onresize",function(){c&&clearTimeout(c),c=setTimeout(function(){var a=e.doms.content.outerHeight(!1);a!==h&&(h=a,e.doChange(),n=0,o=0,b=!1,y&&(y.reset({contentLength:h}),t.ul.css({"padding-top":0})))},100)})},loadData:function(e){var t=this,a=t.doms;if(!t.barrageOpen)return a.loadingEnd.addClass("dn"),a.closeBtnMoreShow.removeClass("dn"),void(b=!1);if(a.closeBtnMoreShow.hasClass("dn")||a.closeBtnMoreShow.addClass("dn"),t.dataIndex>t.totalCount){if(!t.firstLoad)return;t.initHtml()}t.flushStatus||!t.dataObj[t.dataIndex]?(f=!0,t.loadRequestHandler=setTimeout(function(){t.dataObj[t.dataIndex]=[],t.initHtml()},3e3),t.ctrl.initPlayer.requestBarrageData(t.dataIndex,e)):t.initHtml()},initHtml:function(){var e=this;if(e.doChange(),e.data=e.data.concat(e.dataObj[e.dataIndex]),e.dataLen=e.data.length,w){var t=w>9999?"9999+":w;e.doms.count.html("（共"+t+"条）")}if(e.firstLoad){if(0===e.dataLen)return e.doms.loading.addClass("dn"),e.doms.loadingMore.removeClass("dn"),e.dataIndex=1,void(e.flushStatus=!1);e.firstLoad=!1,p=0,g=e.dataLen<69?e.dataLen:69;var a=e.initDocumentFragment(p,g,!0,!0);e.doms.ul.append(a),v=g,e.initScroll(),e.doms.loading.addClass("dn")}else e.appendNewItems(),e.doms.loadingEnd.addClass("dn");e.dataIndex++},initScroll:function(){var e=this;if(e.ctrl.initScroll(Q.$(".barrage-scroll")),y=c.getScroll("bl")){var t;y.on("moving",function(){t&&clearTimeout(t),t=setTimeout(function(){e.infinityScrollFun()},10)})}},initDocumentFragment:function(e,t,a,i){var n,o,s=document.createDocumentFragment();for(n=e;n<t;n++){var r=this.data[n];o=a&&n===e?Q('<li class="barrage-item first-item" data-items-index="'+n+'"></li>'):i&&n===t-1?Q('<li class="barrage-item last-item" data-items-index="'+n+'"></li>'):Q('<li class="barrage-item" data-items-index="'+n+'"></li>'),r&&r.content&&(Q(o).html('<a href="javascript:;" title="'+r.content+'" class="barrage-item-link"><span class="barrage-time">'+r.time+'</span><span class="barrage-accuse"><span class="accuse-txt" data-barrage-list="report" data-index="'+n+'">举报</span></span><span class="barrage-name">'+r.content+"</span></a>"),s.appendChild(Q(o)[0]))}return s},appendNewItems:function(){var e=this;window.requestAnimationFrame(function(){var t=23;if(g+23>e.dataLen&&0===(t=e.dataLen-g))return void(b=!1);Q(".barrage-item.last-item").removeClass("last-item");var a=0,i=Q(".barrage-item")[t-1];if(i){var n=i.getBoundingClientRect().top,o=e.doms.con[0].getBoundingClientRect().top;a=n>o?o:23*t}var s=e.initDocumentFragment(g,g+t,!1,!0);p+=t,g+=t,Q(".barrage-item").slice(0,t).remove(),Q(".barrage-item").first().addClass("first-item");var r=e.doms.ul,l=r.css("padding-top");l=parseFloat(l.split("px")[0]||0),r.append(s),r.css({"padding-top":l+a}),v<g&&(v=g),y&&y.check(),b=!1})},restorePreItems:function(){var e=this;window.requestAnimationFrame(function(){if(p<=0)return void(b=!1);var t=23;p-23<0&&(t=p),Q(".barrage-item.first-item").removeClass("first-item");var a=e.initDocumentFragment(p-t,p,!0,!1);p-=t,g-=t,Q(".barrage-item.last-item").prevAll().slice(0,t-1).remove(),Q(".barrage-item.last-item").remove(),Q(".barrage-item").last().addClass("last-item");var i=e.doms.ul;i.prepend(a),i.css({"padding-top":0}),y&&y.reset(),b=!1})},infinityScrollFun:function(){var e,t,a=this.doms.con[0].getBoundingClientRect();if(n=a.height,o=a.top,!b)return e=Q(".barrage-item.last-item")[0].getBoundingClientRect().top,(e-=o)<=n?(b=!0,g+23>this.dataLen&&this.dataIndex<=this.totalCount?(this.doms.loadingEnd.removeClass("dn"),void this.loadData()):void this.appendNewItems()):(t=Q(".barrage-item.first-item")[0].getBoundingClientRect().top,t-=o,t>=0?void this.restorePreItems():void 0)},displayHideEar:function(e){if(!C){var t=this.doms;t&&(e?t.barrageEar&&t.barrageEar.show():(t.barrageEar&&t.barrageEar.hide(),t.loadingMore&&t.loadingMore.addClass("dn")))}},doChange:function(){h=this.doms.content.outerHeight(!1)||417;var e=h-64+"px";this.doms.con.height(e)},setTotalZCount:function(e){this.totalCount=e},setData:function(e){this.loadRequestHandler&&clearTimeout(this.loadRequestHandler),w=e.sum>w?e.sum:w;var t=e.data&&e.data.entry?e.data.entry:"",a=[],i=1;if(Q.array.isArray(t)?(i=Math.ceil(t[0]["int"]/300),a=t):Q.object.isObject(t)?(i=Math.ceil(t["int"]/300),a=[t]):i=this.dataIndex,this.dataObj[i]&&this.dataObj[i].length>0)return this.doms.loadingEnd&&this.doms.loadingEnd.addClass("dn"),void(b=!1);var n=[];a.forEach(function(e){var t=Math.floor(e["int"]/3600),a=Math.floor((e["int"]-3600*t)/60),i=e["int"]-3600*t-60*a,o=(t>9?t:"0"+t)+":"+(a>9?a:"0"+a)+":"+(i>9?i:"0"+i);if(Q.array.isArray(e.list.bulletInfo))e.list.bulletInfo.forEach(function(e){var t={};t.time=o,t.content=e.content,t.contentId=e.contentId,t.sendUid=e.userInfo.uid,t.showTime=e.showTime,n.push(t)});else if(Q.object.isObject(e.list.bulletInfo)){var s={},r=e.list.bulletInfo;s.time=o,s.content=r.content,s.contentId=r.contentId,s.sendUid=r.userInfo.uid,s.showTime=r.showTime,n.push(s)}}),this.dataObj[i]=n,this.dataIndex===i&&f&&(f=!1,this.initHtml())},resetData:function(){var e=this;e.dataObj={},e.data=[],e.dataLen=0,e.dataIndex=1,e.firstLoad=!0,e.totalCount=0,e.videoName="",w=0,_="close";var t=e.doms;t&&(t.barrageEar&&t.barrageEar.removeClass("selected"),t.barrageEar&&t.barrageEar.attr("rseat","80521_listbox_danmu_open"),e.displayHideEar(!1),t.content&&t.content.removeClass("barrage-list-show"),t.ul&&(t.count&&t.count.html(""),t.ul.children().remove(),y&&y.reset(),t.ul.css({"padding-top":0})))},rechargeHandler:function(){var e=this.doms.barrageEar[0];this.doms.content.hasClass("barrage-list-show")&&e.click(),this.displayHideEar(!1)},setVideoInfo:function(e){var t=this;t.videoName=e.videoName,t.tvid=e.tvid,t.cid=e.c},showOrHideContent:function(e){var t=this;t.barrageOpen=e;var a=t.doms;e&&t.firstLoad&&a.content.hasClass("barrage-list-show")&&!a.closeBtnShow.hasClass("dn")&&(a.closeBtnShow.addClass("dn"),a.loadingMore.addClass("dn"),a.loading.removeClass("dn"),t.loadData())}}})}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){a.exports={barrageListTemplate:'<div class="barrage-title"><h2 class="header-txt">弹幕列表<span class="header-allnum" data-barrage-list="count"></span></h2><div class="commitment"><a href="http://www.iqiyi.com/danmu/danmuliyi.html" class="commitment-top" target="_blank" data-barrage-list="liyi">弹幕礼仪</a></div></div><div class="barrage-body"><div class="barrage-con barrage-scroll" data-scrollname="bl"><div data-scrollwrap="bl" data-barrage-list="con" style="position:relative;overflow: hidden;float:left;width:100%;"><ul class="barrage-list" data-scrollcontent="bl" data-barrage-list="ul"></ul><div class="accusation-popup dn" data-barrage-list="popup"><a href="javascript:;" class="barrage-item-link"></a><div class="qy-popup-box"><a href="javascript:;" class="barrage-item-link"><div class="popup-box-arrow"><span class="popup-box-arrowOut"><i class="popup-box-arrowIn"></i></span></div></a><div class="accusation-con"><a href="javascript:;" class="barrage-item-link"></a><ul class="accusation-list" data-barrage-list="reportContent"><a href="javascript:;" class="barrage-item-link"></a><li class="accusation-item"><a href="javascript:;" class="accusation-info" data-value="5">引战辱骂</a></li><li class="accusation-item"><a href="javascript:;" class="accusation-info" data-value="4">敏感色情</a></li><li class="accusation-item"><a href="javascript:;" class="accusation-info" data-value="2">剧透</a></li><li class="accusation-item"><a href="javascript:;" class="accusation-info" data-value="3">广告</a></li><li class="accusation-item"><a href="javascript:;" class="accusation-info" data-value="7">其他</a></li></ul></div></div></div><div class="loading-status loading-bottom dn" data-barrage-list="loadingEnd"><img src="//www.iqiyipic.com/common/fix/site-v4/con-loading-black.gif" class="gif-loading">加载中...</div><div class="loading-status loading-bottom dn" data-barrage-list="closeBtnMoreShow">开弹幕才可见我哟</div></div><div class="barrage-scrollbar" id="scrollbar-bl"><div class="scrollbar" style="height: 50px;"></div></div></div></div><p class="loading-status loading-fail dn" data-barrage-list="loadingMore">暂无数据<a href="javascript:;" class="retry" data-barrage-list="flushBtn">刷新</a></p><p class="loading-status loading-fail dn" data-barrage-list="closeBtnShow">开弹幕才可见我哟</p><div class="qy-player-side-loading dn" data-barrage-list="loading"><img src="//www.iqiyipic.com/common/fix/site-v4/con-loading-black.gif" alt="正在加载" class="loading-img"><p class="loading-txt">正在加载…</p></div><div class="accuse-status dn" data-barrage-list="reportSucc">举报成功</div><div class="accuse-status dn" data-barrage-list="reportFail">举报失败</div>'}}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){Q.PageInfo&&Q.PageInfo.playPageInfo&&Q.PageInfo.playPageInfo.isSource&&Q.PageInfo.playPageInfo.newTmplt;window.Q&&Q.PageInfo&&Q.PageInfo.playPageInfo&&Q.PageInfo.playPageInfo.shortVideoPage;a.exports=Q.Class("barrageSwitchDisplayAction",{construct:function(e){this.doms=e.doms,this.dataList=e.dataList,this._ctrl=e,this.player=e.player},methods:{initSwitchEvent:function(){var e=this,t=e.doms,a=e.dataList.barrageInfo,i=!1,n=0,o=0;t.kaiguan&&(t.kaiguan.on("mousedown",function(t){Q.event.get(t).preventDefault(),e._ctrl.sendClickPingback(Q(t.target).data("rseat")),n=t.offsetX||t.layerX,o=t.offsetX||t.layerX,i=!0,e._ctrl.extendConfig({isset:1})}),t.kaiguan.on("mousemove",function(t){if(Q.event.get(t).preventDefault(),!i||0===n)return!1;var a=t.offsetX||t.layerX;a-n>20?(n=0,e.switchBarrageShownStauts(1,"kaiguanX")):a-n<-20&&(n=0,e.switchBarrageShownStauts(0,"kaiguanY"))}),t.kaiguan.on("mouseup",function(t){Q.event.get(t).preventDefault(),i=!1;var s=t.offsetX||t.layerX;Math.abs(s-o)<10&&(a.isOpen=1==a.isOpen?0:1,e.switchBarrageShownStauts(a.isOpen,"mouseup")),n=0,o=0}))},switchBarrageShownStauts:function(e,t){var a=this,i=a.dataList,n=a._ctrl,o=a.doms,s=i.barrageInfo;if("input"==t&&!s.isOpen){if(1!=i.cookieConfig.hadCloseTip){!function(){o.guideTip&&o.guideTip.hide(),o.faceTipWrap&&o.faceTipWrap.hide(),s.hadCloseTips=1,n.extendConfig({hadCloseTip:1})}()}var r={};n.sendClickPingback("140820_tanm",r),n.sendClickPingback("off_sendbox",r)}var l;1==e&&"none"!=o.tucaoBlock.css("display")?(l=!0,n.hongbao.notifyGift(!1)):(l=!1,n.hongbao.notifyGift(!0)),a._ctrl.initPlayer.setBarrageStatus({isOpen:l}),Q.event.customEvent.fire({type:"barrage-switch-self",data:{isOpen:l}}),Promise.all([window.vueAppMounted&&window.vueAppMounted.promise]).then(function(){n.barrageList.showOrHideContent(l)}),s.isOpen=e,n.extendConfig({isOpen:s.isOpen}),1==e?(o.widget.addClass("play-danmuWrap_open"),o.kaiguan.addClass("barrage-switch-open"),o.kaiguantip&&o.kaiguantip.hide()):(o.widget.removeClass("play-danmuWrap_open"),o.kaiguan.removeClass("barrage-switch-open"))},closeBarrage:function(){var e=this,t=e.doms,a=t.barrageTool||t.widget;"short"!=e._ctrl.pageType||t.barrageTool||(a=Q.$("#block-tucaou")||a),a.hide();var i=Q('[data-barrage-dmmask="adfloater"]');i.length>0&&i.removeClass("dn")},sendBarrageShownPingback:function(){this.dataList.shownPingbackFlag&&(this.dataList.shownPingbackFlag=!1,this._ctrl.sendPvPingback("80521_barrage"))},displayHideBarrage:function(e){var t=this,a=t.doms,i=t.dataList,n=i.barrageInfo,o=t._ctrl;if(e=e||{data:{}},e.data){var s=a.barrageTool||a.widget;"short"!=t.pageType||a.barrageTool||(s=Q.$("#block-tucaou")||s),s=Q(s);var r=s.find('[data-barrage-ele="wrap"]'),l=s.find(".danmu-close"),c=Q('[data-barrage-dmmask="adfloater"]');if(o.isPad)return void s.hide();if(e.data.interactVideo)return void("start"==e.data.interactVideo?s.hide():s.show());if(!i.allowPopups)return s.hide(),void(c.length>0&&c.removeClass("dn"));var d=Q.$("#flashArea"),u=e.data.configInfo,h=u.inputBoxEnable,f=u.contentDisplayEnable;if(n.fakeWrite=u.fakeWriteEnable,u.albumid&&(albumId=u.albumid),n.fakeWrite||a.yinxing||("h5"==i.playerType?Q(".iqp-player").append('<div class="qy-barrage-common-tip yinxing" style="display: none;">隐形弹幕发送成功，他人才可见噢！</div>'):Q("#flashbox").append('<div class="qy-barrage-common-tip yinxing" style="display: none;">隐形弹幕发送成功，他人才可见噢！</div>'),a.yinxing=Q(".qy-barrage-common-tip.yinxing")),!o.isSupportUse)return void s.hide();!h&&f?(r&&r.hide(),l&&l.fadeIn(0),d&&"long"==o.pageType&&d.addClass("tucaoWrap"),c.length>0&&c.addClass("dn"),t.sendBarrageShownPingback(),s.fadeIn(0),setTimeout(function(){o.barrageList.displayHideEar(!0)},6e3)):h||f?h&&f&&(c.length&&c.addClass("dn"),r.length&&(Q("body").hasClass("qypage-980")?r.show(function(){Q(this)[0].style.display=""}):r.fadeIn(0)),l.length&&l.fadeIn(0),t.sendBarrageShownPingback(),s.fadeIn(0),setTimeout(function(e){o.barrageList.displayHideEar(!0)},6e3),d&&"long"==o.pageType&&d.addClass("tucaoWrap")):(d&&"long"==o.pageType&&d.removeClass("tucaoWrap"),"short"==o.pageType&&setTimeout(function(){a.widget.removeClass("play-danmuWrap_open"),a.kaiguan.removeClass("barrage-switch-open")},3e3),s.fadeOut(3e3),setTimeout(function(){o.barrageList.displayHideEar(!1)},6e3),c.length>0&&c.removeClass("dn"))}}}})}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(0),o=a(66),s=a(67),r=a(71);Q.PageInfo&&Q.PageInfo.playPageInfo&&Q.PageInfo.playPageInfo.isSource&&Q.PageInfo.playPageInfo.newTmplt,i.exports=Q.Class("configPanel",{construct:function(e){this.doms=e.doms,this.player=e.player,this.dataList=e.dataList,this._ctrl=e,this.panel=new s},methods:{initConfigPanelEvent:function(){this.setDom();var e=this.dataList.barrageInfo;e.isFirstConfigPanel&&(this.bindEvent(),e.isFirstConfigPanel=!1)},setDom:function(){var e=this.doms,t=e.widget;e.Panel=t.down('[data-barrage-panel="panel"]'),e.configBtn=t.down('[data-barrage-config="config"]'),e.configPanel=t.down('[data-barrage-panel="config"]')},showPanel:function(){var e=this,t=e.doms,a=t.Panel&&t.Panel.attr("data-render");t.Panel.attr("data-rendertype");if(!a){t.Panel&&t.Panel.html(o.configTemplate);t.Panel&&t.Panel.attr("data-render",1);var i={ctrl:e._ctrl,widget:t.Panel,configDefault:e.dataList.defaultBulletConfig,playerType:e.dataList.playerType};e.panel.init(i),e.panel.resetConfig(),e.shield=new r(e._ctrl),e.shield.init()}n.getVipType(function(t){var a={block:"140826_dmfc",hu:t||-1};e._ctrl.sendPvPingback("140826_dmfc",a)}),t.configBtn&&t.configBtn.addClass("set-hover"),t.customModule&&t.customModule.addClass("dn"),t.Panel.removeClass("dn"),Q(".j_roleList_panel").addClass("dn"),this.player.setBarrageState({index:0,focus:1})},hidePanel:function(){var e=this.doms;e.configBtn&&e.configBtn.removeClass("set-hover"),e.configPanel.removeClass("tucao-static-open"),e.configPanel.removeClass("tucao-static-open_top"),e.Panel.addClass("dn"),this.player.setBarrageState({index:0,focus:0})},bindEvent:function(){var e=this,t=e.doms,a=0;t.configBtn&&(t.configBtn.on("mouseleave",function(t){Q.event.get(t).toElement&&(clearTimeout(a),a=setTimeout(function(){e.hidePanel()},e.dataList.leaveTime))}),/firefox/i.test(navigator.userAgent)&&t.configBtn.on("mouseout",function(t){clearTimeout(a),a=setTimeout(function(){e.hidePanel()},e.dataList.leaveTime)}),t.configBtn.on("click",function(i){e.dataList.inputStatus.enable&&(Q.event.get(i).preventDefault(),e._ctrl.sendClickPingback("608241_set"),clearTimeout(a),t.configBtn.hasClass("set-hover")?(t.configBtn.removeClass("set-hover"),e.hidePanel()):(e.showPanel(),Q(t.widget).find(".blty-danmu-tip").is(":visible")&&Q(t.widget).find(".blty-danmu-tip").hide()))}),t.configBtn.on("mouseenter",function(i){e.dataList.inputStatus.enable&&(Q.event.get(i).preventDefault(),e._ctrl.sendClickPingback("608241_set"),clearTimeout(a),t.configBtn.hasClass("set-hover")||(e.showPanel(),Q(t.widget).find(".blty-danmu-tip").is(":visible")&&Q(t.widget).find(".blty-danmu-tip").hide()))})),t.Panel&&t.Panel.on("mouseenter",function(e){clearTimeout(a)}),Q.$(document).on("click",function(a){a=Q.event.get(a);var i=Q.$(a.target);t.Panel&&t.configBtn&&(t.Panel.contains(i)||t.configBtn.contains(i)||i[0]!=t.configBtn[0]&&e.hidePanel())}),t.Panel.on("mouseleave",function(t){a=setTimeout(function(){e.hidePanel()},e.dataList.leaveTime)}),Q('[data-barrage-module="custom"]').on("mouseleave",function(t){a=setTimeout(function(){Q('[data-barrage-module="custom"]').addClass("dn"),e.hidePanel()},e.dataList.leaveTime)})},getColor:function(){return this.panel.getColor()},resetDefaultConfig:function(e,t,a,i){this.panel.resetDefaultConfig(e,t,a,i)},resetHostDefaultConfig:function(e){this.panel.resetHostDefaultConfig(e)}}})}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){a.exports={configTemplate:'<div class="barrage-set-con"><div class="barrageSet_bfBox" data-barrage-content="contentPlay"><p class="barrage-set-title">弹幕显示设置</p><div class="set-rol"><div class="set-rol-left">不透明度</div><div class="set-rol-con" data-barrage-content="opacityBtn" style="cursor: pointer;"><div class="bar-b" data-barrage-content="opacity"></div><div class="bar-t" data-barrage-content="opacityLength" style="width:68%;"></div><a href="javascript:void(0)" data-barrage-content="opacityTrigger" class="bar-y" style="left:68%;"></a></div><div class="set-rol-right" data-barrage-content="opacityValue">68%</div></div><div class="set-rol"><div class="set-rol-left">密度</div><div class="set-rol-con" data-barrage-content="densityBtn" style="cursor: pointer;"><div class="bar-b" data-barrage-content="density"></div><div class="bar-t" data-barrage-content="densityLength" style="width:100%;"></div><a href="javascript:void(0)" class="bar-y" data-barrage-content="densityTrigger" style="left:100%;"></a></div><div class="set-rol-right" data-barrage-content="densityValue">120条</div></div><div class="set-rol"><div class="set-rol-left">字号</div><div class="set-rol-con" data-barrage-content="forcedFontSizeBtn" style="cursor: pointer;"><div class="bar-b" data-barrage-content="fontSize"></div><div class="bar-t" data-barrage-content="forcedFontSizeLength" style="width:100%;"></div><a href="javascript:void(0)" class="barrage-icons bar-y" data-barrage-content="forcedFontSizeTrigger" style="left:100%;"></a></div><div class="set-rol-right" data-barrage-content="forcedFontSizeValue">标准</div></div><div class="set-rol"><div class="set-rol-left">速度</div><div class="set-rol-con" data-barrage-content="speedBtn" style="cursor: pointer;"><div class="bar-b" data-barrage-content="speed"></div><div class="bar-t" data-barrage-content="speedLength" style="width:50%;"></div><div class="bar-step"><i class="step-dot step-5-1" data-barrage-speedsize="1"></i><i class="step-dot step-5-2" data-barrage-speedsize="2"></i><i class="step-dot step-5-3" data-barrage-speedsize="3"></i><i class="step-dot step-5-4" data-barrage-speedsize="4"></i><i class="step-dot step-5-5" data-barrage-speedsize="5"></i></div><a href="javascript:void(0)" class="bar-y" data-barrage-content="speedTrigger" style="left:50%;"></a></div><div class="set-rol-right" data-barrage-content="speedValue">标准</div></div></div><div class="barrageSet_pbBox" data-barrage-content="contentShield"><p class="barrage-set-title">设置类型屏蔽</p><ul class="barrage-pb-ul"><li class="barrage-pb-li selected" title="开启后屏幕下方20%的区域不显示弹幕"><div data-barrage-content="proofShield"><div class="pb-link"><i class="qyb-svg qyb-svg-zimu normal-icon"><svg aria-hidden="true" class="qyb-symbol-icon"><use xlink:href="#qyb-zimu"></use></svg></i><i class="shield-icon-box"><i class="qyb-svg qyb-svg-zimu-shield1"><svg aria-hidden="true" class="qyb-symbol-icon"><use xlink:href="#qyb-zimu-shield1"></use></svg></i><i class="qyb-svg qyb-svg-shield qyb-svg-shield-zimu"><svg aria-hidden="true" class="qyb-symbol-icon"><use xlink:href="#qyb-shield"></use></svg></i></i></div><p class="pb-title">字幕区域</p><div></li><li class="barrage-pb-li selected" title="开启后新出现的弹幕均为白色"><div data-barrage-content="isFilterColorFont"><div class="pb-link"><i class="qyb-svg qyb-svg-palette normal-icon"><svg aria-hidden="true" class="qyb-symbol-icon"><use xlink:href="#qyb-palette"></use></svg></i><i class="shield-icon-box"><i class="qyb-svg qyb-svg-palette-shield1"><svg aria-hidden="true" class="qyb-symbol-icon"><use xlink:href="#qyb-palette-shield1"></use></svg></i><i class="qyb-svg qyb-svg-shield qyb-svg-shield-palette"><svg aria-hidden="true" class="qyb-symbol-icon"><use xlink:href="#qyb-shield"></use></svg></i></i></div><p class="pb-title">彩色文字</p><div></li><li class="barrage-pb-li selected" title="开启后新出现的弹幕将不显示图片表情"><div data-barrage-content="isFilterImage"><div class="pb-link"><i class="qyb-svg qyb-svg-biaoqing normal-icon"><svg aria-hidden="true" class="qyb-symbol-icon"><use xlink:href="#qyb-biaoqing"></use></svg></i><i class="shield-icon-box"><i class="qyb-svg qyb-svg-biaoqing-shield1"><svg aria-hidden="true" class="qyb-symbol-icon"><use xlink:href="#qyb-biaoqing-shield1"></use></svg></i><i class="qyb-svg qyb-svg-shield qyb-svg-shield-biaoqing"><svg aria-hidden="true" class="qyb-symbol-icon"><use xlink:href="#qyb-shield"></use></svg></i></i></div><p class="pb-title">图片表情</p><div></li><li class="barrage-pb-li selected" title="开启后才能领取红包弹幕及收到预告提示"><div data-barrage-content="hongbao"><div class="pb-link"><i class="qyb-svg qyb-svg-hongbao normal-icon"><svg aria-hidden="true" class="qyb-symbol-icon"><use xlink:href="#qyb-hongbao"></use></svg></i><i class="shield-icon-box"><i class="qyb-svg qyb-svg-hongbao-shield1"><svg aria-hidden="true" class="qyb-symbol-icon"><use xlink:href="#qyb-hongbao-shield1"></use></svg></i><i class="qyb-svg qyb-svg-shield qyb-svg-shield-hongbao"><svg aria-hidden="true" class="qyb-symbol-icon"><use xlink:href="#qyb-shield"></use></svg></i></i></div><p class="pb-title">红包弹幕</p><div></li></ul></div><div class="barrage-set-bottom"><p class="barrage-set-title link" data-barrage-custom="shield" data-rseat="608241_mask">设置屏蔽词<i class="qyb-svg qyb-svg-r-arr"><svg aria-hidden="true" class="qyb-symbol-icon"><use xlink:href="#qyb-r-arr"></use></svg></i></p><span class="feedback-span" data-barrage-content="feedback" data-rseat="608241_comments_01"><i class="qyb-svg qyb-svg-feedback"><svg aria-hidden="true" class="qyb-symbol-icon"><use xlink:href="#qyb-feedback"></use></svg></i> <em class="feedback-txt">意见反馈</em></span></div></div><div class="barrage-set-bot"><a data-barrage-content="reset" href="javascript:void(0);" class="barrage-set-rest set-rest-act" data-rseat="608241_bofang_reset" title="仅重置当前页面选项">重置</a></div>'}}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(2),o=(a(0),a(11)),s=(a(1),{}),r=a(68),l=(a(12),{.5:"0.5x",1:"1.0x",1.5:"1.5x",2:"2.0x",2.5:"2.5x"});i.exports=Q.Class("BarrageConfigPanel",{extend:n,construct:function(e){},properties:{playerType:"flash",fullScreen:0,color:"FFFFFF",forcedFontSize:100,doms:{},proofShield:1,isFilterImage:0,isFilterColorFont:0,isFilterHongbao:0,opacity:68,speed:1,density:40,curTab:"1",sliderWidth:0,flash:{opacityDefault:{min:10,max:100,size:1,unit:"%"},forcedFontSizeDefault:{min:50,max:200,size:10,unit:"%"},speedDefault:{min:.5,max:2.5,size:.1,unit:"x"},densityDefault:{min:0,max:300,size:5,unit:"条"},configDefault:{color:"FFFFFF",forcedFontSize:100,proofShield:0,isFilterImage:1,isFilterColorFont:1,opacity:78,speed:1,density:40,isFilterHongbao:0}},h5:{opacityDefault:{min:10,max:100,size:1,unit:"%"},forcedFontSizeDefault:{min:70,max:200,size:10,unit:"%"},speedDefault:{min:.5,max:2.5,size:.1,unit:"x"},densityDefault:{min:0,max:300,size:5,unit:"条"},configDefault:{color:"FFFFFF",forcedFontSize:100,proofShield:0,isFilterImage:1,isFilterColorFont:1,opacity:86,speed:1,density:30,isFilterHongbao:0}}},methods:{opMethod:function(){var e=this;return{move:function(t,a,i){var n=e[e.playerType][t+"Default"],o=n.min,r=n.max,l=n.size,c=n.unit,d=parseInt(s[t+"Trigger"].css("left"),10);e.sliderWidth=e.sliderWidth||s[t+"Btn"].width();var u=e.sliderWidth,h=i?a:d+a;h>u-10?h=u-10:h<0&&(h=0);var f=parseInt(h*(r-o)/(u-10)/l,10)*l+o;f=f>r?r:f,f=f<o?o:f,isNaN(f)||("speed"==t&&(f=f.toFixed(1)),s[t+"Value"].html(f+c),e[t]=f,s[t+"Trigger"].css("left",h+"px"),s[t+"Length"].css("width",parseInt(15*h/14,10)+"px"),"opacity"==t?e.changePlayerAttr("alpha","opacity",f):"speed"==t?e.changePlayerAttr("speed","speed",e.mapSpeed(f)):"forcedFontSize"==t&&e.changePlayerAttr("forcedFontSize","forcedFontSize",e.mapFontSize(f)))}}},speedMoveFun:function(e){var t=this,a=0;s["speedBtn"].on("mousedown",function(e){e.preventDefault(),a=1}),s["speedBtn"].on("mouseup",function(e){e.preventDefault(),a=0}),Q(document).on("mouseup",function(e){a=0}),s["speedBtn"].on("mousemove",function(e){e.preventDefault(),a&&(e=Q.event.get(e),Q.$(e.target).attr("data-barrage-content")&&t.speedMove(e))}),s["speedBtn"].on("click",function(e){e.preventDefault(),e=Q.event.get(e),Q.$(e.target).attr("data-barrage-content")&&t.speedMove(e)})},speedMove:function(e){var t=Q('[data-barrage-content="speed"]')[0].getBoundingClientRect(),a=t.width,i=t.left,n=e.clientX,o=n-i,r=o/a,c=Q('[data-barrage-content="speedTrigger"]'),d=Q('[data-barrage-content="speedValue"]'),u=Q('[data-barrage-content="speedLength"]');r<.13?(c.css("left","0%"),d.html(l[.5]),u.css("width","0%"),this.changePlayerAttr("speed","speed",this.mapSpeed(.5))):r>=.13&&r<.37?(c.css("left","25%"),d.html(l[1]),u.css("width","25%"),this.changePlayerAttr("speed","speed",this.mapSpeed(1))):r>=.37&&r<.62?(c.css("left","50%"),d.html(l[1.5]),u.css("width","50%"),this.changePlayerAttr("speed","speed",this.mapSpeed(1.5))):r>=.62&&r<.87?(c.css("left","75%"),d.html(l[2]),u.css("width","75%"),this.changePlayerAttr("speed","speed",this.mapSpeed(2))):(c.css("left","93%"),d.html(l[2.5]),u.css("width","100%"),this.changePlayerAttr("speed","speed",this.mapSpeed(2.5))),s.reset.addClass("set-rest-act"),this.ctrl.sendClickPingback("608241_sudu",{tm:"speed"})},initMoveFun:function(e){var t=this,a=0,i=0,n=t.opMethod().move,o=function(i){if(i=Q.event.get(i),Q.$(i.target).attr("data-barrage-content")){s.reset.addClass("set-rest-act");var o=i.clientX,r=o-a;"speed"==e?t.speedMoveFun(r):n(e,r),a=i.clientX}},r=function(e){var a="";switch(e){case"opacity":a="140826_toumin";break;case"forcedFontSize":a="608241_zihao";break;case"speed":a="608241_sudu";break;case"density":a="608241_midu"}t.ctrl.sendClickPingback(a,{tm:t[e]})},l=s[e+"Btn"];s[e+"Trigger"]&&(l.on("mousemove",function(e){i&&o(e)}),s[e+"Trigger"].on("mousedown",function(e){i=1}),l.on("click",function(o){a=o.offsetX||o.layerX,o=Q.event.get(o),Q(o.target).attr("data-barrage-content")!==e+"Trigger"&&(s.reset.addClass("set-rest-act"),n(e,parseInt(a,10),1),"density"==e?t.changePlayerAttr("density","density",t.density):"forcedFontSize"==e&&t.changePlayerAttr("forcedFontSize","forcedFontSize",t.mapFontSize(t.forcedFontSize)),i||r(e))})),l&&(l.on("mousedown",function(e){e=Q.event.get(e),e.preventDefault(),a=e.clientX}),l.on("mouseup",function(n){a=0,0!==i&&("density"==e?t.changePlayerAttr("density","density",t.density):"forcedFontSize"==e&&t.changePlayerAttr("forcedFontSize","forcedFontSize",t.mapFontSize(t.forcedFontSize)),r(e)),i=0}));var c=function(t){Q.event.get(t).stop();var a=t.wheelDelta||t.detail?t:t.originalEvent,i=a.wheelDelta?a.wheelDelta/120:0-a.detail/3;1==i||i>0?n(e,-1):(-1==i||i<0)&&n(e,1)};l.on("DOMMouseScroll",c.bind(this)),l.on("mousewheel",c.bind(this)),Q(document).on("mouseup",function(a){0!==i&&("density"==e?t.changePlayerAttr("density","density",t.density):"forcedFontSize"==e&&t.changePlayerAttr("forcedFontSize","forcedFontSize",t.mapFontSize(t.forcedFontSize)),r(e)),i=0})},initDom:function(e){e=e||Q.$(document),s.widget=e.down('[data-barrage-panel="panel"]')||e,Q.extend(s,this.ctrl.getDoms(s.widget,"data-barrage-content")),s.danmusetrt=s.widget.down('[data-barrage-wrap="danmusetrt"]')},initEvent:function(){var e=this;s.reset&&s.reset.on("click",function(t){Q.event.get(t).preventDefault(),s.reset.hasClass("set-rest-act")&&(s.reset.removeClass("set-rest-act"),e.resetConfig(!0),e.ctrl.sendClickPingback(Q(this).data("rseat")))}),s.proofShield&&s.proofShield.on("click",function(t){Q.event.get(t).preventDefault(),e.ctrl.sendClickPingback(Q(this).data("rseat")),e.shieldConfig("proofShield",0===e.proofShield?1:0,e.ctrl,"608241_zimufangdang","608241_zimufangdang_cls",1),s.reset.addClass("set-rest-act")}),s.isFilterImage&&s.isFilterImage.on("click",function(t){Q.event.get(t).preventDefault(),e.ctrl.sendClickPingback(Q(this).data("rseat")),e.shieldConfig("isFilterImage",0===e.isFilterImage?1:0,e.ctrl,"608241_picexp","608241_picexp_cls",1),s.reset.addClass("set-rest-act")}),s.isFilterColorFont&&s.isFilterColorFont.on("click",function(t){Q.event.get(t).preventDefault(),e.ctrl.sendClickPingback(Q(this).data("rseat")),e.shieldConfig("isFilterColorFont",0===e.isFilterColorFont?1:0,e.ctrl,"608241_colortext","608241_colortext_cls",1),s.reset.addClass("set-rest-act")}),s.hongbao&&s.hongbao.on("click",function(t){Q.event.get(t).preventDefault(),e.ctrl.sendClickPingback(Q(this).data("rseat")),e.hongbaoConfig(0===e.isFilterHongbao?1:0,e.ctrl,1),s.reset.addClass("set-rest-act")}),s.feedback&&s.feedback.on("click",function(t){Q.event.get(t).preventDefault(),s.feedback.attr("data-render")||(e.feedback=new r(e.ctrl),e.feedback.init(),s.feedback.attr("data-render",1)),e.feedback.showWin(),e.ctrl.sendClickPingback(Q(this).data("rseat"))}),e.initMoveFun("opacity"),e.speedMoveFun("speed"),e.initMoveFun("density"),e.initMoveFun("forcedFontSize"),Q.event.customEvent.on("login",function(){o.isValidVip(function(e){var t=s.ajTipDom;e?(t.attr("title","VIP专属暗金色已上线"),s.color.down("[data-barrage-vipicon]").addClass("dn")):t.attr("title","点击成为VIP，享专属暗金色")})}),Q.event.customEvent.on("logout",function(){s.ajTipDom.attr("title","VIP登录解锁暗金色")}),s.danmusetrt&&s.danmusetrt.on("selectstart",function(e){Q.event.get(e).stop()})},mapFontSize:function(e){return 14+2*e/10-10},mapSpeed:function(e){return Math.round(10/e)},changePlayerAttr:function(e,t,a){var i={},n={isset:1};i[e]=a,n[t]=a,this.ctrl.changePlayerSetting(i),this.ctrl.extendConfig(n)},shieldConfig:function(e,t,a,i,n,o){var r=s[e];1===t?(r.data("rseat",i),r.parent().addClass("selected")):(r.data("rseat",n),r.parent().removeClass("selected"));var l={};l[e]=t,a.changePlayerSetting(l),1===o?(this[e]=t,l["isset"]=1,a.extendConfig(l)):a.extendConfig(l)},hongbaoConfig:function(e,t,a){var i=s.hongbao;1===e?(i.data("rseat","608241_redsee"),i.parent().addClass("selected")):(i.data("rseat","608241_redsee_cls"),i.parent().removeClass("selected"),t.hongbao.changeHongbaoStartState(!1)),1===a?(this.isFilterHongbao=e,t.extendConfig({isFilterHongbao:e}),t.hongbao.closeTip(e)):t.extendConfig({isFilterHongbao:e}),t.hongbao.notifyGift(e)},resetConfig:function(e){var t=this,a=null;try{e?a=t[t.playerType].configDefault:(a=t.ctrl.getConfig(),a.forcedFontSize=5*(a.forcedFontSize-4),a.speed=1),a=a||{};var i=function(e,i,n){s[e]&&(t[e]=0===a[e]?0:a[e]||t[e],t.shieldConfig(e,t[e],t.ctrl,i,n))};i("proofShield","608241_zimufangdang","608241_zimufangdang_cls"),i("isFilterImage","608241_picexp","608241_picexp_cls"),i("isFilterColorFont","608241_colortext","608241_colortext_cls"),s.hongbao&&(t.isFilterHongbao=0===a.isFilterHongbao?0:a.isFilterHongbao||t.isFilterHongbao,t.hongbaoConfig(t.isFilterHongbao,t.ctrl)),t.sliderWidth=t.sliderWidth||s.opacityBtn.width();var n=t.sliderWidth,o=function(e){a[e]=a[e]||t[e];var i=a[e],o=t[t.playerType][e+"Default"];if("speed"==e)s[e+"Value"].html(l[i]),s[e+"Trigger"].css("left",(i-.5)/2*100+"%"),s[e+"Length"].css("width",(i-.5)/2*100+"%");else{s[e+"Value"].html(i+o.unit);var r=parseInt((i-o.min)*(n-10)/(o.max-o.min),10);s[e+"Trigger"].css("left",r+"px"),s[e+"Length"].css("width",parseInt(15*r/14,10)+"px")}};o("opacity"),o("speed"),o("density"),o("forcedFontSize");var r=t.mapFontSize(a.forcedFontSize),c=t.mapSpeed(a.speed);t.ctrl.changePlayerSetting({speed:c,density:a.density,alpha:a.opacity,forcedFontSize:r}),t.ctrl.extendConfig({speed:c,density:a.density,opacity:a.opacity,forcedFontSize:r})}catch(e){}},resetDefaultConfig:function(e,t,a,i){if(this.playerType=i,t&&t.speed&&(this[i].configDefault={color:"FFFFFF",opacity:t.transp,speed:t.speed,density:t.density,forcedFontSize:t.fontSize,isFilterImage:!0===t.emotionFilter?1:0,proofShield:!1===t.avoidBlock?0:1,isFilterColorFont:!0===t.colorFilter?1:0,isFilterHongbao:0}),1!==a)this.setDefaultConfig(e);else{var n=e.getConfig();e.changePlayerSetting({speed:n.speed,density:n.density,alpha:n.opacity,isFilterColorFont:n.isFilterColorFont,proofShield:n.proofShield,forcedFontSize:n.forcedFontSize,isFilterImage:n.isFilterImage})}},resetHostDefaultConfig:function(e){this.color=this[e].configDefault.color},setDefaultConfig:function(e){var t=this.playerType;this.opacity=this[t].configDefault.opacity,this.speed=this[t].configDefault.speed,this.density=this[t].configDefault.density,this.forcedFontSize=this[t].configDefault.forcedFontSize,this.isFilterImage=this[t].configDefault.isFilterImage,this.proofShield=this[t].configDefault.proofShield,this.isFilterColorFont=this[t].configDefault.isFilterColorFont;var a=this.mapFontSize(this.forcedFontSize),i=this.mapSpeed(this.speed);e.extendConfig({speed:i,density:this.density,opacity:this.opacity,isFilterColorFont:this.isFilterColorFont,proofShield:this.proofShield,forcedFontSize:a,isFilterImage:this.isFilterImage}),e.changePlayerSetting({speed:i,density:this.density,alpha:this.opacity,isFilterColorFont:this.isFilterColorFont,proofShield:this.proofShield,forcedFontSize:a,isFilterImage:this.isFilterImage})},init:function(e){this.ctrl=e.ctrl,e.widget&&(this.initDom(e.widget),this.initEvent());var t=this.ctrl.getConfig();0===t.channelConfig&&this.resetDefaultConfig(this.ctrl,{},t.isset,e.playerType)},getColor:function(){return this.color},getSize:function(){return this.size}}})}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(69),o=a(70);i.exports=Q.Class("barrageFeedback",{construct:function(e){this.doms=e.doms,this._ctrl=e;var t=e.dataList;this.playerType=t.playerType},methods:{init:function(){var e=this,t=e.doms;Q("body").append(o.feedBackTemplate),Q.extend(t,e._ctrl.getDoms(Q.$(document),"data-barrage-feedback")),t.fbRadio=Q("[data-barrage-feedtype]"),e.bindEvent()},bindEvent:function(){var e=this,t=e.doms,a=function(){t.fbRadio.removeClass("selected"),Q(t.fbRadio[0]).addClass("selected"),t.fbContent.val(""),t.fbContact.val(""),t.fbCount.html("0/100"),(Q.browser.IE6||Q.browser.IE7||Q.browser.IE8||Q.browser.IE9)&&(t.fbContent.value(" "),t.fbContact.value(" "))},i=function(){t.fbWin.addClass("dn"),a()};if(t.fbClose&&t.fbClose.on("click",function(e){Q.event.get(e).preventDefault(),i()}),t.fbCancel&&t.fbCancel.on("click",function(e){Q.event.get(e).preventDefault(),i()}),t.fbSubmit){var o={1:"弹幕改善建议",2:"无弹幕",3:"弹幕卡顿",4:"弹幕不同步",5:"弹幕其他"};t.fbSubmit.on("click",function(a){Q.event.get(a).preventDefault();var s=new n;s.ticket(function(a){var n=t.fbContact.val(),r="",l="",c="";n&&(n.indexOf("@")>-1?l=n:/^1[0-9]{10}$/.test(n)?r=n:c=n),s.commit({ticket:a,entry_class:"bullet_screen_pcw",fb_class:o[Q("[data-barrage-feedtype].selected").attr("data-barrage-feedtype")],content:t.fbContent.val(),qypid:"h5"==e.playerType?"01010021010000000000":"01010011010000000000",phone:r,qq:c,email:l,format:""},function(e){"A00000"==e.code?(t.feedError.html("提交成功"),i()):t.feedError.html("提交失败"),t.feedError.removeClass("dn"),setTimeout(function(){t.feedError.addClass("dn")},3e3)})}),e._ctrl.sendClickPingback("608241_comments_sub")})}if(t.fbRadio&&t.fbRadio.on("click",function(e){Q.event.get(e).preventDefault();var a=Q(this);t.fbRadio.removeClass("selected"),a.addClass("selected")}),t.fbContent){var s=function(){var e=0,a=function(){setTimeout(function(){t.fbCount.css("color","#FF0000"),setTimeout(function(){t.fbCount.css("color","#999"),e<3&&a()},100)},200),e++};a()},r=function(){var e=t.fbContent.val();e.length>100&&(s(),e=e.substr(0,100),t.fbContent.val(e)),t.fbCount.html(e.length+"/100")};t.fbContent.on("keyup input",function(e){Q.event.get(e).preventDefault(),r()})}t.fbContact&&t.fbContact.on("blur",function(e){Q.event.get(e).preventDefault()}),e.setFbWin()},setFbWin:function(){var e=this,t=e.doms,a=null;a="h5"==e.playerType?Q(".pw-video"):Q("#flashbox"),a.append(t.fbPanel)},showWin:function(){this.doms.fbWin.removeClass("dn")}}})}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(8);i.exports=Q.Class("VfeedbackInterface",{construct:function(){this._remoteInterface=new n({commit:{url:"//feedback.iqiyi.com/f/b/s.html"},ticket:{url:"//feedback.iqiyi.com/f/b/g.html"}})},methods:{commit:function(e,t){this._remoteInterface.send({ifname:"commit",dataType:"jsonp",param:e},function(e){t(e)})},ticket:function(e){this._remoteInterface.send({ifname:"ticket",dataType:"jsonp",param:{format:""}},function(t){"A00000"==t.code&&e(t.data)})}}})}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){a.exports={feedBackTemplate:'<div class="qy-barrage-feed-back" data-barrage-feedback="fbPanel"><div class="feedBack_wInner dn" data-barrage-feedback="fbWin"><div class="feedBack_wHeader"><span>意见反馈</span><a href="javascript:void(0)" class="feedBack_closeBtn" data-barrage-feedback="fbClose"><i class="qyb-svg qyb-svg-close"><svg class="qyb-symbol-icon" aria-hidden="true"><use xlink:href="#qyb-close"></use></svg></i></a></div><div class="feedBack_wCon"><div class="fb_title">反馈类型</div><div class="fb_rebox"><div class="fbBox_item"><a href="javascript:void(0)" class="fb_rideo selected" data-barrage-feedtype="1"><i class="barrage-icons fb-radio-icon"></i>弹幕改善建议</a></div><div class="fbBox_item fbItemW2"><a href="javascript:void(0)" class="fb_rideo" data-barrage-feedtype="2"><i class="barrage-icons fb-radio-icon"></i>无弹幕</a></div><div class="fbBox_item fbItemW3"><a href="javascript:void(0)" class="fb_rideo" data-barrage-feedtype="3"><i class="barrage-icons fb-radio-icon"></i>弹幕卡顿</a></div><div class="fbBox_item"><a href="javascript:void(0)" class="fb_rideo" data-barrage-feedtype="4"><i class="barrage-icons fb-radio-icon"></i>弹幕不同步</a></div><div class="fbBox_item fbItemW2"><a href="javascript:void(0)" class="fb_rideo" data-barrage-feedtype="5"><i class="barrage-icons fb-radio-icon"></i>弹幕其他</a></div></div><div class="fb_title">反馈说明（可选）</div><div class="fb_textareaBox"><textarea placeholder="请填写内容，帮助我们打造更好的体验噢" class="fb_textarea" data-barrage-feedback="fbContent"></textarea><div class="fb_text" data-barrage-feedback="fbCount">0/100</div></div><div class="fb_title">联系方式（可选）</div><div class="fb_lxfsBox"><input type="text" placeholder="请填写手机/QQ/邮箱" class="fb_lxfsInput" data-barrage-feedback="fbContact"></div><div class="fb_btnBox"><a href="javascript:void(0)" class="qy-button-middle fb_submitBtn" data-barrage-feedback="fbSubmit">提交</a><a href="javascript:void(0)" class="qy-button-middle fb_cancelBtn hollow" data-barrage-feedback="fbCancel">取消</a></div></div></div><div class="fb_commitErro dn" data-barrage-feedback="feedError">提交失败</div></div>'}}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,i){var n=a(2),o=a(3),s=a(0),r=a(72),l=a(1);Q.PageInfo&&Q.PageInfo.playPageInfo&&Q.PageInfo.playPageInfo.isSource&&Q.PageInfo.playPageInfo.newTmplt,i.exports=Q.Class("barrageShield",{extend:n,construct:function(e){var t=this;t.doms=e.doms,t.player=e.player,t.ctrl=e},methods:{init:function(){var e=this;e.barrage=new o,e.uid=Q.cookie.get("P00003"),e.initCustomEvent()},initDom:function(){var e=this,t=e.doms;Q.extend(t,e.ctrl.getDoms(t.customModule,"data-barrage-shield")),t.shieldRefresh.on("click",function(t){Q.event.get(t).preventDefault(),e.shieldData("",4)}),t.shieldClose.on("click",function(t){Q.event.get(t).preventDefault(),Q.event.get(t).stopPropagation(),e.hidePanel()}),t.shieldInput.on("click",function(e){Q.event.get(e).preventDefault(),t.shieldTip.hide(),t.shieldStip.hide()}),t.shieldInput.on("focus",function(e){Q(e.currentTarget).parent().addClass("defS_inputActBox")}),t.shieldInput.on("input",function(e){Q.event.get(e).preventDefault(),t.shieldInput.val().trim().length>0?t.shieldAdd.addClass("shiel-btn-act"):t.shieldAdd.removeClass("shiel-btn-act")}),t.shieldInput.on("blur",function(e){Q(e.currentTarget).parent().removeClass("defS_inputActBox")})},showTip:function(e){var t=this,a=t.doms;a.shieldStip.hide(),a.shieldTip.text(e),a.shieldTip.show().delay(1500).fadeOut(500)},noticePlayerShield:function(e){this.ctrl.initPlayer.clearBanWord(),this.ctrl.initPlayer.addBanWord(e.join(","))},shieldData:function(e,t){var a=this,i=a.doms;a.barrage.syncMask({mask:e,action:t,authcookie:s.getAuthCookies()},function(e){if("A00000"!==e.code&&"A00002"!==e.code||!e.data){switch(t){case 2:a.showTip("删除失败，请稍后再试~");break;case 1:a.showTip("添加失败，请稍后再尝试~");break;default:i.shieldRefresh.removeClass("dn"),i.shieldPrompt.addClass("dn"),i.shieldContainer.addClass("dn")}4!==t&&a.shieldData("",4)}else{var n=e.data[a.uid],o=[],s="",r=[];if(i.shieldRefresh.addClass("dn"),0===n.length)i.shieldContainer.addClass("dn"),i.shieldPrompt.removeClass("dn");else{for(var l=0;l<n.length;l++)r[l]=escape(Q.crypto.base64.atob(n[l])),o[l]=decodeURIComponent(r[l]),s+='<li class="shiel-item"><span class="shiel-word">'+o[l]+'</span><a href="javascript: void(0)" class="word-close-box" data-barrage-shield="shieldWord"><i class="qyb-svg qyb-svg-close"><svg aria-hidden="true" class="qyb-symbol-icon"><use xlink:href="#qyb-close"></use></svg></i></a></li>';i.shieldPrompt.addClass("dn"),i.shieldContainer.removeClass("dn")}i.shieldContainer.html(s),i.shieldCount.html("（"+o.length+"/10）"),Q('[data-barrage-shield="shieldWord"]').on("click",function(e){Q.event.get(e).preventDefault(),a.ctrl.sendClickPingback("608241_mask_delete");var t=Q(e.currentTarget).prev().text();a.shieldData(t,2)}),"A00002"===e.code?"Duplicate masks."===e.msg?a.showTip("已有相同内容噢~"):"too many masks."===e.msg&&a.showTip("最多只能输入10个噢~"):1===t&&(i.shieldTip.hide(),i.shieldStip.show().delay(1500).fadeOut(500),i.shieldInput.val(""),(Q.browser.IE6||Q.browser.IE7||Q.browser.IE8||Q.browser.IE9)&&i.shieldInput.val(" "),a.ctrl.sendClickPingback("608241_mask_add")),a.noticePlayerShield(r)}})},showPanel:function(){var e=this,t=e.doms;if(t.Panel.addClass("dn"),t.customModule.removeClass("dn"),!(t.customModule&&t.customModule.attr("data-render"))){t.customModule&&t.customModule.html(r.shieldTemplate),t.customModule&&t.customModule.attr("data-render",1),e.initDom();var a=function(){var a=t.shieldInput.val().trim();if(a.length>5)return void e.showTip("最多只能输入5字符噢~");e.addShield(a)};t.shieldAdd.on("click",function(e){Q.event.get(e).preventDefault(),a()}),t.shieldInput.on("keydown",function(e){Q.event.get(e).stopPropagation(),13==e.keyCode&&a()})}e.shieldData("",4)},hidePanel:function(){var e=this,t=e.doms;t.customModule.addClass("dn"),t.Panel.removeClass("dn"),t.shieldInput.val(""),(Q.browser.IE6||Q.browser.IE7||Q.browser.IE8||Q.browser.IE9)&&t.shieldInput.val(" ")},addShield:function(e){var t=this,a=t.doms;return""===(e=e.replace(/\s+/g,""))?(a.shieldInput.val(""),(Q.browser.IE6||Q.browser.IE7||Q.browser.IE8||Q.browser.IE9)&&a.shieldInput.val(" "),void t.showTip("输入不能为空噢~")):a.shieldContainer.find("li").length>=10?void t.showTip("最多只能输入10个噢~"):(t.shieldData(e,1),void a.shieldAdd.removeClass("shiel-btn-act"))},initCustomEvent:function(){var e=this,t=e.doms;if(t.customShield=t.widget.down('[data-barrage-custom="shield"]'),t.customModule=t.widget.down('[data-barrage-module="custom"]'),!t.customModule)return void t.customShield.addClass("dn");t.customShield&&t.customShield.on("click",function(a){e.ctrl.sendClickPingback(Q(this).data("rseat")),s.isLogin()?(Q.event.get(a).preventDefault(),t.customModule.hasClass("dn")?e.showPanel():e.hidePanel()):l.openLoginWindow()})}}})}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){a.exports={shieldTemplate:'<div class="shiel-head" data-barrage-shield="shieldClose"><i class="qyb-svg qyb-svg-l-arr"><svg aria-hidden="true" class="qyb-symbol-icon"><use xlink:href="#qyb-l-arr"></use></svg></i>返回</div><div class="shiel-inner"><p class="shiel-title">设置屏蔽词<span class="shiel-nub" data-barrage-shield="shieldCount">（0/10)</span></p><div class="shiel-enter-box"><div class="shiel-input"><input type="text" placeholder="最多5个字符，回车可添加" class="input" data-barrage-shield="shieldInput"></div><a href="javascript:;" data-barrage-shield="shieldAdd" title="添加成功后，新出现的弹幕生效" class="shiel-enter-btn">添加</a></div><div class="shiel-con"><div  class="shiel-tips-box"><p class="shiel-erro" data-barrage-shield="shieldTip" style="display: none;"></p><p class="shiel-tips" data-barrage-shield="shieldStip" style="display: none;">添加成功</p></div><div class="shiel-list-box"><ul class="shiel-ul" data-barrage-shield="shieldContainer"></ul><i alt="新加滚动条" class="scrollbar dn"></i></div><div class="shiel-prompt dn" data-barrage-shield="shieldPrompt">添加后将看不到含此屏蔽此的弹幕哦～</div><a class="shiel-refresh-btn dn" data-barrage-shield="shieldRefresh"><i class="qyb-svg qyb-svg-refresh"><svg aria-hidden="true" class="qyb-symbol-icon"><use xlink:href="#qyb-refresh"></use></svg></i>刷新重试</a></div></div>'}}.call(t,a,t,e))&&(e.exports=i)},function(e,t,a){var i;void 0!==(i=function(e,t,a){Q.PageInfo&&Q.PageInfo.playPageInfo&&Q.PageInfo.playPageInfo.isSource&&Q.PageInfo.playPageInfo.newTmplt,a.exports=Q.Class("initPlayer",{construct:function(e){this.doms=e.doms,this.dataList=e.dataList,this.player=e.player,this.panel=e.configPanel,this._ctrl=e,this.startPlay=!1},methods:{initPlayer:function(){var e=this,t=e.dataList,a=e.player,i=e._ctrl,n=i.hongbao;e.dataList.barrageServerSdk?e.barrageServer=e.dataList.barrageServerSdk:e.barrageServer=e.player,e.getVideoInfo(),e.getPlayInfo(),e.getQiyiPlayerType(),e.dataList.barrageServerSdk||(a.on("setHasBarrageConfigInfo",function(t){e.handler_setBarrageControl(t)}),a.getHasBarrageConfigInfo(),a.on("setHasBarrageChannelConfigInfo",function(t){e.handler_setChannelConfig(t)}),a.getHasBarrageChannelConfigInfo(),a.on("notifyBarrageData",function(t){e.handler_setBarrageData(t)})),a.on("setSmallWindowMode",function(t){e._handler_smallWindow(t)}),a.on("dataready",function(t){e.getPlayInfo()}),a.on("barrageStateChange",function(e){i.switchDisplay.switchBarrageShownStauts(e.data.barrageState,"barrageStateChange")}),a.on("afterWebFullScreenChange",function(t){e.handler_afterFullScreenChange({name:"isWebFullScreen",value:t.data,oname:"isFullScreen"})}),a.on("afterFullScreenChange",function(t){e.handler_afterFullScreenChange({name:"isFullScreen",value:t.data,oname:"isWebFullScreen"})}),a.on("switchFullScreen",function(e){n.handler_switchFullScreen(e)}),t.isSupportAnimation&&(a.on("ADStart",function(t){t.data&&(e.dataList.ads[t.data.id]=1),n.hbEventPause()}),a.on("ADEnd",function(t){e.handler_ADEnd(t)}),a.on("notifyGiftInfo",function(t){e.handler_setGiftInfo(t)}),a.getHasBarrageGiftInfo&&a.getHasBarrageGiftInfo(),a.on("timeUpdate",function(e){n.handler_timeUpdate(e)}),a.on("error",function(){n.notifyGift(!0)}),a.on("interactionstart",function(t){e.handler_showOrHideBarrage("start")}),a.on("interactionend",function(t){e.handler_showOrHideBarrage("end")}));var o=!1;Q.event.customEvent.on("afterCloseWindow",function(){o&&(a.resume(),o=!1)}),Q.event.customEvent.on("afterOpenWindow",function(){a.getPlayInfo(function(e){"paused"!==e.currentStatus&&(a.pause(),o=!0)})}),e.bindEvent()},bindEvent:function(){var e=this,t=e.dataList,a=t.barrageInfo,i=e.doms,n=e._ctrl,o=n.hongbao,s=e.player;if(n.initLoginRegSendEvent(),2==n.contentType){var r=function(){i.sendBtn.removeClass("Send-none"),t.inputStatus.sending=!1},l=function(){i.sendBtn.addClass("Send-none"),inputStatus.sending=!0};userInfo.isLogin()?r():l(),e.panel.init({ctrl:n,widget:i.Panel,configDefault:t.defaultBulletConfig,playerType:t.playerType}),Q.event.customEvent.on("logout",function(){l()}),Q.event.customEvent.on("login",function(){r()})}e.panel.resetHostDefaultConfig(t.playerType);var c=function(){i.Panel.removeAttr("data-render"),i.Panel.removeAttr("data-rendertype"),i.customModule&&i.customModule.addClass("dn"),i.fbWin&&i.fbWin.addClass("dn")};Q.event.customEvent.on("logout",function(){c()}),this.player.on("recharge",function(t){e._ctrl.barrageList.rechargeHandler()}),s.on("videoChanged",function(a){n.setInput_changeVideo(a),t.shownPingbackFlag=!0,t.isLoadBarrage=0,t.inputStatus.save=!1,c(),t.qpid=a.data.tvid,t.cid=a.data.c,t.aid=a.data.sid?a.data.sid:a.data.aid,e._ctrl.barrageList.resetData(),e.getPlayInfo(),e.getVideoInfo(),a.data&&a.data.isInteractVideo?e._ctrl.isInteractVideo=!0:e._ctrl.isInteractVideo=!1}),s.on("vidChanged",function(){n.extendConfig({color:"FFFFFF"}),e.panel.resetHostDefaultConfig(t.playerType),a.sendPb=!0,a.isVidChange=!0,e.startPlay=!1,o.resetDataList({startFlow:!1,onceFlag:!1,hasActivity:!1,tipRoundId:0}),o.closeTip(!0),o.notifyGift(!0),o.resetDataList({currentRound:{},rounds:[]}),o.closeWin(),t.isLoadBarrage=0,n.switchDisplay.closeBarrage(),n.initRoleAndFace()}),s.on("liveChannelChanged",function(e){t.inputStatus.save=!1;var a=e.data,i=a.tvID;n.switchDisplay.closeBarrage(),t.qpid=i}),s.on("StartPlay",function(i){e.startPlay=!0,a.isFirstGuideTip&&(n.guideTip(),a.isFirstGuideTip=!1),t.qpid=i.data.tvid||i.tvID,n.sendPvPingback("1409011_dm",{qpid:t.qpid,aid:t.aid}),a.isFullScreen&&e.handler_afterFullScreenChange({name:"isFullScreen",value:!0,oname:"isWebFullScreen"}),e.getPlayInfo()})},getVideoInfo:function(){var e=this;e.player.getVideoInfo(function(t){e._ctrl.changeAdPlaceHolder(t),1!=t.isPopup?(e.dataList.allowPopups=!1,e._ctrl.switchDisplay.displayHideBarrage(t)):e.dataList.allowPopups=!0,e._ctrl.barrageList.setVideoInfo(t)})},getPlayInfo:function(e){var t=this,a=t.dataList;t.player.getPlayInfo(function(i){if(a.qpid=i.tvid||i.tvID||a.qpid,a.cid=i.cid||i.categoryId||a.cid,a.aid=i.albumId||a.aid,i.currentStatus&&a.barrageInfo.isFirstGuideTip&&0!==i.currentStatus.indexOf("ad")&&(a.barrageInfo.isFirstGuideTip=!1,t._ctrl.guideTip()),e){var n=parseInt(i.currentTime,10)-2;n=n>0?n:0,e({playTime:n,tvid:a.qpid})}t._ctrl.barrageList.setTotalZCount(Math.ceil(i.totalDuration/3e5))})},_handler_smallWindow:function(e){var t=e.data.smallMode;this.dataList.isSmallWindow=t,this._ctrl.hongbao.handler_smallWindow()},getQiyiPlayerType:function(){var e=this,t=e.dataList;e.player.getQiyiPlayerType(function(a){a&&(t.playerType=a,e._ctrl.cookieCode="h5"===t.playerType?"QC159":"QC118"),"h5"===t.playerType&&(Q(document).delegate("[data-barrage-login]","click",function(){t.barrageInfo.isFullScreen?e.player.setPlayerFullScreen({isOpen:0}):t.barrageInfo.isWebFullScreen&&e.player.setPlayerWebFullScreen({isOpen:0})}),Q(document).delegate("[data-barrage-reg]","click",function(){t.barrageInfo.isFullScreen?e.player.setPlayerFullScreen({isOpen:0}):t.barrageInfo.isWebFullScreen&&e.player.setPlayerWebFullScreen({isOpen:0})}),Q(document).delegate('[data-barrage-content="feedback"]',"click",function(){t.barrageInfo.isFullScreen&&e.player.setPlayerFullScreen({isOpen:0})}))})},quitFullScreen:function(){var e=this,t=e.dataList,a=t.barrageInfo;"flash"===t.playerType&&a.isFlashFullScreen&&e.player.setPlayerFullScreen({isOpen:0})},handler_ADEnd:function(e){var t=this,a=t.dataList;t.getPlayInfo();e.data&&a.ads[e.data.id]&&delete a.ads[e.data.id],function(e){for(var t in e)return!0;return!1}(a.ads)||t._ctrl.hongbao.hbEventResume()},handler_afterFullScreenChange:function(e){var t=this,a=t.dataList,i=t.doms,n=i.widget,o=a.barrageInfo,s=e.name,r=e.oname,l={isFullScreen:3,isWebFullScreen:2};o[s]=e.value,o[s]?o.mcnt=l[s]:o[r]?o.mcnt=l[r]:o.mcnt=1,!0===o[s]||o[r]?(n.addClass("barrage-full-screen"),i.danmuFsBox||(i.danmuFsBox=Q('[data-player-hook="control"] .blankarea'),i.danmuBox=n.parent()),i.danmuFsBox.length?i.danmuFsBox.append(n):i.danmuFsBox=null):i.danmuBox&&(n.removeClass("barrage-full-screen"),i.danmuBox.append(n)),window.removeEventListener("resize",this.handler_barrageFullScreen),this.doms.blankarea=Q('[data-player-hook="bottomcup"] [data-player-hook="blankarea"]'),this.doms.blankareaWidget=this.doms.blankarea.find("#qyBarrageVue"),e.value?(this.handler_barrageFullScreen(),window.addEventListener("resize",this.handler_barrageFullScreen.bind(this))):(this.doms.blankarea.css("visibility","visible"),window.removeEventListener("resize",this.handler_barrageFullScreen.bind(this))),this.handler_barrageListBtn(e.value),t._ctrl.hongbao.changeHbChannel(o[r]||o[s])},handler_barrageListBtn:function(e){if(window.Q&&Q.PageInfo&&Q.PageInfo.playPageInfo&&Q.PageInfo.playPageInfo.shortVideoPage){var t=Q('[data-barrage-list="btn"]');e?t.addClass("dn"):t.removeClass("dn")}},handler_barrageFullScreen:function(){var e=this;setTimeout(function(){(e.doms.blankarea[0]&&e.doms.blankarea[0].getBoundingClientRect().width)>=(e.doms.blankareaWidget[0]&&e.doms.blankareaWidget[0].getBoundingClientRect().width)+2?e.doms.blankarea.css("visibility","visible"):e.doms.blankarea.css("visibility","hidden")},200)},handler_setGiftInfo:function(e){this._ctrl.hongbao.handler_notifyGiftInfo(e)},handler_setBarrageControl:function(e){var t=this,a=t.dataList,i=t._ctrl,n=a.barrageInfo;if(e&&e.data&&e.data.configInfo&&e.data.configInfo.isI5Custom)i.isI5CustomFlg=!0,i.switchDisplay.closeBarrage(),i.isI5Custom(e.data.configInfo.isI5Custom);else if(i.isI5CustomFlg=!1,i.hideI5Custom(),this.doms.widget.children().removeClass("dn"),window.Q&&Q.PageInfo&&Q.PageInfo.playPageInfo&&Q.PageInfo.playPageInfo.shortVideoPage?Q('[data-barrage-list="btn"]').removeClass("dn"):Q('[data-barrage-list="btn"]').addClass("dn"),e&&e.data&&e.data.configInfo){a.allowPopups=!0;var o=e.data.configInfo,s=o.inputBoxEnable,r=o.contentDisplayEnable;o.playerType&&(a.playerType=o.playerType.toLowerCase(),i.cookieCode="h5"===a.playerType?"QC159":"QC118");var l=i.getConfig();2===a.isLoadBarrage?t.panel.resetDefaultConfig(i,a.defaultBulletConfig,l.isset,a.playerType):0===a.isLoadBarrage&&(t.panel.resetDefaultConfig(i,{},l.isset,a.playerType),i.extendConfig({channelConfig:1})),1===l.isset&&!0===n.sendPb&&(n.isOpen=0===l.isOpen?0:l.isOpen||n.isOpen||0),s||r||(n.isOpen=0),i.barrageInfo=o,i.switchDisplay.displayHideBarrage(e)}else i.hideI5Custom(),n.isOpen=0,i.switchDisplay.closeBarrage(),i.barrageInfo={};i.switchDisplay.switchBarrageShownStauts(n.isOpen,"setBarrageControl"),!0!==n.sendPb||2!==a.isLoadBarrage&&!0!==n.isVidChange||(1===n.isOpen?i.sendClickPingback("608241_opn_default"):i.sendClickPingback("608241_cls_default"),n.sendPb=!1),a.isLoadBarrage=1},handler_setChannelConfig:function(e){function t(){1===o.isOpen?n.sendClickPingback("608241_opn_default"):n.sendClickPingback("608241_cls_default")}var a=this,i=a.dataList,n=a._ctrl,o=i.barrageInfo;i.defaultBulletConfig=e.data.configInfo;var s=i.defaultBulletConfig||{};s&&s.playerType&&(i.playerType=s.playerType.toLowerCase(),n.cookieCode="h5"===i.playerType?"QC159":"QC118");var r=n.getConfig();o.isOpen=0===r.isOpen?0:r.isOpen||o.isOpen||0,1!==r.isset&&(s.speed?(s.speed=parseFloat(s.speed).toFixed(1),o.isOpen=!0===s.switchOn?1:0):o.isOpen=1,1===i.isLoadBarrage?n.switchDisplay.switchBarrageShownStauts(o.isOpen,"handler_setChannelConfig"):n.extendConfig({isOpen:o.isOpen})),1===i.isLoadBarrage?(a.panel.resetDefaultConfig(n,s,r.isset,i.playerType),!0===o.sendPb&&!1===o.isVidChange&&(Q.PageInfo&&Q.PageInfo.playPageInfo&&Q.PageInfo.playPageInfo.videoTemplate?t():setTimeout(function(){t()},1e3),o.sendPb=!1)):(i.isLoadBarrage=2,n.extendConfig({channelConfig:1}))},handler_setBarrageData:function(e){var t=e?e.data.data:{};this._ctrl.barrageList.setData(t)},handler_showOrHideBarrage:function(e){if(this._ctrl.barrageInfo){var t=this._ctrl.barrageInfo.inputBoxEnable,a=this._ctrl.barrageInfo.contentDisplayEnable;t&&a&&this._ctrl.switchDisplay.displayHideBarrage({data:{interactVideo:e}})}},requestBarrageData:function(e,t){this.barrageServer.requestBarrageData(e,t)},setSelfSendBarrageInfo:function(e){this.barrageServer.setSelfSendBarrageInfo(e)},clearBanWord:function(){this.barrageServer.clearBanWord()},addBanWord:function(e){this.barrageServer.addBanWord(e)},setBarrageSetting:function(e){this.barrageServer.setBarrageSetting(e)},setBarrageStatus:function(e){this.barrageServer.setBarrageStatus(e)}}})}.call(t,a,t,e))&&(e.exports=i)},function(t,a,i){var n;void 0!==(n=function(t,a,n){var o=i(0),s=i(3),r=i(1);Q.PageInfo&&Q.PageInfo.playPageInfo&&Q.PageInfo.playPageInfo.isSource&&Q.PageInfo.playPageInfo.newTmplt,n.exports=Q.Class("sendContent",{construct:function(e){var t=this;t.doms=e.doms;t.doms;t.dataList=e.dataList,t._ctrl=e,t.initPlayer=t._ctrl.initPlayer,t.panel=e.configPanel,t.cssList={inputCss:"barrage-input-act",sendCss:"barrage-send-act"}},methods:{init:function(){this.sendContentEvent()},sendContentEvent:function(){var t=this,a=t.doms,i=t.dataList,n=t._ctrl;if(i.inputStatus.enable){var s=a.barrageInput;s.on("focus",function(e){a.inputWrap&&a.inputWrap.addClass(t.cssList.inputCss)}),s.on("mouseenter",function(e){a.inputWrap&&a.inputWrap.addClass(t.cssList.inputCss)}),s.on("mouseleave",function(e){a.inputWrap&&a.inputWrap.removeClass(t.cssList.inputCss)}),s.on("blur",function(e){(Q.browser.IE6||Q.browser.IE7||Q.browser.IE8||Q.browser.IE9)&&""===s.value().trim()&&s.value(""),!1===i.faceclick&&a.inputWrap&&a.inputWrap.removeClass(t.cssList.inputCss)}),a.sendBtn.on("click",function(e){a.sendBtn.hasClass(t.cssList.sendCss)&&(o.isLogin()?(Q.event.get(e).preventDefault(),t.sendContent()):Q.browser.IE6&&r.openLoginWindow())}),s.on("keydown",function(e){Q.event.get(e).stopPropagation(),n.placeholder(s,a.placeholder),t.dataList.selectedRole.hasSelectedRole&&t.roleInput_handler(e),13==e.keyCode?5===i.countdownTime&&a.sendBtn.hasClass(t.cssList.sendCss)&&t.sendContent():i.inputStatus.save||(i.inputStatus.save=!0,t.initPlayer.getPlayInfo(function(e){Q.object.extend(i.barrageInfo,e)}))}),s.on("input",function(e){t.dataList.selectedRole.hasSelectedRole&&t.roleValueChange(e),t.getInputVal_withoutRole().length>50&&t.cannotInputTip(),t.changeCountDown()}),Q.browser.IE8&&(s[0].onpropertychange=function(){t.dataList.selectedRole.hasSelectedRole&&t.roleValueChange(e),t.getInputVal_withoutRole().length>50&&t.cannotInputTip(),t.changeCountDown()}),s.on("click",function(e){n.sendClickPingback(Q(e.target).data("rseat"))}),s.on("mouseup",function(e){var a=Q(this);""!==a.val()&&setTimeout(function(){""===a.val()&&t.changeCountDown()},1)})}},roleValueChange:function(e){var t=(Q.event.get(e).data,this.dataList.selectedRole.roleName),a=new RegExp("^"+t+"："),i=this.doms.barrageInput.value();if(!a.test(i)){for(var n="",o=t+"：",s=0;s<o.length;s++)n+=o[s],s!==o.length-1&&(n+=".*?");var r=new RegExp(n),l=i.replace(r,o);this.doms.barrageInput.value(l)}},roleInput_handler:function(e){var t=this.dataList.selectedRole.roleName,a=new RegExp("^"+t+"："),i=this.doms.barrageInput.value();if(a.test(i)){var n=this.doms.barrageInput[0].selectionStart,o=t.length+1;if(8==e.keyCode){if(n<=o){var s=Q(".j_role_item.selected");this._ctrl.roleBarrageAction.cancelSelecteRole(s),Q.event.get(e).preventDefault()}}else 37!=e.keyCode&&39!=e.keyCode&&n<o&&Q.event.get(e).preventDefault()}},sendContent:function(){var e=this,t=e.doms,a=e.dataList,i=e._ctrl,n=(t.barrageInput,e.getInputVal_withoutRole());if(""===n)return e.cannotInputTip(),e.clearInputVal(),void t.barrageInput.attr("placeholder","发送内容不能为空哦");a.inputStatus.sending||5===a.countdownTime&&i.roleBarrageAction.isScoreBarrage(function(){a.inputStatus.sending=!0,t.sendBtn.removeClass(e.cssList.sendCss),e.showTime(),e.sendBarrage(n),a.inputStatus.save=!1,a.inputStatus.sending=!1,i.sendClickPingback("140730_set",{mcnt:a.barrageInfo.mcnt})})},sendBarrage:function(e){var t,a=this,i=a.doms,n=a.dataList,r=n.barrageInfo,l=a._ctrl;new s;for(var c in n.faceToCode)t=new RegExp(c,"g"),e=e.replace(t,n.faceToCode[c]);var d=Q(i.widget).find(".atsomebody");e.length>50&&(e=e.substring(0,50)),a.initPlayer.getPlayInfo(function(t){var i=t.playTime,s=t.tvid||t.tvID;i=i>0?i:0,r.color=l.roleBarrageAction.getColor(),r.position=0,n.contentType=r.isStar?2:0;var c=Q.cookie.get("QC005");"h5"==n.playerType&&(c=Q.cookie.get("QC006"));var u={tvid:s,appid:21,contentType:n.contentType,color:r.color,position:r.position,play_time:i||0,content:e,authcookie:o.getAuthCookies(),udid:c,showTime:i,is_iqiyi:!0,is_video_page:!0,qypid:n.qypid,categoryId:t.categoryId||""};"living"==n.pageType?(u.business="danmu_live",u.albumid=n.albumId):(u.business="danmu",Q.PageInfo&&Q.PageInfo.playPageInfo&&(u.albumid=Q.PageInfo.playPageInfo.albumId)),u.isReply="false",e=e.trim(),d&&d.length>0&&(u.interceptors=1001,u.reply_uid=Q(".select-option>li.selected").index("ul.select-option li")),u["contentId"]="",a.setRoleParam(u),"2"==u.roleType?l.roleBarrageAction.sendScoreBarrage(function(){a._sendBarrage(u,e)}):a._sendBarrage(u,e)})},sendContentCallback:function(e){var t=this,a=t.doms,i=t.dataList,n=t._ctrl;i.barrageInfo.isOpen||n.switchDisplay.switchBarrageShownStauts(1,"input");var o=Q(a.widget).find(".atsomebody"),s="";o&&o.length>0?(s=Q(a.widget).find(".select-option").find(".selected").find("a").text(),"所有人"===s?t.clearInputVal():(s="@"+s+"：",a.barrageInput.value(s))):t.clearInputVal(),t.changeCountDown(),Q.event.customEvent.fire({type:"barrage-commentsend",data:{}}),e&&"2"==e.roleType&&n.roleBarrageAction.setMyScore()},_sendBarrage:function(e,t){var a=this,i=a.doms,n=a.dataList,o=n.barrageInfo,r=a._ctrl,l=new s;if(o.fakeWrite)a.initPlayer.setSelfSendBarrageInfo(e);else{var c=i.yinxing;c.fadeIn(1e3),c.fadeOut(3e3),c=null}var d=a.getSendParam(e);o.isReal||"living"==n.pageType?a.sendContentCallback():t.length>3?l.send(d,function(e){"A00000"==e.code?a.sendContentCallback(d):(a.clearInputVal(),r.switchDisplay.switchBarrageShownStauts(1,"input"))}):(a.clearInputVal(),r.switchDisplay.switchBarrageShownStauts(1,"input")),o.color=r.roleBarrageAction.getColor(),Q(".j_role_item.selected").length&&r.roleBarrageAction.cancelSelecteRole(Q(".j_role_item.selected")),o.color&&r.extendConfig(o)},getSendParam:function(e){var t=JSON.parse(JSON.stringify(e));return t.userInfo&&(t.userInfo=JSON.stringify(t.userInfo)),t},clearInputVal:function(){if(this.dataList.selectedRole.hasSelectedRole){var e=this.dataList.selectedRole.roleName;this.doms.barrageInput.value(e+"：")}else this.doms.barrageInput.value(""),(Q.browser.IE6||Q.browser.IE7||Q.browser.IE8||Q.browser.IE9)&&this.doms.barrageInput.value(" ");this.doms.barrageInput[0].blur()},getInputVal_withoutRole:function(){var e=this.doms.barrageInput.value().trim();if(this.dataList.selectedRole.hasSelectedRole){var t=this.dataList.selectedRole.roleName,a="^("+t+"：)",i=new RegExp(a);e=e.replace(i,"")}return e},setRoleParam:function(e){var t=this.dataList.playerType,a=this.dataList.isShowRole,i=this.dataList.selectedRole.hasSelectedRole;if("h5"==t&&a&&i){var n=this.dataList.selectedRole.roleName,o=this.dataList.selectedRole.rolePic,s=this.dataList.selectedRole.roleType,r=this.dataList.selectedRole.roleId;e.contentType="8",e.userInfo={name:n,picL:o},e.roleType=s,e.avatar=r}},showTime:function(){var e=this,t=e.doms,a=e.dataList,i=a.countdownTime;if(i<=0)return t.sendBtn.html("发送"),a.countdownTime=5,e.changeCountDown(),void this.doms.inputWrap.removeClass(this.cssList.inputCss);t.sendBtn.html(i+"s"),a.countdownTime-=1,e.sendCountTimer=setTimeout(function(){e.showTime()},1e3)},clearShowTime:function(){this.sendCountTimer&&clearTimeout(this.sendCountTimer),this.doms.sendBtn.html("发送"),this.dataList.countdownTime=5,this.changeCountDown()},changeCountDown:function(){var e,t=this,a=t.doms,i=t.dataList,n=(a.barrageInput,a.limitBtn),o=a.sendBtn,s=a.inputWrap,r=(a.faceBtn,a.roleWidget,this.getInputVal_withoutRole()),l=t.dataList.faceToCode,c=(t.dataList.isShowFace,t.dataList.isShowRole,"barrage-send-act");if(r.length>0)for(var d in l)e=new RegExp(d,"g"),r=r.replace(e,l[d]);5===i.countdownTime&&(r.length>=51?(s.addClass("barrage-limit"),s.addClass("barrage-limit1"),n.addClass("barrage-limit-nub"),n.removeClass("dn"),n.html(Number(50-r.length)),o.removeClass(c)):(s.removeClass("barrage-limit"),s.removeClass("barrage-limit1"),n.removeClass("barrage-limit-nub"),n.html("发送"),0===r.length?o.removeClass(c):o.addClass(c)))},cannotInputTip:function(){var e=this,t=e.doms.inputWrap;e.dataList.inputStatus.sending&&!t||(e.lightTimer&&clearInterval(e.lightTimer),e.lightCounts=0,e.lightTimer=setInterval(function(){if(Q(t).toggleClass("barrage-limit"),++e.lightCounts>6){clearInterval(e.lightTimer);e.getInputVal_withoutRole().length>50?t.addClass("barrage-limit"):t.removeClass("barrage-limit")}},100))}}})}.call(a,i,a,t))&&(t.exports=n)}]);